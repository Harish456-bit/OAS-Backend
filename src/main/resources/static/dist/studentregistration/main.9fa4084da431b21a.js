(self.webpackChunkstudentregistration=self.webpackChunkstudentregistration||[]).push([[179],{219:(Ze,ke,B)=>{"use strict";function E(e){return"function"==typeof e}function ge(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Fe=ge(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ft(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class $e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(E(r))try{r()}catch(o){n=o instanceof Fe?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Pt(o)}catch(s){n=n??[],s instanceof Fe?n=[...n,...s.errors]:n.push(s)}}if(n)throw new Fe(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Pt(n);else{if(n instanceof $e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ft(t,n)}remove(n){const{_finalizers:t}=this;t&&Ft(t,n),n instanceof $e&&n._removeParent(this)}}$e.EMPTY=(()=>{const e=new $e;return e.closed=!0,e})();const Ge=$e.EMPTY;function We(e){return e instanceof $e||e&&"closed"in e&&E(e.remove)&&E(e.add)&&E(e.unsubscribe)}function Pt(e){E(e)?e():e.unsubscribe()}const ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},xt={setTimeout(e,n,...t){const{delegate:r}=xt;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=xt;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ee(e){xt.setTimeout(()=>{const{onUnhandledError:n}=ht;if(!n)throw e;n(e)})}function at(){}const He=j("C",void 0,void 0);function j(e,n,t){return{kind:e,value:n,error:t}}let O=null;function ee(e){if(ht.useDeprecatedSynchronousErrorHandling){const n=!O;if(n&&(O={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=O;if(O=null,t)throw r}}else e()}class Xe extends $e{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,We(n)&&n.add(this)):this.destination=ve}static create(n,t,r){return new _e(n,t,r)}next(n){this.isStopped?q(function U(e){return j("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?q(function Qt(e){return j("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?q(He,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const he=Function.prototype.bind;function mt(e,n){return he.call(e,n)}class oe{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Re(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Re(r)}else Re(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Re(t)}}}class _e extends Xe{constructor(n,t,r){let i;if(super(),E(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ht.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&mt(n.next,o),error:n.error&&mt(n.error,o),complete:n.complete&&mt(n.complete,o)}):i=n}this.destination=new oe(i)}}function Re(e){ht.useDeprecatedSynchronousErrorHandling?function se(e){ht.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=e)}(e):Ee(e)}function q(e,n){const{onStoppedNotification:t}=ht;t&&xt.setTimeout(()=>t(e,n))}const ve={closed:!0,next:at,error:function xe(e){throw e},complete:at},le="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(e){return e}function p(e){return 0===e.length?N:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let F=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function X(e){return e&&e instanceof Xe||function pe(e){return e&&E(e.next)&&E(e.error)&&E(e.complete)}(e)&&We(e)}(t)?t:new _e(t,r,i);return ee(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=W(r))((i,o)=>{const s=new _e({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[le](){return this}pipe(...t){return p(t)(this)}toPromise(t){return new(t=W(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function W(e){var n;return null!==(n=e??ht.Promise)&&void 0!==n?n:Promise}const z=ge(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let de=(()=>{class e extends F{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Me(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new z}next(t){ee(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ee(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ee(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Ge:(this.currentObservers=null,o.push(t),new $e(()=>{this.currentObservers=null,Ft(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new F;return t.source=this,t}}return e.create=(n,t)=>new Me(n,t),e})();class Me extends de{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:Ge}}class H extends de{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function h(e){return E(e?.lift)}function T(e){return n=>{if(h(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function I(e,n,t,r,i){return new Y(e,n,t,r,i)}class Y extends Xe{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){n.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function A(e,n){return T((t,r)=>{let i=0;t.subscribe(I(r,o=>{r.next(e.call(n,o,i++))}))})}function D(e){return this instanceof D?(this.v=e,this):new D(e)}function ct(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Qe(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,l){!function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const cn=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function _n(e){return E(e?.then)}function zr(e){return E(e[le])}function pr(e){return Symbol.asyncIterator&&E(e?.[Symbol.asyncIterator])}function Tn(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Gi=function qr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function zi(e){return E(e?.[Gi])}function ir(e){return function Pe(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(x){r[x]&&(i[x]=function(k){return new Promise(function(te,ie){o.push([x,k,te,ie])>1||a(x,k)})})}function a(x,k){try{!function l(x){x.value instanceof D?Promise.resolve(x.value.v).then(u,m):_(o[0][2],x)}(r[x](k))}catch(te){_(o[0][3],te)}}function u(x){a("next",x)}function m(x){a("throw",x)}function _(x,k){x(k),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield D(t.read());if(i)return yield D(void 0);yield yield D(r)}}finally{t.releaseLock()}})}function S(e){return E(e?.getReader)}function M(e){if(e instanceof F)return e;if(null!=e){if(zr(e))return function V(e){return new F(n=>{const t=e[le]();if(E(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(cn(e))return function $(e){return new F(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(_n(e))return function J(e){return new F(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Ee)})}(e);if(pr(e))return Q(e);if(zi(e))return function R(e){return new F(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(S(e))return function ne(e){return Q(ir(e))}(e)}throw Tn(e)}function Q(e){return new F(n=>{(function Z(e,n){var t,r,i,o;return function ue(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(m){try{u(r.next(m))}catch(_){s(_)}}function l(m){try{u(r.throw(m))}catch(_){s(_)}}function u(m){m.done?o(m.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(m.value).then(a,l)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ct(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function fe(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ae(e,n,t=1/0){return E(n)?ae((r,i)=>A((o,s)=>n(r,o,i,s))(M(e(r,i))),t):("number"==typeof n&&(t=n),T((r,i)=>function re(e,n,t,r,i,o,s,a){const l=[];let u=0,m=0,_=!1;const x=()=>{_&&!l.length&&!u&&n.complete()},k=ie=>u<r?te(ie):l.push(ie),te=ie=>{o&&n.next(ie),u++;let ye=!1;M(t(ie,m++)).subscribe(I(n,Ne=>{i?.(Ne),o?k(Ne):n.next(Ne)},()=>{ye=!0},void 0,()=>{if(ye)try{for(u--;l.length&&u<r;){const Ne=l.shift();s?fe(n,s,()=>te(Ne)):te(Ne)}x()}catch(Ne){n.error(Ne)}}))};return e.subscribe(I(n,k,()=>{_=!0,x()})),()=>{a?.()}}(r,i,e,t)))}function Oe(e=1/0){return ae(N,e)}const it=new F(e=>e.complete());function ze(e){return e[e.length-1]}function Rt(e){return E(ze(e))?e.pop():void 0}function De(e){return function ce(e){return e&&E(e.schedule)}(ze(e))?e.pop():void 0}function Ce(e,n=0){return T((t,r)=>{t.subscribe(I(r,i=>fe(r,e,()=>r.next(i),n),()=>fe(r,e,()=>r.complete(),n),i=>fe(r,e,()=>r.error(i),n)))})}function ft(e,n=0){return T((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function dn(e,n){if(!e)throw new Error("Iterable cannot be null");return new F(t=>{fe(t,n,()=>{const r=e[Symbol.asyncIterator]();fe(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Nt(e,n){return n?function Dn(e,n){if(null!=e){if(zr(e))return function ln(e,n){return M(e).pipe(ft(n),Ce(n))}(e,n);if(cn(e))return function Et(e,n){return new F(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(_n(e))return function Ve(e,n){return M(e).pipe(ft(n),Ce(n))}(e,n);if(pr(e))return dn(e,n);if(zi(e))return function Lt(e,n){return new F(t=>{let r;return fe(t,n,()=>{r=e[Gi](),fe(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>E(r?.return)&&r.return()})}(e,n);if(S(e))return function or(e,n){return dn(ir(e),n)}(e,n)}throw Tn(e)}(e,n):M(e)}function dt(...e){return Nt(e,De(e))}function Zn(e={}){const{connector:n=(()=>new de),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,u=0,m=!1,_=!1;const x=()=>{a?.unsubscribe(),a=void 0},k=()=>{x(),s=l=void 0,m=_=!1},te=()=>{const ie=s;k(),ie?.unsubscribe()};return T((ie,ye)=>{u++,!_&&!m&&x();const Ne=l=l??n();ye.add(()=>{u--,0===u&&!_&&!m&&(a=sr(te,i))}),Ne.subscribe(ye),!s&&u>0&&(s=new _e({next:me=>Ne.next(me),error:me=>{_=!0,x(),a=sr(k,t,me),Ne.error(me)},complete:()=>{m=!0,x(),a=sr(k,r),Ne.complete()}}),M(ie).subscribe(s))})(o)}}function sr(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new _e({next:()=>{r.unsubscribe(),e()}});return M(n(...t)).subscribe(r)}function vn(e,n){return T((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(I(r,l=>{i?.unsubscribe();let u=0;const m=o++;M(e(l,m)).subscribe(i=I(r,_=>r.next(n?n(l,_,m,u++):_),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Lr(e,n){return e===n}function qt(e){for(let n in e)if(e[n]===qt)return n;throw Error("Could not find renamed property on target object.")}function qi(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function An(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(An).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Vo(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Sl=qt({__forward_ref__:qt});function wt(e){return e.__forward_ref__=wt,e.toString=function(){return An(this())},e}function Mt(e){return Bo(e)?e():e}function Bo(e){return"function"==typeof e&&e.hasOwnProperty(Sl)&&e.__forward_ref__===wt}function ao(e){return e&&!!e.\u0275providers}class Ie extends Error{constructor(n,t){super(function Ho(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function lt(e){return"string"==typeof e?e:null==e?"":String(e)}function li(e,n){throw new Ie(-201,!1)}function Vr(e,n){null==e&&function nn(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function vt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ar(e){return{providers:e.providers||[],imports:e.imports||[]}}function xl(e){return op(e,Rl)||op(e,ap)}function op(e,n){return e.hasOwnProperty(n)?e[n]:null}function sp(e){return e&&(e.hasOwnProperty(Qc)||e.hasOwnProperty(mD))?e[Qc]:null}const Rl=qt({\u0275prov:qt}),Qc=qt({\u0275inj:qt}),ap=qt({ngInjectableDef:qt}),mD=qt({ngInjectorDef:qt});var Dt=(()=>((Dt=Dt||{})[Dt.Default=0]="Default",Dt[Dt.Host=1]="Host",Dt[Dt.Self=2]="Self",Dt[Dt.SkipSelf=4]="SkipSelf",Dt[Dt.Optional=8]="Optional",Dt))();let Kc;function gr(e){const n=Kc;return Kc=e,n}function up(e,n,t){const r=xl(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Dt.Optional?null:void 0!==n?n:void li(An(e))}const fn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Qs={},Jc="__NG_DI_FLAG__",Nl="ngTempTokenPath",_D=/\n/gm,cp="__source";let Uo;function Wi(e){const n=Uo;return Uo=e,n}function bD(e,n=Dt.Default){if(void 0===Uo)throw new Ie(-203,!1);return null===Uo?up(e,void 0,n):Uo.get(e,n&Dt.Optional?null:void 0,n)}function _t(e,n=Dt.Default){return(function lp(){return Kc}()||bD)(Mt(e),n)}function nt(e,n=Dt.Default){return _t(e,Ol(n))}function Ol(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ed(e){const n=[];for(let t=0;t<e.length;t++){const r=Mt(e[t]);if(Array.isArray(r)){if(0===r.length)throw new Ie(900,!1);let i,o=Dt.Default;for(let s=0;s<r.length;s++){const a=r[s],l=wD(a);"number"==typeof l?-1===l?i=a.token:o|=l:i=a}n.push(_t(i,o))}else n.push(_t(r))}return n}function Ks(e,n){return e[Jc]=n,e.prototype[Jc]=n,e}function wD(e){return e[Jc]}function Ti(e){return{toString:e}.toString()}var ui=(()=>((ui=ui||{})[ui.OnPush=0]="OnPush",ui[ui.Default=1]="Default",ui))(),Ar=(()=>{return(e=Ar||(Ar={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Ar;var e})();const ci={},Jt=[],Fl=qt({\u0275cmp:qt}),td=qt({\u0275dir:qt}),nd=qt({\u0275pipe:qt}),fp=qt({\u0275mod:qt}),xi=qt({\u0275fac:qt}),Js=qt({__NG_ELEMENT_ID__:qt}),hp=qt({__NG_ENV_ID__:qt});function pp(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function rd(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];gp(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function mp(e){return 3===e||4===e||6===e}function gp(e){return 64===e.charCodeAt(0)}function ea(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||_p(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function _p(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const vp="ng-template";function ED(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==pp(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function yp(e){return 4===e.type&&e.value!==vp}function SD(e,n,t){return n===(4!==e.type||t?e.value:vp)}function MD(e,n,t){let r=4;const i=e.attrs||[],o=function TD(e){for(let n=0;n<e.length;n++)if(mp(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const l=n[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!SD(e,l,t)||""===l&&1===n.length){if(Wr(r))return!1;s=!0}}else{const u=8&r?l:n[++a];if(8&r&&null!==e.attrs){if(!ED(e.attrs,u,t)){if(Wr(r))return!1;s=!0}continue}const _=AD(8&r?"class":l,i,yp(e),t);if(-1===_){if(Wr(r))return!1;s=!0;continue}if(""!==u){let x;x=_>o?"":i[_+1].toLowerCase();const k=8&r?x:null;if(k&&-1!==pp(k,u,0)||2&r&&u!==x){if(Wr(r))return!1;s=!0}}}}else{if(!s&&!Wr(r)&&!Wr(l))return!1;if(s&&Wr(l))continue;s=!1,r=l|1&r}}return Wr(r)||s}function Wr(e){return 0==(1&e)}function AD(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function xD(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function bp(e,n,t=!1){for(let r=0;r<n.length;r++)if(MD(e,n[r],t))return!0;return!1}function wp(e,n){return e?":not("+n.trim()+")":n}function ND(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Wr(s)&&(n+=wp(o,i),i=""),r=s,o=o||!Wr(r);t++}return""!==i&&(n+=wp(o,i)),n}function Br(e){return Ti(()=>{const n=Cp(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ui.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Ar.Emulated,styles:e.styles||Jt,_:null,schemas:e.schemas||null,tView:null,id:""};Ep(t);const r=e.dependencies;return t.directiveDefs=Pl(r,!1),t.pipeDefs=Pl(r,!0),t.id=function HD(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function kD(e){return en(e)||Kn(e)}function LD(e){return null!==e}function _r(e){return Ti(()=>({type:e.type,bootstrap:e.bootstrap||Jt,declarations:e.declarations||Jt,imports:e.imports||Jt,exports:e.exports||Jt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Dp(e,n){if(null==e)return ci;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function At(e){return Ti(()=>{const n=Cp(e);return Ep(n),n})}function vr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function en(e){return e[Fl]||null}function Kn(e){return e[td]||null}function yr(e){return e[nd]||null}function Ir(e,n){const t=e[fp]||null;if(!t&&!0===n)throw new Error(`Type ${An(e)} does not have '\u0275mod' property.`);return t}function Cp(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||ci,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Jt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dp(e.inputs,n),outputs:Dp(e.outputs)}}function Ep(e){e.features?.forEach(n=>n(e))}function Pl(e,n){if(!e)return null;const t=n?yr:kD;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(LD)}const Bn=0,et=1,Vt=2,Cn=3,Xr=4,ta=5,Jn=6,Go=7,On=8,zo=9,lo=10,Bt=11,na=12,Sp=13,qo=14,Fn=15,ra=16,Wo=17,di=18,ia=19,Mp=20,Xi=21,Ri=22,kl=23,Ll=24,Wt=25,id=1,Ap=2,fi=7,Xo=9,er=11;function Tr(e){return Array.isArray(e)&&"object"==typeof e[id]}function br(e){return Array.isArray(e)&&!0===e[id]}function od(e){return 0!=(4&e.flags)}function uo(e){return e.componentOffset>-1}function Bl(e){return 1==(1&e.flags)}function Yr(e){return!!e.template}function sd(e){return 0!=(512&e[Vt])}function co(e,n){return e.hasOwnProperty(xi)?e[xi]:null}let qD=fn.WeakRef??class zD{constructor(n){this.ref=n}deref(){return this.ref}},XD=0,hi=null,Hl=!1;function zn(e){const n=hi;return hi=e,n}class Np{constructor(){this.id=XD++,this.ref=function WD(e){return new qD(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,t]of this.producers){const r=t.producerNode.deref();if(void 0!==r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Hl;Hl=!0;try{for(const[t,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),i?.producers.delete(this.id))}}finally{Hl=n}}producerAccessed(){if(Hl)throw new Error("");if(null===hi)return;let n=hi.producers.get(this.id);void 0===n?(n={consumerNode:hi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:hi.trackingVersion},hi.producers.set(this.id,n),this.consumers.set(hi.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=hi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==hi?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Op=null;function Fp(e){const n=zn(null);try{return e()}finally{zn(n)}}const Pp=()=>{};class KD extends Np{constructor(n,t,r){super(),this.watch=n,this.schedule=t,this.dirty=!1,this.cleanupFn=Pp,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=zn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Pp,this.watch(this.registerOnCleanup)}finally{zn(n)}}cleanup(){this.cleanupFn()}}class JD{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Hr(){return kp}function kp(e){return e.type.prototype.ngOnChanges&&(e.setInput=t3),e3}function e3(){const e=Vp(this),n=e?.current;if(n){const t=e.previous;if(t===ci)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function t3(e,n,t,r){const i=this.declaredInputs[t],o=Vp(e)||function n3(e,n){return e[Lp]=n}(e,{previous:ci,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[i];s[i]=new JD(l&&l.currentValue,n,a===ci),e[r]=n}Hr.ngInherit=!0;const Lp="__ngSimpleChanges__";function Vp(e){return e[Lp]||null}const pi=function(e,n,t){},Bp="svg";function mn(e){for(;Array.isArray(e);)e=e[Bn];return e}function $l(e,n){return mn(n[e])}function wr(e,n){return mn(n[e.index])}function jp(e,n){return e.data[n]}function Yo(e,n){return e[n]}function xr(e,n){const t=n[e];return Tr(t)?t:t[Bn]}function Yi(e,n){return null==n?null:e[n]}function Up(e){e[Wo]=0}function u3(e){1024&e[Vt]||(e[Vt]|=1024,Gp(e,1))}function $p(e){1024&e[Vt]&&(e[Vt]&=-1025,Gp(e,-1))}function Gp(e,n){let t=e[Cn];if(null===t)return;t[ta]+=n;let r=t;for(t=t[Cn];null!==t&&(1===n&&1===r[ta]||-1===n&&0===r[ta]);)t[ta]+=n,r=t,t=t[Cn]}const Tt={lFrame:t1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Wp(){return Tt.bindingsEnabled}function Ae(){return Tt.lFrame.lView}function Zt(){return Tt.lFrame.tView}function Zr(e){return Tt.lFrame.contextLView=e,e[On]}function Qr(e){return Tt.lFrame.contextLView=null,e}function qn(){let e=Xp();for(;null!==e&&64===e.type;)e=e.parent;return e}function Xp(){return Tt.lFrame.currentTNode}function mi(e,n){const t=Tt.lFrame;t.currentTNode=e,t.isParent=n}function fd(){return Tt.lFrame.isParent}function Qo(){return Tt.lFrame.bindingIndex++}function Oi(e){const n=Tt.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function w3(e,n){const t=Tt.lFrame;t.bindingIndex=t.bindingRootIndex=e,pd(n)}function pd(e){Tt.lFrame.currentDirectiveIndex=e}function Kp(){return Tt.lFrame.currentQueryIndex}function gd(e){Tt.lFrame.currentQueryIndex=e}function C3(e){const n=e[et];return 2===n.type?n.declTNode:1===n.type?e[Jn]:null}function Jp(e,n,t){if(t&Dt.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&Dt.Host||(i=C3(o),null===i||(o=o[qo],10&i.type))););if(null===i)return!1;n=i,e=o}const r=Tt.lFrame=e1();return r.currentTNode=n,r.lView=e,!0}function _d(e){const n=e1(),t=e[et];Tt.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function e1(){const e=Tt.lFrame,n=null===e?null:e.child;return null===n?t1(e):n}function t1(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function n1(){const e=Tt.lFrame;return Tt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const r1=n1;function vd(){const e=n1();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ur(){return Tt.lFrame.selectedIndex}function fo(e){Tt.lFrame.selectedIndex=e}function En(){const e=Tt.lFrame;return jp(e.tView,e.selectedIndex)}let s1=!0;function Gl(){return s1}function Zi(e){s1=e}function zl(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:m}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),l&&(e.viewHooks??=[]).push(-t,l),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),null!=m&&(e.destroyHooks??=[]).push(t,m)}}function ql(e,n,t){a1(e,n,3,t)}function Wl(e,n,t,r){(3&e[Vt])===t&&a1(e,n,t,r)}function yd(e,n){let t=e[Vt];(3&t)===n&&(t&=8191,t+=1,e[Vt]=t)}function a1(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let l=void 0!==r?65535&e[Wo]:0;l<s;l++)if("number"==typeof n[l+1]){if(a=n[l],null!=r&&a>=r)break}else n[l]<0&&(e[Wo]+=65536),(a<o||-1==o)&&(x3(e,t,n,l),e[Wo]=(4294901760&e[Wo])+l+2),l++}function l1(e,n){pi(4,e,n);const t=zn(null);try{n.call(e)}finally{zn(t),pi(5,e,n)}}function x3(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[Vt]>>13<e[Wo]>>16&&(3&e[Vt])===n&&(e[Vt]+=8192,l1(a,o)):l1(a,o)}const Ko=-1;class aa{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function u1(e){return e!==Ko}function Xl(e){return 32767&e}function Yl(e,n){let t=function F3(e){return e>>16}(e),r=n;for(;t>0;)r=r[qo],t--;return r}let wd=!0;function Zl(e){const n=wd;return wd=e,n}const c1=255,d1=5;let P3=0;const gi={};function Ql(e,n){const t=f1(e,n);if(-1!==t)return t;const r=n[et];r.firstCreatePass&&(e.injectorIndex=n.length,Dd(r.data,e),Dd(n,null),Dd(r.blueprint,null));const i=Cd(e,n),o=e.injectorIndex;if(u1(i)){const s=Xl(i),a=Yl(i,n),l=a[et].data;for(let u=0;u<8;u++)n[o+u]=a[s+u]|l[s+u]}return n[o+8]=i,o}function Dd(e,n){e.push(0,0,0,0,0,0,0,0,n)}function f1(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Cd(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=y1(i),null===r)return Ko;if(t++,i=i[qo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ko}function Ed(e,n,t){!function k3(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Js)&&(r=t[Js]),null==r&&(r=t[Js]=P3++);const i=r&c1;n.data[e+(i>>d1)]|=1<<i}(e,n,t)}function h1(e,n,t){if(t&Dt.Optional||void 0!==e)return e;li()}function p1(e,n,t,r){if(t&Dt.Optional&&void 0===r&&(r=null),!(t&(Dt.Self|Dt.Host))){const i=e[zo],o=gr(void 0);try{return i?i.get(n,r,t&Dt.Optional):up(n,r,t&Dt.Optional)}finally{gr(o)}}return h1(r,0,t)}function m1(e,n,t,r=Dt.Default,i){if(null!==e){if(2048&n[Vt]&&!(r&Dt.Self)){const s=function j3(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[Vt]&&!(512&s[Vt]);){const a=g1(o,s,t,r|Dt.Self,gi);if(a!==gi)return a;let l=o.parent;if(!l){const u=s[Mp];if(u){const m=u.get(t,gi,r);if(m!==gi)return m}l=y1(s),s=s[qo]}o=l}return i}(e,n,t,r,gi);if(s!==gi)return s}const o=g1(e,n,t,r,gi);if(o!==gi)return o}return p1(n,t,r,i)}function g1(e,n,t,r,i){const o=function B3(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Js)?e[Js]:void 0;return"number"==typeof n?n>=0?n&c1:H3:n}(t);if("function"==typeof o){if(!Jp(n,e,r))return r&Dt.Host?h1(i,0,r):p1(n,t,r,i);try{const s=o(r);if(null!=s||r&Dt.Optional)return s;li()}finally{r1()}}else if("number"==typeof o){let s=null,a=f1(e,n),l=Ko,u=r&Dt.Host?n[Fn][Jn]:null;for((-1===a||r&Dt.SkipSelf)&&(l=-1===a?Cd(e,n):n[a+8],l!==Ko&&v1(r,!1)?(s=n[et],a=Xl(l),n=Yl(l,n)):a=-1);-1!==a;){const m=n[et];if(_1(o,a,m.data)){const _=V3(a,n,t,s,r,u);if(_!==gi)return _}l=n[a+8],l!==Ko&&v1(r,n[et].data[a+8]===u)&&_1(o,a,n)?(s=m,a=Xl(l),n=Yl(l,n)):a=-1}}return i}function V3(e,n,t,r,i,o){const s=n[et],a=s.data[e+8],m=Kl(a,s,t,null==r?uo(a)&&wd:r!=s&&0!=(3&a.type),i&Dt.Host&&o===a);return null!==m?ho(n,s,m,a):gi}function Kl(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,l=e.directiveStart,m=o>>20,x=i?a+m:e.directiveEnd;for(let k=r?a:a+m;k<x;k++){const te=s[k];if(k<l&&t===te||k>=l&&te.type===t)return k}if(i){const k=s[l];if(k&&Yr(k)&&k.type===t)return l}return null}function ho(e,n,t,r){let i=e[t];const o=n.data;if(function R3(e){return e instanceof aa}(i)){const s=i;s.resolving&&function Xs(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Yt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():lt(e)}(o[t]));const a=Zl(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?gr(s.injectImpl):null;Jp(e,r,Dt.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function T3(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=kp(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==l&&gr(l),Zl(a),s.resolving=!1,r1()}}return i}function _1(e,n,t){return!!(t[n+(e>>d1)]&1<<e)}function v1(e,n){return!(e&Dt.Self||e&Dt.Host&&n)}class Jo{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return m1(this._tNode,this._lView,n,Ol(r),t)}}function H3(){return new Jo(qn(),Ae())}function Wn(e){return Ti(()=>{const n=e.prototype.constructor,t=n[xi]||Sd(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[xi]||Sd(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sd(e){return Bo(e)?()=>{const n=Sd(Mt(e));return n&&n()}:co(e)}function y1(e){const n=e[et],t=n.type;return 2===t?n.declTNode:1===t?e[Jn]:null}const ts="__parameters__";function rs(e,n,t){return Ti(()=>{const r=function Md(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(l,u,m){const _=l.hasOwnProperty(ts)?l[ts]:Object.defineProperty(l,ts,{value:[]})[ts];for(;_.length<=m;)_.push(null);return(_[m]=_[m]||[]).push(s),l}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function ca(e,n){e.forEach(t=>Array.isArray(t)?ca(t,n):n(t))}function w1(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function eu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Rr(e,n,t){let r=is(e,n);return r>=0?e[1|r]=t:(r=~r,function q3(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Ad(e,n){const t=is(e,n);if(t>=0)return e[1|t]}function is(e,n){return function D1(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const nu=Ks(rs("Optional"),8),ru=Ks(rs("SkipSelf"),4);function au(e){return 128==(128&e.flags)}var Dr=(()=>((Dr=Dr||{})[Dr.Important=1]="Important",Dr[Dr.DashCase=2]="DashCase",Dr))();const Od=new Map;let gC=0;const Pd="__ngContext__";function tr(e,n){Tr(n)?(e[Pd]=n[ia],function vC(e){Od.set(e[ia],e)}(n)):e[Pd]=n}let kd;function Ld(e,n){return kd(e,n)}function pa(e){const n=e[Cn];return br(n)?n[Cn]:n}function U1(e){return G1(e[na])}function $1(e){return G1(e[Xr])}function G1(e){for(;null!==e&&!br(e);)e=e[Xr];return e}function as(e,n,t,r,i){if(null!=r){let o,s=!1;br(r)?o=r:Tr(r)&&(s=!0,r=r[Bn]);const a=mn(r);0===e&&null!==t?null==i?Y1(n,t,a):po(n,t,a,i||null,!0):1===e&&null!==t?po(n,t,a,i||null,!0):2===e?function hu(e,n,t){const r=du(e,n);r&&function LC(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function HC(e,n,t,r,i){const o=t[fi];o!==mn(t)&&as(n,e,r,o,i);for(let a=er;a<t.length;a++){const l=t[a];ga(l[et],l,e,n,r,o)}}(n,e,o,t,i)}}function cu(e,n,t){return e.createElement(n,t)}function q1(e,n){const t=e[Xo],r=t.indexOf(n);$p(n),t.splice(r,1)}function Bd(e,n){if(e.length<=er)return;const t=er+n,r=e[t];if(r){const i=r[ra];null!==i&&i!==e&&q1(i,r),n>0&&(e[t-1][Xr]=r[Xr]);const o=eu(e,er+n);!function TC(e,n){ga(e,n,n[Bt],2,null,null),n[Bn]=null,n[Jn]=null}(r[et],r);const s=o[di];null!==s&&s.detachView(o[et]),r[Cn]=null,r[Xr]=null,r[Vt]&=-129}return r}function W1(e,n){if(!(256&n[Vt])){const t=n[Bt];n[kl]?.destroy(),n[Ll]?.destroy(),t.destroyNode&&ga(e,n,t,3,null,null),function NC(e){let n=e[na];if(!n)return Hd(e[et],e);for(;n;){let t=null;if(Tr(n))t=n[na];else{const r=n[er];r&&(t=r)}if(!t){for(;n&&!n[Xr]&&n!==e;)Tr(n)&&Hd(n[et],n),n=n[Cn];null===n&&(n=e),Tr(n)&&Hd(n[et],n),t=n&&n[Xr]}n=t}}(n)}}function Hd(e,n){if(!(256&n[Vt])){n[Vt]&=-129,n[Vt]|=256,function kC(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof aa)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],l=o[s+1];pi(4,a,l);try{l.call(a)}finally{pi(5,a,l)}}else{pi(4,i,o);try{o.call(i)}finally{pi(5,i,o)}}}}}(e,n),function PC(e,n){const t=e.cleanup,r=n[Go];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[Go]=null);const i=n[Xi];if(null!==i){n[Xi]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[et].type&&n[Bt].destroy();const t=n[ra];if(null!==t&&br(n[Cn])){t!==n[Cn]&&q1(t,n);const r=n[di];null!==r&&r.detachView(e)}!function yC(e){Od.delete(e[ia])}(n)}}function jd(e,n,t){return function X1(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[Bn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Ar.None||o===Ar.Emulated)return null}return wr(r,t)}}(e,n.parent,t)}function po(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Y1(e,n,t){e.appendChild(n,t)}function Z1(e,n,t,r,i){null!==r?po(e,n,t,r,i):Y1(e,n,t)}function du(e,n){return e.parentNode(n)}let Ud,qd,J1=function K1(e,n,t){return 40&e.type?wr(e,t):null};function fu(e,n,t,r){const i=jd(e,r,n),o=n[Bt],a=function Q1(e,n,t){return J1(e,n,t)}(r.parent||n[Jn],r,n);if(null!=i)if(Array.isArray(t))for(let l=0;l<t.length;l++)Z1(o,i,t[l],a,!1);else Z1(o,i,t,a,!1);void 0!==Ud&&Ud(o,r,n,t,i)}function ma(e,n){if(null!==n){const t=n.type;if(3&t)return wr(n,e);if(4&t)return $d(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return ma(e,r);{const i=e[n.index];return br(i)?$d(-1,i):mn(i)}}if(32&t)return Ld(n,e)()||mn(e[n.index]);{const r=tm(e,n);return null!==r?Array.isArray(r)?r[0]:ma(pa(e[Fn]),r):ma(e,n.next)}}return null}function tm(e,n){return null!==n?e[Fn][Jn].projection[n.projection]:null}function $d(e,n){const t=er+e+1;if(t<n.length){const r=n[t],i=r[et].firstChild;if(null!==i)return ma(r,i)}return n[fi]}function Gd(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],l=t.type;if(s&&0===n&&(a&&tr(mn(a),r),t.flags|=2),32!=(32&t.flags))if(8&l)Gd(e,n,t.child,r,i,o,!1),as(n,e,i,a,o);else if(32&l){const u=Ld(t,r);let m;for(;m=u();)as(n,e,i,m,o);as(n,e,i,a,o)}else 16&l?rm(e,n,r,t,i,o):as(n,e,i,a,o);t=s?t.projectionNext:t.next}}function ga(e,n,t,r,i,o){Gd(t,r,e.firstChild,n,i,o,!1)}function rm(e,n,t,r,i,o){const s=t[Fn],l=s[Jn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)as(n,e,i,l[u],o);else{let u=l;const m=s[Cn];au(r)&&(u.flags|=128),Gd(e,n,u,m,i,o,!0)}}function im(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function om(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&rd(e,n,r),null!==i&&im(e,n,i),null!==o&&function UC(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}class um{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Qi(e){return e instanceof um?e.changingThisBreaksApplicationSecurity:e}class ot{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=vt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const wa=new ot("ENVIRONMENT_INITIALIZER"),ym=new ot("INJECTOR",-1),bm=new ot("INJECTOR_DEF_TYPES");class wm{get(n,t=Qs){if(t===Qs){const r=new Error(`NullInjectorError: No provider for ${An(n)}!`);throw r.name="NullInjectorError",r}return t}}function mE(...e){return{\u0275providers:Dm(0,e),\u0275fromNgModule:!0}}function Dm(e,...n){const t=[],r=new Set;let i;return ca(n,o=>{const s=o;Jd(s,t,[],r)&&(i||=[],i.push(s))}),void 0!==i&&Cm(i,t),t}function Cm(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];ef(i,o=>{n.push(o)})}}function Jd(e,n,t,r){if(!(e=Mt(e)))return!1;let i=null,o=sp(e);const s=!o&&en(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const l=e.ngModule;if(o=sp(l),!o)return!1;i=l}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of l)Jd(u,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{ca(o.imports,m=>{Jd(m,n,t,r)&&(u||=[],u.push(m))})}finally{}void 0!==u&&Cm(u,n)}if(!a){const u=co(i)||(()=>new i);n.push({provide:i,useFactory:u,deps:Jt},{provide:bm,useValue:i,multi:!0},{provide:wa,useValue:()=>_t(i),multi:!0})}const l=o.providers;null==l||a||ef(l,m=>{n.push(m)})}}return i!==e&&void 0!==e.providers}function ef(e,n){for(let t of e)ao(t)&&(t=t.\u0275providers),Array.isArray(t)?ef(t,n):n(t)}const gE=qt({provide:String,useValue:qt});function tf(e){return null!==e&&"object"==typeof e&&gE in e}function mo(e){return"function"==typeof e}const nf=new ot("Set Injector scope."),_u={},vE={};let rf;function vu(){return void 0===rf&&(rf=new wm),rf}class _i{}class sf extends _i{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lf(n,s=>this.processProvider(s)),this.records.set(ym,us(void 0,this)),i.has("environment")&&this.records.set(_i,us(void 0,this));const o=this.records.get(nf);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bm.multi,Jt,Dt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Wi(this),r=gr(void 0);try{return n()}finally{Wi(t),gr(r)}}get(n,t=Qs,r=Dt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(hp))return n[hp](this);r=Ol(r);const i=Wi(this),o=gr(void 0);try{if(!(r&Dt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const l=function CE(e){return"function"==typeof e||"object"==typeof e&&e instanceof ot}(n)&&xl(n);a=l&&this.injectableDefInScope(l)?us(af(n),_u):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&Dt.Self?vu():this.parent).get(n,t=r&Dt.Optional&&t===Qs?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Nl]=s[Nl]||[]).unshift(An(n)),i)throw s;return function DD(e,n,t,r){const i=e[Nl];throw n[cp]&&i.unshift(n[cp]),e.message=function CD(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=An(n);if(Array.isArray(n))i=n.map(An).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):An(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(_D,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Nl]=null,e}(s,n,"R3InjectorError",this.source)}throw s}finally{gr(o),Wi(i)}}resolveInjectorInitializers(){const n=Wi(this),t=gr(void 0);try{const r=this.get(wa.multi,Jt,Dt.Self);for(const i of r)i()}finally{Wi(n),gr(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(An(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(n){let t=mo(n=Mt(n))?n:Mt(n&&n.provide);const r=function bE(e){return tf(e)?us(void 0,e.useValue):us(Mm(e),_u)}(n);if(mo(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=us(void 0,_u,!0),i.factory=()=>ed(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===_u&&(t.value=vE,t.value=t.factory()),"object"==typeof t.value&&t.value&&function DE(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=Mt(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function af(e){const n=xl(e),t=null!==n?n.factory:co(e);if(null!==t)return t;if(e instanceof ot)throw new Ie(204,!1);if(e instanceof Function)return function yE(e){const n=e.length;if(n>0)throw function da(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}(n,"?"),new Ie(204,!1);const t=function pD(e){return e&&(e[Rl]||e[ap])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Ie(204,!1)}function Mm(e,n,t){let r;if(mo(e)){const i=Mt(e);return co(i)||af(i)}if(tf(e))r=()=>Mt(e.useValue);else if(function Sm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...ed(e.deps||[]));else if(function Em(e){return!(!e||!e.useExisting)}(e))r=()=>_t(Mt(e.useExisting));else{const i=Mt(e&&(e.useClass||e.provide));if(!function wE(e){return!!e.deps}(e))return co(i)||af(i);r=()=>new i(...ed(e.deps))}return r}function us(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function lf(e,n){for(const t of e)Array.isArray(t)?lf(t,n):t&&ao(t)?lf(t.\u0275providers,n):n(t)}const yu=new ot("AppId",{providedIn:"root",factory:()=>EE}),EE="ng",Am=new ot("Platform Initializer"),go=new ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Im=new ot("CSP nonce",{providedIn:"root",factory:()=>function _a(){if(void 0!==qd)return qd;if(typeof document<"u")return document;throw new Ie(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let xm=(e,n)=>null;function Rm(e,n){return xm(e,n)}class OE{}class Fm{}class PE{resolveComponentFactory(n){throw function FE(e){const n=Error(`No component factory found for ${An(e)}.`);return n.ngComponent=e,n}(n)}}let Eu=(()=>{class e{}return e.NULL=new PE,e})();function kE(){return cs(qn(),Ae())}function cs(e,n){return new Nr(wr(e,n))}let Nr=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=kE,e})();function LE(e){return e instanceof Nr?e.nativeElement:e}class km{}let Pi=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function VE(){const e=Ae(),t=xr(qn().index,e);return(Tr(t)?t:e)[Bt]}(),e})(),BE=(()=>{class e{}return e.\u0275prov=vt({token:e,providedIn:"root",factory:()=>null}),e})();class Sa{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const HE=new Sa("16.1.4"),yf={};function Ma(e){for(;e;){e[Vt]|=64;const n=pa(e);if(sd(e)&&!n)return e;e=n}return null}function bf(e){return e.ngOriginalError}class _o{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&bf(n);for(;t&&bf(t);)t=bf(t);return t||null}}const Bm=new ot("",{providedIn:"root",factory:()=>!1});function ki(e){return e instanceof Function?e():e}class Gm extends Np{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){Ma(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,t,r){const i=zn(this);this.trackingVersion++;try{n(t,r)}finally{zn(i)}}destroy(){this.trackingVersion++}}let Mu=null;function zm(){return Mu??=new Gm,Mu}function qm(e,n){return e[n]??zm()}function Wm(e,n){const t=zm();t.hasReadASignal&&(e[n]=Mu,t.lView=e,Mu=new Gm)}const Ht={};function $t(e){Xm(Zt(),Ae(),ur()+e,!1)}function Xm(e,n,t,r){if(!r)if(3==(3&n[Vt])){const o=e.preOrderCheckHooks;null!==o&&ql(n,o,t)}else{const o=e.preOrderHooks;null!==o&&Wl(n,o,0,t)}fo(t)}function Km(e,n=null,t=null,r){const i=Jm(e,n,t,r);return i.resolveInjectorInitializers(),i}function Jm(e,n=null,t=null,r,i=new Set){const o=[t||Jt,mE(e)];return r=r||("object"==typeof e?void 0:An(e)),new sf(o,n||vu(),r||null,i)}let vi=(()=>{class e{static create(t,r){if(Array.isArray(t))return Km({name:""},r,t,"");{const i=t.name??"";return Km({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=Qs,e.NULL=new wm,e.\u0275prov=vt({token:e,providedIn:"any",factory:()=>_t(ym)}),e.__NG_ELEMENT_ID__=-1,e})();function we(e,n=Dt.Default){const t=Ae();return null===t?_t(e,n):m1(qn(),t,Mt(e),n)}function Au(e,n,t,r,i,o,s,a,l,u,m){const _=n.blueprint.slice();return _[Bn]=i,_[Vt]=140|r,(null!==u||e&&2048&e[Vt])&&(_[Vt]|=2048),Up(_),_[Cn]=_[qo]=e,_[On]=t,_[lo]=s||e&&e[lo],_[Bt]=a||e&&e[Bt],_[zo]=l||e&&e[zo]||null,_[Jn]=o,_[ia]=function _C(){return gC++}(),_[Ri]=m,_[Mp]=u,_[Fn]=2==n.type?e[Fn]:_,_}function fs(e,n,t,r,i){let o=e.data[n];if(null===o)o=function wf(e,n,t,r,i){const o=Xp(),s=fd(),l=e.data[n]=function aS(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return function Zo(){return null!==Tt.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(e,n,t,r,i),function b3(){return Tt.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function sa(){const e=Tt.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return mi(o,!0),o}function Aa(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function tg(e,n,t,r,i){const o=qm(n,kl),s=ur(),a=2&r;try{if(fo(-1),a&&n.length>Wt&&Xm(e,n,Wt,!1),pi(a?2:0,i),a)o.runInContext(t,r,i);else{const u=zn(null);try{t(r,i)}finally{zn(u)}}}finally{a&&null===n[kl]&&Wm(n,kl),fo(s),pi(a?3:1,i)}}function Df(e,n,t){if(od(n)){const r=zn(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{zn(r)}}}function Cf(e,n,t){Wp()&&(function pS(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;uo(t)&&function wS(e,n,t){const r=wr(n,e),i=ng(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Iu(e,Au(e,i,null,s,r,n,null,e[lo].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Ql(t,n),tr(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const l=e.data[a],u=ho(n,e,a,t);tr(u,n),null!==s&&DS(0,a-i,u,l,0,s),Yr(l)&&(xr(t.index,n)[On]=ho(n,e,a,t))}}(e,n,t,wr(t,n)),64==(64&t.flags)&&ag(e,n,t))}function Ef(e,n,t=wr){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function ng(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Sf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Sf(e,n,t,r,i,o,s,a,l,u,m){const _=Wt+r,x=_+i,k=function tS(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:Ht);return t}(_,x),te="function"==typeof u?u():u;return k[et]={type:e,blueprint:k,template:t,queries:null,viewQuery:a,declTNode:n,data:k.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:te,incompleteFirstPass:!1,ssrId:m}}let rg=e=>null;function ig(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?og(t,n,i,o):r.hasOwnProperty(i)&&og(t,n,r[i],o)}return t}function og(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function Mf(e,n,t,r){if(Wp()){const i=null===r?null:{"":-1},o=function gS(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(bp(n,s.selectors,!1))if(r||(r=[]),Yr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Af(e,n,a.length)}else r.unshift(s),Af(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&sg(e,n,t,s,i,a),i&&function _S(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new Ie(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=ea(t.mergedAttrs,t.attrs)}function sg(e,n,t,r,i,o){for(let u=0;u<r.length;u++)Ed(Ql(t,n),e,r[u].type);!function yS(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let u=0;u<r.length;u++){const m=r[u];m.providersResolver&&m.providersResolver(m)}let s=!1,a=!1,l=Aa(e,n,r.length,null);for(let u=0;u<r.length;u++){const m=r[u];t.mergedAttrs=ea(t.mergedAttrs,m.hostAttrs),bS(e,t,n,l,m),vS(l,m,i),null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const _=m.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(_.ngOnChanges||_.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function lS(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let l=null,u=null;for(let m=n.directiveStart;m<i;m++){const _=o[m],x=t?t.get(_):null,te=x?x.outputs:null;l=ig(_.inputs,m,l,x?x.inputs:null),u=ig(_.outputs,m,u,te);const ie=null===l||null===s||yp(n)?null:CS(l,m,s);a.push(ie)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=8),l.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=l,n.outputs=u}(e,t,o)}function ag(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function D3(){return Tt.lFrame.currentDirectiveIndex}();try{fo(o);for(let a=r;a<i;a++){const l=e.data[a],u=n[a];pd(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&mS(l,u)}}finally{fo(-1),pd(s)}}function mS(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Af(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function vS(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Yr(n)&&(t[""]=e)}}function bS(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=co(i.type)),s=new aa(o,Yr(i),we);e.blueprint[r]=s,t[r]=s,function fS(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function hS(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,Aa(e,t,i.hostVars,Ht),i)}function yi(e,n,t,r,i,o){const s=wr(e,n);!function If(e,n,t,r,i,o,s){if(null==o)e.removeAttribute(n,i,t);else{const a=null==s?lt(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}(n[Bt],s,o,e.value,t,r,i)}function DS(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)lg(r,t,s[a++],s[a++],s[a++])}function lg(e,n,t,r,i){const o=zn(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{zn(o)}}function CS(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function ug(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function cg(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=e.data[o];gd(t[r]),s.contentQueries(2,n[o],o)}}}function Iu(e,n){return e[na]?e[Sp][Xr]=n:e[na]=n,e[Sp]=n,n}function Tf(e,n,t){gd(0);const r=zn(null);try{n(e,t)}finally{zn(r)}}function dg(e){return e[Go]||(e[Go]=[])}function fg(e){return e.cleanup||(e.cleanup=[])}function pg(e,n){const t=e[zo],r=t?t.get(_o,null):null;r&&r.handleError(n)}function xf(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];lg(e.data[s],n[s],r,a,i)}}function ES(e,n){const t=xr(n,e),r=t[et];!function SS(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[Bn];null!==i&&null===t[Ri]&&(t[Ri]=Rm(i,t[zo])),Rf(r,t,t[On])}function Rf(e,n,t){_d(n);try{const r=e.viewQuery;null!==r&&Tf(1,r,t);const i=e.template;null!==i&&tg(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&cg(e,n),e.staticViewQueries&&Tf(2,e.viewQuery,t);const o=e.components;null!==o&&function MS(e,n){for(let t=0;t<n.length;t++)ES(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[Vt]&=-5,vd()}}let mg=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new KD(t,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=vt({token:e,providedIn:"root",factory:()=>new e}),e})();function Tu(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=Vo(i,a):2==o&&(r=Vo(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Ia(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];if(null!==o&&r.push(mn(o)),br(o)){for(let a=er;a<o.length;a++){const l=o[a],u=l[et].firstChild;null!==u&&Ia(l[et],l,u,r)}o[fi]!==o[Bn]&&r.push(o[fi])}const s=t.type;if(8&s)Ia(e,n,t.child,r);else if(32&s){const a=Ld(t,n);let l;for(;l=a();)r.push(l)}else if(16&s){const a=tm(n,t);if(Array.isArray(a))r.push(...a);else{const l=pa(n[Fn]);Ia(l[et],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function xu(e,n,t,r=!0){const i=n[lo].rendererFactory;i.begin&&i.begin();try{gg(e,n,e.template,t)}catch(s){throw r&&pg(n,s),s}finally{i.end&&i.end(),n[lo].effectManager?.flush()}}function gg(e,n,t,r){const i=n[Vt];if(256!=(256&i)){n[lo].effectManager?.flush(),_d(n);try{Up(n),function Zp(e){return Tt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&tg(e,n,t,2,r);const s=3==(3&i);if(s){const u=e.preOrderCheckHooks;null!==u&&ql(n,u,null)}else{const u=e.preOrderHooks;null!==u&&Wl(n,u,0,null),yd(n,0)}if(function RS(e){for(let n=U1(e);null!==n;n=$1(n)){if(!n[Ap])continue;const t=n[Xo];for(let r=0;r<t.length;r++){u3(t[r])}}}(n),_g(n,2),null!==e.contentQueries&&cg(e,n),s){const u=e.contentCheckHooks;null!==u&&ql(n,u)}else{const u=e.contentHooks;null!==u&&Wl(n,u,1),yd(n,1)}!function eS(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=qm(n,Ll);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)fo(~o);else{const s=o,a=t[++i],l=t[++i];w3(a,s),r.runInContext(l,2,n[s])}}}finally{null===n[Ll]&&Wm(n,Ll),fo(-1)}}(e,n);const a=e.components;null!==a&&yg(n,a,0);const l=e.viewQuery;if(null!==l&&Tf(2,l,r),s){const u=e.viewCheckHooks;null!==u&&ql(n,u)}else{const u=e.viewHooks;null!==u&&Wl(n,u,2),yd(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Vt]&=-73,$p(n)}finally{vd()}}}function _g(e,n){for(let t=U1(e);null!==t;t=$1(t))for(let r=er;r<t.length;r++)vg(t[r],n)}function NS(e,n,t){vg(xr(n,e),t)}function vg(e,n){if(!function a3(e){return 128==(128&e[Vt])}(e))return;const t=e[et];if(80&e[Vt]&&0===n||1024&e[Vt]||2===n)gg(t,e,t.template,e[On]);else if(e[ta]>0){_g(e,1);const i=e[et].components;null!==i&&yg(e,i,1)}}function yg(e,n,t){for(let r=0;r<n.length;r++)NS(e,n[r],t)}class Ta{get rootNodes(){const n=this._lView,t=n[et];return Ia(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[On]}set context(n){this._lView[On]=n}get destroyed(){return 256==(256&this._lView[Vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Cn];if(br(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(Bd(n,r),eu(t,r))}this._attachedToViewContainer=!1}W1(this._lView[et],this._lView)}onDestroy(n){!function zp(e,n){if(256==(256&e[Vt]))throw new Ie(911,!1);null===e[Xi]&&(e[Xi]=[]),e[Xi].push(n)}(this._lView,n)}markForCheck(){Ma(this._cdRefInjectingView||this._lView)}detach(){this._lView[Vt]&=-129}reattach(){this._lView[Vt]|=128}detectChanges(){xu(this._lView[et],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RC(e,n){ga(e,n,n[Bt],2,null,null)}(this._lView[et],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=n}}class OS extends Ta{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;xu(n[et],n,n[On],!1)}checkNoChanges(){}get context(){return null}}class bg extends Eu{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=en(n);return new xa(t,this.ngModule)}}function wg(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class PS{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Ol(r);const i=this.injector.get(n,yf,r);return i!==yf||t===yf?i:this.parentInjector.get(n,t,r)}}class xa extends Fm{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=wg(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return wg(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function OD(e){return e.map(ND).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof _i?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new PS(n,o):n,a=s.get(km,null);if(null===a)throw new Ie(407,!1);const m={rendererFactory:a,sanitizer:s.get(BE,null),effectManager:s.get(mg,null)},_=a.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",k=r?function nS(e,n,t,r){const o=r.get(Bm,!1)||t===Ar.ShadowDom,s=e.selectRootElement(n,o);return function rS(e){rg(e)}(s),s}(_,r,this.componentDef.encapsulation,s):cu(_,x,function FS(e){const n=e.toLowerCase();return"svg"===n?Bp:"math"===n?"math":null}(x)),ye=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Ne=Sf(0,null,null,1,0,null,null,null,null,null,null),me=Au(null,Ne,null,ye,null,null,m,_,s,null,null);let tt,St;_d(me);try{const Ot=this.componentDef;let $n,Zc=null;Ot.findHostDirectiveDefs?($n=[],Zc=new Map,Ot.findHostDirectiveDefs(Ot,$n,Zc),$n.push(Ot)):$n=[Ot];const AN=function LS(e,n){const t=e[et],r=Wt;return e[r]=n,fs(t,r,2,"#host",null)}(me,k),IN=function VS(e,n,t,r,i,o,s){const a=i[et];!function BS(e,n,t,r){for(const i of e)n.mergedAttrs=ea(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Tu(n,n.mergedAttrs,!0),null!==t&&om(r,t,n))}(r,e,n,s);let l=null;null!==n&&(l=Rm(n,i[zo]));const u=o.rendererFactory.createRenderer(n,t);let m=16;t.signals?m=4096:t.onPush&&(m=64);const _=Au(i,ng(t),null,m,i[e.index],e,o,u,null,null,l);return a.firstCreatePass&&Af(a,e,r.length-1),Iu(i,_),i[e.index]=_}(AN,k,Ot,$n,me,m,_);St=jp(Ne,Wt),k&&function jS(e,n,t,r){if(r)rd(e,t,["ng-version",HE.full]);else{const{attrs:i,classes:o}=function FD(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!Wr(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&rd(e,t,i),o&&o.length>0&&im(e,t,o.join(" "))}}(_,Ot,k,r),void 0!==t&&function US(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(St,this.ngContentSelectors,t),tt=function HS(e,n,t,r,i,o){const s=qn(),a=i[et],l=wr(s,i);sg(a,i,s,t,null,r);for(let m=0;m<t.length;m++)tr(ho(i,a,s.directiveStart+m,s),i);ag(a,i,s),l&&tr(l,i);const u=ho(i,a,s.directiveStart+s.componentOffset,s);if(e[On]=i[On]=u,null!==o)for(const m of o)m(u,n);return Df(a,s,e),u}(IN,Ot,$n,Zc,me,[$S]),Rf(Ne,me,null)}finally{vd()}return new kS(this.componentType,tt,cs(St,me),me,St)}}class kS extends OE{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new OS(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;xf(o[et],o,i,n,t),this.previousInputValues.set(n,t),Ma(xr(this._tNode.index,o))}}get injector(){return new Jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function $S(){const e=qn();zl(Ae()[et],e)}function rn(e){let n=function Dg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Yr(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ie(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const s=e;s.inputs=Ru(e.inputs),s.inputTransforms=Ru(e.inputTransforms),s.declaredInputs=Ru(e.declaredInputs),s.outputs=Ru(e.outputs);const a=i.hostBindings;a&&WS(e,a);const l=i.viewQuery,u=i.contentQueries;if(l&&zS(e,l),u&&qS(e,u),qi(e.inputs,i.inputs),qi(e.declaredInputs,i.declaredInputs),qi(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),qi(s.inputTransforms,i.inputTransforms)),Yr(i)&&i.data.animation){const m=e.data;m.animation=(m.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===rn&&(t=!1)}}n=Object.getPrototypeOf(n)}!function GS(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=ea(i.hostAttrs,t=ea(t,i.hostAttrs))}}(r)}function Ru(e){return e===ci?{}:e===Jt?[]:e}function zS(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function qS(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,o)=>{n(r,i,o),t(r,i,o)}:n}function WS(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function Nu(e){return!!function Nf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function nr(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function wi(e,n,t,r){const i=Ae();return nr(i,Qo(),n)&&(Zt(),yi(En(),i,e,n,t,r)),wi}function Er(e,n,t,r,i,o,s,a){const l=Ae(),u=Zt(),m=e+Wt,_=u.firstCreatePass?function vM(e,n,t,r,i,o,s,a,l){const u=n.consts,m=fs(n,e,4,s||null,Yi(u,a));Mf(n,t,m,Yi(u,l)),zl(n,m);const _=m.tView=Sf(2,m,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return null!==n.queries&&(n.queries.template(n,m),_.queries=n.queries.embeddedTView(m)),m}(m,u,l,n,t,r,i,o,s):u.data[m];mi(_,!1);const x=Bg(u,l,_,e);Gl()&&fu(u,l,x,_),tr(x,l),Iu(l,l[m]=ug(x,l,x,_)),Bl(_)&&Cf(u,l,_),null!=s&&Ef(l,_,a)}let Bg=function Hg(e,n,t,r){return Zi(!0),n[Bt].createComment("")};function Vf(e){return Yo(function y3(){return Tt.lFrame.contextLView}(),Wt+e)}function on(e,n,t){const r=Ae();return nr(r,Qo(),n)&&function Or(e,n,t,r,i,o,s,a){const l=wr(n,t);let m,u=n.inputs;!a&&null!=u&&(m=u[r])?(xf(e,t,m,r,i),uo(n)&&function cS(e,n){const t=xr(n,e);16&t[Vt]||(t[Vt]|=64)}(t,n.index)):3&n.type&&(r=function uS(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(l,r,i))}(Zt(),En(),r,e,n,r[Bt],t,!1),on}function Bf(e,n,t,r,i){const s=i?"class":"style";xf(e,t,n.inputs[s],s,r)}function Ue(e,n,t,r){const i=Ae(),o=Zt(),s=Wt+e,a=i[Bt],l=o.firstCreatePass?function DM(e,n,t,r,i,o){const s=n.consts,l=fs(n,e,2,r,Yi(s,i));return Mf(n,t,l,Yi(s,o)),null!==l.attrs&&Tu(l,l.attrs,!1),null!==l.mergedAttrs&&Tu(l,l.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,l),l}(s,o,i,n,t,r):o.data[s],u=jg(o,i,l,a,n,e);i[s]=u;const m=Bl(l);return mi(l,!0),om(a,u,l),32!=(32&l.flags)&&Gl()&&fu(o,i,u,l),0===function d3(){return Tt.lFrame.elementDepthCount}()&&tr(u,i),function f3(){Tt.lFrame.elementDepthCount++}(),m&&(Cf(o,i,l),Df(o,l,i)),null!==r&&Ef(i,l),Ue}function Be(){let e=qn();fd()?function hd(){Tt.lFrame.isParent=!1}():(e=e.parent,mi(e,!1));const n=e;(function p3(e){return Tt.skipHydrationRootTNode===e})(n)&&function v3(){Tt.skipHydrationRootTNode=null}(),function h3(){Tt.lFrame.elementDepthCount--}();const t=Zt();return t.firstCreatePass&&(zl(t,e),od(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function N3(e){return 0!=(8&e.flags)}(n)&&Bf(t,n,Ae(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function O3(e){return 0!=(16&e.flags)}(n)&&Bf(t,n,Ae(),n.stylesWithoutHost,!1),Be}function tn(e,n,t,r){return Ue(e,n,t,r),Be(),tn}let jg=(e,n,t,r,i,o)=>(Zi(!0),cu(r,i,function o1(){return Tt.lFrame.currentNamespace}()));function Ds(){return Ae()}function Pa(e){return!!e&&"function"==typeof e.then}function Gg(e){return!!e&&"function"==typeof e.subscribe}function hn(e,n,t,r){const i=Ae(),o=Zt(),s=qn();return function qg(e,n,t,r,i,o,s){const a=Bl(r),u=e.firstCreatePass&&fg(e),m=n[On],_=dg(n);let x=!0;if(3&r.type||s){const ie=wr(r,n),ye=s?s(ie):ie,Ne=_.length,me=s?St=>s(mn(St[r.index])):r.index;let tt=null;if(!s&&a&&(tt=function IM(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[Go],l=i[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==tt)(tt.__ngLastListenerFn__||tt).__ngNextListenerFn__=o,tt.__ngLastListenerFn__=o,x=!1;else{o=Xg(r,n,m,o,!1);const St=t.listen(ye,i,o);_.push(o,St),u&&u.push(i,me,Ne,Ne+1)}}else o=Xg(r,n,m,o,!1);const k=r.outputs;let te;if(x&&null!==k&&(te=k[i])){const ie=te.length;if(ie)for(let ye=0;ye<ie;ye+=2){const Ot=n[te[ye]][te[ye+1]].subscribe(o),$n=_.length;_.push(o,Ot),u&&u.push(i,r.index,$n,-($n+1))}}}(o,i,i[Bt],s,e,n,r),hn}function Wg(e,n,t,r){try{return pi(6,n,t),!1!==t(r)}catch(i){return pg(e,i),!1}finally{pi(7,n,t)}}function Xg(e,n,t,r,i){return function o(s){if(s===Function)return r;Ma(e.componentOffset>-1?xr(e.index,n):n);let l=Wg(n,t,r,s),u=o.__ngNextListenerFn__;for(;u;)l=Wg(n,t,u,s)&&l,u=u.__ngNextListenerFn__;return i&&!1===l&&s.preventDefault(),l}}function Fr(e=1){return function E3(e){return(Tt.lFrame.contextLView=function S3(e,n){for(;e>0;)n=n[qo],e--;return n}(e,Tt.lFrame.contextLView))[On]}(e)}function Lu(e,n){return e<<17|n<<2}function Ki(e){return e>>17&32767}function $f(e){return 2|e}function yo(e){return(131068&e)>>2}function Gf(e,n){return-131069&e|n<<2}function zf(e){return 1|e}function i_(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?Ki(o):yo(o),l=!1;for(;0!==a&&(!1===l||s);){const m=e[a+1];LM(e[a],n)&&(l=!0,e[a+1]=r?zf(m):$f(m)),a=r?Ki(m):yo(m)}l&&(e[t+1]=r?$f(o):zf(o))}function LM(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&is(e,n)>=0}const jn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function o_(e){return e.substring(jn.key,jn.keyEnd)}function s_(e,n){const t=jn.textEnd;return t===n?-1:(n=jn.keyEnd=function jM(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,jn.key=n,t),Cs(e,n,t))}function Cs(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function Es(e,n){return function Kr(e,n,t,r){const i=Ae(),o=Zt(),s=Oi(2);o.firstUpdatePass&&p_(o,e,s,r),n!==Ht&&nr(i,s,n)&&g_(o,o.data[ur()],i,i[Bt],e,i[s+1]=function KM(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=An(Qi(e)))),e}(n,t),r,s)}(e,n,null,!0),Es}function f_(e){!function Jr(e,n,t,r){const i=Zt(),o=Oi(2);i.firstUpdatePass&&p_(i,null,o,r);const s=Ae();if(t!==Ht&&nr(s,o,t)){const a=i.data[ur()];if(v_(a,r)&&!h_(i,o)){let l=r?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(t=Vo(l,t||"")),Bf(i,a,s,t,r)}else!function QM(e,n,t,r,i,o,s,a){i===Ht&&(i=Jt);let l=0,u=0,m=0<i.length?i[0]:null,_=0<o.length?o[0]:null;for(;null!==m||null!==_;){const x=l<i.length?i[l+1]:void 0,k=u<o.length?o[u+1]:void 0;let ie,te=null;m===_?(l+=2,u+=2,x!==k&&(te=_,ie=k)):null===_||null!==m&&m<_?(l+=2,te=m):(u+=2,te=_,ie=k),null!==te&&g_(e,n,t,r,te,ie,s,a),m=l<i.length?i[l]:null,_=u<o.length?o[u]:null}}(i,a,s,s[Bt],s[o+1],s[o+1]=function YM(e,n,t){if(null==t||""===t)return Jt;const r=[],i=Qi(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&n(r,i);return r}(e,n,t),r,o)}}(ZM,Ci,e,!0)}function Ci(e,n){for(let t=function BM(e){return function l_(e){jn.key=0,jn.keyEnd=0,jn.value=0,jn.valueEnd=0,jn.textEnd=e.length}(e),s_(e,Cs(e,0,jn.textEnd))}(n);t>=0;t=s_(n,t))Rr(e,o_(n),!0)}function h_(e,n){return n>=e.expandoStartIndex}function p_(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[ur()],s=h_(e,t);v_(o,r)&&null===n&&!s&&(n=!1),n=function zM(e,n,t,r){const i=function md(e){const n=Tt.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=ka(t=qf(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=qf(i,e,n,t,r),null===o){let l=function qM(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==yo(r))return e[Ki(r)]}(e,n,r);void 0!==l&&Array.isArray(l)&&(l=qf(null,e,n,l[1],r),l=ka(l,n.attrs,r),function WM(e,n,t,r){e[Ki(t?n.classBindings:n.styleBindings)]=r}(e,n,r,l))}else o=function XM(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=ka(r,e[o].hostAttrs,t);return ka(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function PM(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=Ki(s),l=yo(s);e[r]=t;let m,u=!1;if(Array.isArray(t)?(m=t[1],(null===m||is(t,m)>0)&&(u=!0)):m=t,i)if(0!==l){const x=Ki(e[a+1]);e[r+1]=Lu(x,a),0!==x&&(e[x+1]=Gf(e[x+1],r)),e[a+1]=function OM(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=Lu(a,0),0!==a&&(e[a+1]=Gf(e[a+1],r)),a=r;else e[r+1]=Lu(l,0),0===a?a=r:e[l+1]=Gf(e[l+1],r),l=r;u&&(e[r+1]=$f(e[r+1])),i_(e,m,r,!0),i_(e,m,r,!1),function kM(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&is(o,n)>=0&&(t[r+1]=zf(t[r+1]))}(n,m,e,r,o),s=Lu(a,l),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}function qf(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=ka(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function ka(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Rr(e,s,!!t||n[++o]))}return void 0===e?null:e}function ZM(e,n,t){const r=String(n);""!==r&&!r.includes(" ")&&Rr(e,r,t)}function g_(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const l=e.data,u=l[a+1],m=function FM(e){return 1==(1&e)}(u)?__(l,n,t,i,yo(u),s):void 0;Vu(m)||(Vu(o)||function NM(e){return 2==(2&e)}(u)&&(o=__(l,null,t,i,a,s)),function jC(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Dr.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Dr.Important),e.setStyle(t,r,i,o))}}(r,s,$l(ur(),t),i,o))}function __(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const l=e[i],u=Array.isArray(l),m=u?l[1]:l,_=null===m;let x=t[i+1];x===Ht&&(x=_?Jt:void 0);let k=_?Ad(x,r):m===r?x:void 0;if(u&&!Vu(k)&&(k=Ad(l,r)),Vu(k)&&(a=k,s))return a;const te=e[i+1];i=s?Ki(te):yo(te)}if(null!==n){let l=o?n.residualClasses:n.residualStyles;null!=l&&(a=Ad(l,r))}return a}function Vu(e){return void 0!==e}function v_(e,n){return 0!=(e.flags&(n?8:16))}function bt(e,n=""){const t=Ae(),r=Zt(),i=e+Wt,o=r.firstCreatePass?fs(r,i,1,n,null):r.data[i],s=y_(r,t,o,n,e);t[i]=s,Gl()&&fu(r,t,s,o),mi(o,!1)}let y_=(e,n,t,r,i)=>(Zi(!0),function uu(e,n){return e.createText(n)}(n[Bt],r));function ei(e){return Ss("",e,""),ei}function Ss(e,n,t){const r=Ae(),i=function ps(e,n,t,r){return nr(e,Qo(),t)?n+lt(t)+r:Ht}(r,e,n,t);return i!==Ht&&function Li(e,n,t){const r=$l(n,e);!function z1(e,n,t){e.setValue(n,t)}(e[Bt],r,t)}(r,ur(),i),Ss}const As="en-US";let j_=As;function Yf(e,n,t,r,i){if(e=Mt(e),Array.isArray(e))for(let o=0;o<e.length;o++)Yf(e[o],n,t,r,i);else{const o=Zt(),s=Ae();let a=mo(e)?e:Mt(e.provide),l=Mm(e);const u=qn(),m=1048575&u.providerIndexes,_=u.directiveStart,x=u.providerIndexes>>20;if(mo(e)||!e.multi){const k=new aa(l,i,we),te=Qf(a,n,i?m:m+x,_);-1===te?(Ed(Ql(u,s),o,a),Zf(o,e,n.length),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(k),s.push(k)):(t[te]=k,s[te]=k)}else{const k=Qf(a,n,m+x,_),te=Qf(a,n,m,m+x),ye=te>=0&&t[te];if(i&&!ye||!i&&!(k>=0&&t[k])){Ed(Ql(u,s),o,a);const Ne=function vA(e,n,t,r,i){const o=new aa(e,t,we);return o.multi=[],o.index=n,o.componentProviders=0,fv(o,i,r&&!t),o}(i?_A:gA,t.length,i,r,l);!i&&ye&&(t[te].providerFactory=Ne),Zf(o,e,n.length,0),n.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(Ne),s.push(Ne)}else Zf(o,e,k>-1?k:te,fv(t[i?te:k],l,!i&&r));!i&&r&&ye&&t[te].componentProviders++}}}function Zf(e,n,t,r){const i=mo(n),o=function _E(e){return!!e.useClass}(n);if(i||o){const l=(o?Mt(n.useClass):n).prototype.ngOnDestroy;if(l){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const m=u.indexOf(t);-1===m?u.push(t,[r,l]):u[m+1].push(r,l)}else u.push(t,l)}}}function fv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Qf(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function gA(e,n,t,r){return Kf(this.multi,[])}function _A(e,n,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ho(t,t[et],this.providerFactory.index,r);o=a.slice(0,s),Kf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Kf(i,o);return o}function Kf(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function yn(e,n=[]){return t=>{t.providersResolver=(r,i)=>function mA(e,n,t){const r=Zt();if(r.firstCreatePass){const i=Yr(e);Yf(t,r.data,r.blueprint,i,!0),Yf(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class Is{}class hv{}class Jf extends Is{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bg(this);const i=Ir(n);this._bootstrapComponents=ki(i.bootstrap),this._r3Injector=Jm(n,t,[{provide:Is,useValue:this},{provide:Eu,useValue:this.componentFactoryResolver},...r],An(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class eh extends hv{constructor(n){super(),this.moduleType=n}create(n){return new Jf(this.moduleType,n,[])}}class pv extends Is{constructor(n){super(),this.componentFactoryResolver=new bg(this),this.instance=null;const t=new sf([...n.providers,{provide:Is,useValue:this},{provide:Eu,useValue:this.componentFactoryResolver}],n.parent||vu(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function th(e,n,t=null){return new pv({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let wA=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=Dm(0,t.type),i=r.length>0?th([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=vt({token:e,providedIn:"environment",factory:()=>new e(_t(_i))}),e})();function mv(e){e.getStandaloneInjector=n=>n.get(wA).getOrCreateStandaloneInjector(e)}function Dv(e,n,t,r,i,o){const s=n+t;return nr(e,s,i)?function bi(e,n,t){return e[n]=t}(e,s+1,o?r.call(o,i):r(i)):function Ua(e,n){const t=e[n];return t===Ht?void 0:t}(e,s+1)}function wo(e,n){const t=Zt();let r;const i=e+Wt;t.firstCreatePass?(r=function HA(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=co(r.type)),s=gr(we);try{const a=Zl(!1),l=o();return Zl(a),function wM(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,Ae(),i,l),l}finally{gr(s)}}function Do(e,n,t){const r=e+Wt,i=Ae(),o=Yo(i,r);return function $a(e,n){return e[et].data[n].pure}(i,r)?Dv(i,function lr(){const e=Tt.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),n,o.transform,t,o):o.transform(t)}function rh(e){return n=>{setTimeout(e,void 0,n)}}const Kt=class zA extends de{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const l=n;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=rh(o),i&&(i=rh(i)),s&&(s=rh(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof $e&&n.add(a),a}};function qA(){return this._results[Symbol.iterator]()}class ih{get changes(){return this._changes||(this._changes=new Kt)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ih.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=qA)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function jr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function G3(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ti=(()=>{class e{}return e.__NG_ELEMENT_ID__=YA,e})();const WA=ti,XA=class extends WA{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t,null)}createEmbeddedViewImpl(n,t,r){const s=this._declarationTContainer.tView,a=Au(this._declarationLView,s,n,4096&this._declarationLView[Vt]?4096:16,null,s.declTNode,null,null,null,t||null,r||null);a[ra]=this._declarationLView[this._declarationTContainer.index];const u=this._declarationLView[di];return null!==u&&(a[di]=u.createEmbeddedView(s)),Rf(s,a,n),new Ta(a)}};function YA(){return $u(qn(),Ae())}function $u(e,n){return 4&e.type?new XA(n,e,cs(e,n)):null}let ni=(()=>{class e{}return e.__NG_ELEMENT_ID__=nI,e})();function nI(){return Nv(qn(),Ae())}const rI=ni,xv=class extends rI{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return cs(this._hostTNode,this._hostLView)}get injector(){return new Jo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Cd(this._hostTNode,this._hostLView);if(u1(n)){const t=Yl(n,this._hostLView),r=Xl(n);return new Jo(t[et].data[r+8],t)}return new Jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Rv(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-er}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,o){const s=n&&!function ua(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const ie=t||{};a=ie.index,r=ie.injector,i=ie.projectableNodes,o=ie.environmentInjector||ie.ngModuleRef}const l=s?n:new xa(en(n)),u=r||this.parentInjector;if(!o&&null==l.ngModule){const ye=(s?u:this.parentInjector).get(_i,null);ye&&(o=ye)}en(l.componentType??{});const k=l.create(u,i,null,o);return this.insertImpl(k.hostView,a,false),k}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView,o=i[et];if(function l3(e){return br(e[Cn])}(i)){const l=this.indexOf(n);if(-1!==l)this.detach(l);else{const u=i[Cn],m=new xv(u,u[Jn],u[Cn]);m.detach(m.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;if(function OC(e,n,t,r){const i=er+r,o=t.length;r>0&&(t[i-1][Xr]=n),r<o-er?(n[Xr]=t[i],w1(t,er+r,n)):(t.push(n),n[Xr]=null),n[Cn]=t;const s=n[ra];null!==s&&t!==s&&function FC(e,n){const t=e[Xo];n[Fn]!==n[Cn][Cn][Fn]&&(e[Ap]=!0),null===t?e[Xo]=[n]:t.push(n)}(s,n);const a=n[di];null!==a&&a.insertView(e),n[Vt]|=128}(o,i,a,s),!r){const l=$d(s,a),u=i[Bt],m=du(u,a[fi]);null!==m&&function xC(e,n,t,r,i,o){r[Bn]=i,r[Jn]=n,ga(e,r,t,1,i,o)}(o,a[Jn],u,i,m,l)}return n.attachToViewContainerRef(),w1(sh(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Rv(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Bd(this._lContainer,t);r&&(eu(sh(this._lContainer),t),W1(r[et],r))}detach(n){const t=this._adjustIndex(n,-1),r=Bd(this._lContainer,t);return r&&null!=eu(sh(this._lContainer),t)?new Ta(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Rv(e){return e[8]}function sh(e){return e[8]||(e[8]=[])}function Nv(e,n){let t;const r=n[e.index];return br(r)?t=r:(t=ug(r,n,null,e),n[e.index]=t,Iu(n,t)),Ov(t,n,e,r),new xv(t,e,n)}let Ov=function Fv(e,n,t,r){if(e[fi])return;let i;i=8&t.type?mn(r):function iI(e,n){const t=e[Bt],r=t.createComment(""),i=wr(n,e);return po(t,du(t,i),r,function VC(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[fi]=i};class ah{constructor(n){this.queryList=n,this.matches=null}clone(){return new ah(this.queryList)}setDirty(){this.queryList.setDirty()}}class lh{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new lh(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Bv(n,t).matches&&this.queries[t].setDirty()}}class Pv{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class uh{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new uh(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ch{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new ch(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,aI(t,o)),this.matchTNodeWithReadOption(n,t,Kl(t,n,o,!1,!1))}else r===ti?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Kl(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Nr||i===ni||i===ti&&4&t.type)this.addMatch(t.index,-2);else{const o=Kl(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function aI(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function uI(e,n,t,r){return-1===t?function lI(e,n){return 11&e.type?cs(e,n):4&e.type?$u(e,n):null}(n,e):-2===t?function cI(e,n,t){return t===Nr?cs(n,e):t===ti?$u(n,e):t===ni?Nv(n,e):void 0}(e,n,r):ho(e,e[et],t,n)}function kv(e,n,t,r){const i=n[di].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:uI(n,o[u],s[l+1],t.metadata.read))}i.matches=a}return i.matches}function dh(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=kv(e,n,i,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)r.push(s[a/2]);else{const u=o[a+1],m=n[-l];for(let _=er;_<m.length;_++){const x=m[_];x[ra]===x[Cn]&&dh(x[et],x,u,r)}if(null!==m[Xo]){const _=m[Xo];for(let x=0;x<_.length;x++){const k=_[x];dh(k[et],k,u,r)}}}}}return r}function Co(e){const n=Ae(),t=Zt(),r=Kp();gd(r+1);const i=Bv(t,r);if(e.dirty&&function s3(e){return 4==(4&e[Vt])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?dh(t,n,r,[]):kv(t,n,i,r);e.reset(o,LE),e.notifyOnChanges()}return!0}return!1}function Gu(e,n,t){const r=Zt();r.firstCreatePass&&(Vv(r,new Pv(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),Lv(r,Ae(),n)}function zu(e,n,t,r){const i=Zt();if(i.firstCreatePass){const o=qn();Vv(i,new Pv(n,t,r),o.index),function fI(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(i,e),2==(2&t)&&(i.staticContentQueries=!0)}Lv(i,Ae(),t)}function Eo(){return function dI(e,n){return e[di].queries[n].queryList}(Ae(),Kp())}function Lv(e,n,t){const r=new ih(4==(4&t));(function sS(e,n,t,r){const i=dg(n);i.push(t),e.firstCreatePass&&fg(e).push(r,i.length-1)})(e,n,r,r.destroy),null===n[di]&&(n[di]=new lh),n[di].queries.push(new ah(r))}function Vv(e,n,t){null===e.queries&&(e.queries=new uh),e.queries.track(new ch(n,t))}function Bv(e,n){return e.queries.getByIndex(n)}function fh(e,n){return $u(e,n)}const vh=new ot("Application Initializer");let yh=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=nt(vh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Pa(o))t.push(o);else if(Gg(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ny=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Vi=new ot("LocaleId",{providedIn:"root",factory:()=>nt(Vi,Dt.Optional|Dt.SkipSelf)||function OI(){return typeof $localize<"u"&&$localize.locale||As}()});let Wu=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new H(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class PI{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let ry=(()=>{class e{compileModuleSync(t){return new eh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=ki(Ir(t).declarations).reduce((s,a)=>{const l=en(a);return l&&s.push(new xa(l)),s},[]);return new PI(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function sy(...e){}class Sn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kt(!1),this.onMicrotaskEmpty=new Kt(!1),this.onStable=new Kt(!1),this.onError=new Kt(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function VI(){const e="function"==typeof fn.requestAnimationFrame;let n=fn[e?"requestAnimationFrame":"setTimeout"],t=fn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function jI(e){const n=()=>{!function HI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(fn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,wh(e),e.isCheckStableRunning=!0,bh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),wh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return ay(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),ly(e)}},onInvoke:(t,r,i,o,s,a,l)=>{try{return ay(e),t.invoke(i,o,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&n(),ly(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,wh(e),bh(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Sn.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Sn.isInAngularZone())throw new Ie(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,BI,sy,sy);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const BI={};function bh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function ay(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ly(e){e._nesting--,bh(e)}class UI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kt,this.onMicrotaskEmpty=new Kt,this.onStable=new Kt,this.onError=new Kt}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const uy=new ot("",{providedIn:"root",factory:cy});function cy(){const e=nt(Sn);let n=!0;return function Yn(...e){const n=De(e),t=function Ye(e,n){return"number"==typeof ze(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?M(r[0]):Oe(t)(Nt(r,n)):it}(new F(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new F(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Sn.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Sn.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Zn()))}const dy=new ot(""),Xu=new ot("");let Eh,Dh=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Eh||(function $I(e){Eh=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Sn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(_t(Sn),_t(Ch),_t(Xu))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})(),Ch=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Eh?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Ji=null;const fy=new ot("AllowMultipleToken"),Sh=new ot("PlatformDestroyListeners"),Mh=new ot("appBootstrapListener");class py{constructor(n,t){this.name=n,this.token=t}}function gy(e,n,t=[]){const r=`Platform: ${n}`,i=new ot(r);return(o=[])=>{let s=Ah();if(!s||s.injector.get(fy,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function qI(e){if(Ji&&!Ji.get(fy,!1))throw new Ie(400,!1);(function hy(){!function ZD(e){Op=e}(()=>{throw new Ie(600,!1)})})(),Ji=e;const n=e.get(vy);(function my(e){e.get(Am,null)?.forEach(t=>t())})(e)}(function _y(e=[],n){return vi.create({name:n,providers:[{provide:nf,useValue:"platform"},{provide:Sh,useValue:new Set([()=>Ji=null])},...e]})}(a,r))}return function XI(e){const n=Ah();if(!n)throw new Ie(401,!1);return n}()}}function Ah(){return Ji?.get(vy)??null}let vy=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function YI(e="zone.js",n){return"noop"===e?new UI:"zone.js"===e?new Sn(n):e}(r?.ngZone,function yy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function bA(e,n,t){return new Jf(e,n,t)}(t.moduleType,this.injector,function Ey(e){return[{provide:Sn,useFactory:e},{provide:wa,multi:!0,useFactory:()=>{const n=nt(QI,{optional:!0});return()=>n.initialize()}},{provide:Cy,useFactory:ZI},{provide:uy,useFactory:cy}]}(()=>i)),s=o.injector.get(_o,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{Yu(this._modules,o),a.unsubscribe()})}),function by(e,n,t){try{const r=t();return Pa(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(yh);return a.runInitializers(),a.donePromise.then(()=>(function U_(e){Vr(e,"Expected localeId to be defined"),"string"==typeof e&&(j_=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Vi,As)||As),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=wy({},r);return function GI(e,n,t){const r=new eh(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Rs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Ie(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Sh,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(_t(vi))},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function wy(e,n){return Array.isArray(n)?n.reduce(wy,e):{...e,...n}}let Rs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=nt(Cy),this.zoneIsStable=nt(uy),this.componentTypes=[],this.components=[],this.isStable=nt(Wu).hasPendingTasks.pipe(vn(t=>t?dt(!1):this.zoneIsStable),function Gn(e,n=N){return e=e??Lr,T((t,r)=>{let i,o=!0;t.subscribe(I(r,s=>{const a=n(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),Zn()),this._injector=nt(_i)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Fm;if(!this._injector.get(yh).done)throw!i&&function $o(e){const n=en(e)||Kn(e)||yr(e);return null!==n&&n.standalone}(t),new Ie(405,!1);let s;s=i?t:this._injector.get(Eu).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function zI(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Is),u=s.create(vi.NULL,[],r||s.selector,a),m=u.location.nativeElement,_=u.injector.get(dy,null);return _?.registerApplication(m),u.onDestroy(()=>{this.detachView(u.hostView),Yu(this.components,u),_?.unregisterApplication(m)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Yu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Mh,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Yu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ie(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Yu(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const Cy=new ot("",{providedIn:"root",factory:()=>nt(_o).handleError.bind(void 0)});function ZI(){const e=nt(Sn),n=nt(_o);return t=>e.runOutsideAngular(()=>n.handleError(t))}let QI=(()=>{class e{constructor(){this.zone=nt(Sn),this.applicationRef=nt(Rs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let Zu=(()=>{class e{}return e.__NG_ELEMENT_ID__=JI,e})();function JI(e){return function eT(e,n,t){if(uo(e)&&!t){const r=xr(e.index,n);return new Ta(r,r)}return 47&e.type?new Ta(n[Fn],n):null}(qn(),Ae(),16==(16&e))}class Iy{constructor(){}supports(n){return Nu(n)}create(n){return new sT(n)}}const oT=(e,n)=>n;class sT{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||oT}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<xy(r,i,o)?t:r,a=xy(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,m=l-i;if(u!=m){for(let x=0;x<u;x++){const k=x<o.length?o[x]:o[x]=0,te=k+x;m<=te&&te<u&&(o[x]=k+1)}o[s.previousIndex]=m-u}}a!==l&&n(s,a,l)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Nu(n))throw new Ie(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function eM(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new aT(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new Ty),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ty),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class aT{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lT{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Ty{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new lT,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xy(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}function Ny(){return new Ju([new Iy])}let Ju=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Ny()),deps:[[e,new ru,new nu]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Ie(901,!1)}}return e.\u0275prov=vt({token:e,providedIn:"root",factory:Ny}),e})();const hT=gy(null,"core",[]);let pT=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(_t(Rs))},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({}),e})();function Ns(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Fh=null;function eo(){return Fh}class MT{}const Pr=new ot("DocumentToken");let Ph=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:function(){return nt(IT)},providedIn:"platform"}),e})();const AT=new ot("Location Initialized");let IT=(()=>{class e extends Ph{constructor(){super(),this._doc=nt(Pr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return eo().getBaseHref(this._doc)}onPopState(t){const r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function kh(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function Hy(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function Bi(e){return e&&"?"!==e[0]?"?"+e:e}let Mo=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:function(){return nt(Uy)},providedIn:"root"}),e})();const jy=new ot("appBaseHref");let Uy=(()=>{class e extends Mo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??nt(Pr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return kh(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Bi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Bi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Bi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(_t(Ph),_t(jy,8))},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),TT=(()=>{class e extends Mo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=kh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Bi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Bi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(_t(Ph),_t(jy,8))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})(),Lh=(()=>{class e{constructor(t){this._subject=new Kt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function NT(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(Hy($y(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Bi(r))}normalize(t){return e.stripTrailingSlash(function RT(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,$y(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Bi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Bi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=Bi,e.joinWithSlash=kh,e.stripTrailingSlash=Hy,e.\u0275fac=function(t){return new(t||e)(_t(Mo))},e.\u0275prov=vt({token:e,factory:function(){return function xT(){return new Lh(_t(Mo))}()},providedIn:"root"}),e})();function $y(e){return e.replace(/\/index.html$/,"")}function Ky(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}class _x{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cc=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new _x(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),t2(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{t2(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(we(ni),we(ti),we(Ju))},e.\u0275dir=At({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function t2(e,n){e.context.$implicit=n.item}let dc=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new vx,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){n2("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){n2("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(we(ni),we(ti))},e.\u0275dir=At({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class vx{constructor(){this.$implicit=null,this.ngIf=null}}function n2(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${An(n)}'.`)}let i2=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=r.createEmbeddedView(i,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(we(ni))},e.\u0275dir=At({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Hr]}),e})();class Cx{createSubscription(n,t){return Fp(()=>n.subscribe({next:t,error:r=>{throw r}}))}dispose(n){Fp(()=>n.unsubscribe())}}class Ex{createSubscription(n,t){return n.then(t,r=>{throw r})}dispose(n){}}const Sx=new Ex,Mx=new Cx;let o2=(()=>{class e{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Pa(t))return Sx;if(Gg(t))return Mx;throw function oi(e,n){return new Ie(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(we(Zu,16))},e.\u0275pipe=vr({name:"async",type:e,pure:!1,standalone:!0}),e})(),Kh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({}),e})();function l2(e){return"server"===e}let Wx=(()=>{class e{}return e.\u0275prov=vt({token:e,providedIn:"root",factory:()=>new Xx(_t(Pr),window)}),e})();class Xx{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function Yx(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=u2(this.window.history)||u2(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function u2(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class c2{}class v5 extends MT{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class t0 extends v5{static makeCurrent(){!function ST(e){Fh||(Fh=e)}(new t0)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function y5(){return Ya=Ya||document.querySelector("base"),Ya?Ya.getAttribute("href"):null}();return null==t?null:function b5(e){pc=pc||document.createElement("a"),pc.setAttribute("href",e);const n=pc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Ky(document.cookie,n)}}let pc,Ya=null,D5=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();const n0=new ot("EventManagerPlugins");let m2=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Ie(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return e.\u0275fac=function(t){return new(t||e)(_t(n0),_t(Sn))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();class g2{constructor(n){this._doc=n}}const r0="ng-app-id";let _2=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=l2(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${r0}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(r0),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(r0,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(_t(Pr),_t(yu),_t(Im,8),_t(go))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();const o0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},s0=/%COMP%/g,M5=new ot("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function y2(e,n){return n.map(t=>t.replace(s0,e))}let b2=(()=>{class e{constructor(t,r,i,o,s,a,l,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=l2(a),this.defaultRenderer=new a0(t,s,l,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Ar.ShadowDom&&(r={...r,encapsulation:Ar.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof D2?i.applyToHost(t):i instanceof l0&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(r.encapsulation){case Ar.Emulated:o=new D2(l,u,r,this.appId,m,s,a,_);break;case Ar.ShadowDom:return new x5(l,u,t,r,s,a,this.nonce,_);default:o=new l0(l,u,r,m,s,a,_)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(_t(m2),_t(_2),_t(yu),_t(M5),_t(Pr),_t(go),_t(Sn),_t(Im))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();class a0{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(o0[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(w2(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(w2(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new Ie(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=o0[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=o0[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Dr.DashCase|Dr.Important)?n.style.setProperty(t,r,i&Dr.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Dr.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=eo().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function w2(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class x5 extends a0{constructor(n,t,r,i,o,s,a,l){super(n,o,s,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=y2(i.id,i.styles);for(const m of u){const _=document.createElement("style");a&&_.setAttribute("nonce",a),_.textContent=m,this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class l0 extends a0{constructor(n,t,r,i,o,s,a,l){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.rendererUsageCount=0,this.styles=l?y2(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class D2 extends l0{constructor(n,t,r,i,o,s,a,l){const u=i+"-"+r.id;super(n,t,r,o,s,a,l,u),this.contentAttr=function A5(e){return"_ngcontent-%COMP%".replace(s0,e)}(u),this.hostAttr=function I5(e){return"_nghost-%COMP%".replace(s0,e)}(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let R5=(()=>{class e extends g2{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(_t(Pr))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();const C2=["alt","control","meta","shift"],N5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},O5={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let F5=(()=>{class e extends g2{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>eo().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),C2.forEach(u=>{const m=r.indexOf(u);m>-1&&(r.splice(m,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=N5[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),C2.forEach(s=>{s!==i&&(0,O5[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(_t(Pr))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();const V5=gy(hT,"browser",[{provide:go,useValue:"browser"},{provide:Am,useValue:function P5(){t0.makeCurrent()},multi:!0},{provide:Pr,useFactory:function L5(){return function qC(e){qd=e}(document),document},deps:[]}]),B5=new ot(""),M2=[{provide:Xu,useClass:class w5{addToWindow(n){fn.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new Ie(5103,!1);return o},fn.getAllAngularTestabilities=()=>n.getAllTestabilities(),fn.getAllAngularRootElements=()=>n.getAllRootElements(),fn.frameworkStabilizers||(fn.frameworkStabilizers=[]),fn.frameworkStabilizers.push(r=>{const i=fn.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(l){s=s||l,o--,0==o&&r(s)};i.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?eo().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:dy,useClass:Dh,deps:[Sn,Ch,Xu]},{provide:Dh,useClass:Dh,deps:[Sn,Ch,Xu]}],A2=[{provide:nf,useValue:"root"},{provide:_o,useFactory:function k5(){return new _o},deps:[]},{provide:n0,useClass:R5,multi:!0,deps:[Pr,Sn,go]},{provide:n0,useClass:F5,multi:!0,deps:[Pr]},b2,_2,m2,{provide:km,useExisting:b2},{provide:c2,useClass:D5,deps:[]},[]];let H5=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:yu,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(_t(B5,12))},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({providers:[...A2,...M2],imports:[Kh,pT]}),e})(),I2=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(_t(Pr))},e.\u0275prov=vt({token:e,factory:function(t){let r=null;return r=t?new t:function U5(){return new I2(_t(Pr))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:X5}=Array,{getPrototypeOf:Y5,prototype:Z5,keys:Q5}=Object;function N2(e){if(1===e.length){const n=e[0];if(X5(n))return{args:n,keys:null};if(function K5(e){return e&&"object"==typeof e&&Y5(e)===Z5}(n)){const t=Q5(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}const{isArray:J5}=Array;function O2(e){return A(n=>function e8(e,n){return J5(n)?e(...n):e(n)}(e,n))}function F2(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function c0(...e){const n=De(e),t=Rt(e),{args:r,keys:i}=N2(e);if(0===r.length)return Nt([],n);const o=new F(function t8(e,n,t=N){return r=>{P2(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let l=0;l<i;l++)P2(n,()=>{const u=Nt(e[l],n);let m=!1;u.subscribe(I(r,_=>{o[l]=_,m||(m=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>F2(i,s):N));return t?o.pipe(O2(t)):o}function P2(e,n,t){e?fe(t,e,n):n()}const mc=ge(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function d0(...e){return function n8(){return Oe(1)}()(Nt(e,De(e)))}function k2(e){return new F(n=>{M(e()).subscribe(n)})}function Za(e,n){const t=E(e)?e:()=>e,r=i=>i.error(t());return new F(n?i=>n.schedule(r,0,i):r)}function f0(){return T((e,n)=>{let t=null;e._refCount++;const r=I(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class L2 extends F{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,h(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new $e;const t=this.getSubject();n.add(this.source.subscribe(I(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=$e.EMPTY)}return n}refCount(){return f0()(this)}}function Os(e){return e<=0?()=>it:T((n,t)=>{let r=0;n.subscribe(I(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function ji(e,n){return T((t,r)=>{let i=0;t.subscribe(I(r,o=>e.call(n,o,i++)&&r.next(o)))})}function gc(e){return T((n,t)=>{let r=!1;n.subscribe(I(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function V2(e=i8){return T((n,t)=>{let r=!1;n.subscribe(I(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function i8(){return new mc}function Ao(e,n){const t=arguments.length>=2;return r=>r.pipe(e?ji((i,o)=>e(i,o,r)):N,Os(1),t?gc(n):V2(()=>new mc))}function Fs(e,n){return E(n)?ae(e,n,1):ae(e,1)}function fr(e,n,t){const r=E(e)||n||t?{next:e,error:n,complete:t}:e;return r?T((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(I(o,l=>{var u;null===(u=r.next)||void 0===u||u.call(r,l),o.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),o.complete()},l=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,l),o.error(l)},()=>{var l,u;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):N}function Io(e){return T((n,t)=>{let o,r=null,i=!1;r=n.subscribe(I(t,void 0,void 0,s=>{o=M(e(s,Io(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function h0(e){return e<=0?()=>it:T((n,t)=>{let r=[];n.subscribe(I(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Qa(e){return T((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const jt="primary",Ka=Symbol("RouteTitle");class u8{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ps(e){return new u8(e)}function c8(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ei(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!B2(e[i],n[i]))return!1;return!0}function B2(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function H2(e){return e.length>0?e[e.length-1]:null}function no(e){return function W5(e){return!!e&&(e instanceof F||E(e.lift)&&E(e.subscribe))}(e)?e:Pa(e)?Nt(Promise.resolve(e)):dt(e)}const f8={exact:function $2(e,n,t){if(!To(e.segments,n.segments)||!_c(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!$2(e.children[r],n.children[r],t))return!1;return!0},subset:G2},j2={exact:function h8(e,n){return Ei(e,n)},subset:function p8(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>B2(e[t],n[t]))},ignored:()=>!0};function U2(e,n,t){return f8[t.paths](e.root,n.root,t.matrixParams)&&j2[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function G2(e,n,t){return z2(e,n,n.segments,t)}function z2(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!To(i,t)||n.hasChildren()||!_c(i,t,r))}if(e.segments.length===t.length){if(!To(e.segments,t)||!_c(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!G2(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(To(e.segments,i)&&_c(e.segments,i,r)&&e.children[jt])&&z2(e.children[jt],n,o,r)}}function _c(e,n,t){return n.every((r,i)=>j2[t](e[i].parameters,r.parameters))}class ks{constructor(n=new sn([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ps(this.queryParams)),this._queryParamMap}toString(){return _8.serialize(this)}}class sn{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vc(this)}}class Ja{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ps(this.parameters)),this._parameterMap}toString(){return X2(this)}}function To(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let el=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:function(){return new p0},providedIn:"root"}),e})();class p0{parse(n){const t=new I8(n);return new ks(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${tl(n.root,!0)}`,r=function b8(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${yc(t)}=${yc(i)}`).join("&"):`${yc(t)}=${yc(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function v8(e){return encodeURI(e)}(n.fragment)}`:""}`}}const _8=new p0;function vc(e){return e.segments.map(n=>X2(n)).join("/")}function tl(e,n){if(!e.hasChildren())return vc(e);if(n){const t=e.children[jt]?tl(e.children[jt],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==jt&&r.push(`${i}:${tl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function g8(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===jt&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==jt&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===jt?[tl(e.children[jt],!1)]:[`${i}:${tl(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[jt]?`${vc(e)}/${t[0]}`:`${vc(e)}/(${t.join("//")})`}}function q2(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yc(e){return q2(e).replace(/%3B/gi,";")}function m0(e){return q2(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bc(e){return decodeURIComponent(e)}function W2(e){return bc(e.replace(/\+/g,"%20"))}function X2(e){return`${m0(e.path)}${function y8(e){return Object.keys(e).map(n=>`;${m0(n)}=${m0(e[n])}`).join("")}(e.parameters)}`}const w8=/^[^\/()?;#]+/;function g0(e){const n=e.match(w8);return n?n[0]:""}const D8=/^[^\/()?;=#]+/,E8=/^[^=?&#]+/,M8=/^[^&#]+/;class I8{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[jt]=new sn(n,t)),r}parseSegment(){const n=g0(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Ie(4009,!1);return this.capture(n),new Ja(bc(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function C8(e){const n=e.match(D8);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=g0(this.remaining);i&&(r=i,this.capture(r))}n[bc(t)]=bc(r)}parseQueryParam(n){const t=function S8(e){const n=e.match(E8);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function A8(e){const n=e.match(M8);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=W2(t),o=W2(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=g0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ie(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=jt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[jt]:new sn([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Ie(4011,!1)}}function Y2(e){return e.segments.length>0?new sn([],{[jt]:e}):e}function Z2(e){const n={};for(const r of Object.keys(e.children)){const o=Z2(e.children[r]);if(r===jt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function T8(e){if(1===e.numberOfChildren&&e.children[jt]){const n=e.children[jt];return new sn(e.segments.concat(n.segments),n.children)}return e}(new sn(e.segments,n))}function xo(e){return e instanceof ks}function Q2(e){let n;const i=Y2(function t(o){const s={};for(const l of o.children){const u=t(l);s[l.outlet]=u}const a=new sn(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function K2(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return _0(i,i,i,t,r);const o=function R8(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new eb(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new eb(t,n,r)}(n);if(o.toRoot())return _0(i,i,new sn([],{}),t,r);const s=function N8(e,n,t){if(e.isAbsolute)return new Dc(n,!0,0);if(!t)return new Dc(n,!1,NaN);if(null===t.parent)return new Dc(t,!0,0);const r=wc(e.commands[0])?0:1;return function O8(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Ie(4005,!1);i=r.segments.length}return new Dc(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?rl(s.segmentGroup,s.index,o.commands):tb(s.segmentGroup,s.index,o.commands);return _0(i,s.segmentGroup,a,t,r)}function wc(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function nl(e){return"object"==typeof e&&null!=e&&e.outlets}function _0(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(m=>`${m}`):`${u}`}),s=e===n?t:J2(e,n,t);const a=Y2(Z2(s));return new ks(a,o,i)}function J2(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:J2(o,n,t)}),new sn(e.segments,r)}class eb{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&wc(r[0]))throw new Ie(4003,!1);const i=r.find(nl);if(i&&i!==H2(r))throw new Ie(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Dc{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function tb(e,n,t){if(e||(e=new sn([],{})),0===e.segments.length&&e.hasChildren())return rl(e,n,t);const r=function P8(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(nl(a))break;const l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!rb(l,u,s))return o;r+=2}else{if(!rb(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new sn(e.segments.slice(0,r.pathIndex),{});return o.children[jt]=new sn(e.segments.slice(r.pathIndex),e.children),rl(o,0,i)}return r.match&&0===i.length?new sn(e.segments,{}):r.match&&!e.hasChildren()?v0(e,n,t):r.match?rl(e,0,i):v0(e,n,t)}function rl(e,n,t){if(0===t.length)return new sn(e.segments,{});{const r=function F8(e){return nl(e[0])?e[0].outlets:{[jt]:e}}(t),i={};if(!r[jt]&&e.children[jt]&&1===e.numberOfChildren&&0===e.children[jt].segments.length){const o=rl(e.children[jt],n,t);return new sn(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=tb(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new sn(e.segments,i)}}function v0(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(nl(o)){const l=k8(o.outlets);return new sn(r,l)}if(0===i&&wc(t[0])){r.push(new Ja(e.segments[n].path,nb(t[0]))),i++;continue}const s=nl(o)?o.outlets[jt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&wc(a)?(r.push(new Ja(s,nb(a))),i+=2):(r.push(new Ja(s,{})),i++)}return new sn(r,{})}function k8(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=v0(new sn([],{}),0,r))}),n}function nb(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function rb(e,n,t){return e==t.path&&Ei(n,t.parameters)}const il="imperative";class Si{constructor(n,t){this.id=n,this.url=t}}class y0 extends Si{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ro extends Si{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cc extends Si{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ol extends Si{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class b0 extends Si{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class L8 extends Si{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V8 extends Si{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B8 extends Si{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class H8 extends Si{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j8 extends Si{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U8{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $8{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class G8{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z8{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q8{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W8{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ib{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class X8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sl,this.attachRef=null}}let sl=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new X8,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class ob{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=w0(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=w0(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=D0(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return D0(n,this._root).map(t=>t.value)}}function w0(e,n){if(e===n.value)return n;for(const t of n.children){const r=w0(e,t);if(r)return r}return null}function D0(e,n){if(e===n.value)return[n];for(const t of n.children){const r=D0(e,t);if(r.length)return r.unshift(n),r}return[]}class Ui{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ls(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class sb extends ob{constructor(n,t){super(n),this.snapshot=t,C0(this,n)}toString(){return this.snapshot.toString()}}function ab(e,n){const t=function Y8(e,n){const s=new Ec([],{},{},"",{},jt,n,null,{});return new ub("",new Ui(s,[]))}(0,n),r=new H([new Ja("",{})]),i=new H({}),o=new H({}),s=new H({}),a=new H(""),l=new No(r,i,s,a,o,jt,n,t.root);return l.snapshot=t.root,new sb(new Ui(l,[]),t)}class No{constructor(n,t,r,i,o,s,a,l){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(A(u=>u[Ka]))??dt(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(A(n=>Ps(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(A(n=>Ps(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lb(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Z8(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ec{get title(){return this.data?.[Ka]}constructor(n,t,r,i,o,s,a,l,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ps(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ps(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ub extends ob{constructor(n,t){super(t),this.url=n,C0(this,t)}toString(){return cb(this._root)}}function C0(e,n){n.value._routerState=e,n.children.forEach(t=>C0(e,t))}function cb(e){const n=e.children.length>0?` { ${e.children.map(cb).join(", ")} } `:"";return`${e.value}${n}`}function E0(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ei(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ei(n.params,t.params)||e.paramsSubject.next(t.params),function d8(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ei(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Ei(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function S0(e,n){const t=Ei(e.params,n.params)&&function m8(e,n){return To(e,n)&&e.every((t,r)=>Ei(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||S0(e.parent,n.parent))}let M0=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=jt,this.activateEvents=new Kt,this.deactivateEvents=new Kt,this.attachEvents=new Kt,this.detachEvents=new Kt,this.parentContexts=nt(sl),this.location=nt(ni),this.changeDetector=nt(Zu),this.environmentInjector=nt(_i),this.inputBinder=nt(Sc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ie(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ie(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Q8(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=At({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Hr]}),e})();class Q8{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===No?this.route:n===sl?this.childContexts:this.parent.get(n,t)}}const Sc=new ot("");let db=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=c0([r.queryParams,r.params,r.data]).pipe(vn(([o,s,a],l)=>(a={...o,...s,...a},0===l?dt(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function ET(e){const n=en(e);if(!n)return null;const t=new xa(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();function al(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function J8(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return al(e,r,i);return al(e,r)})}(e,n,t);return new Ui(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>al(e,a)),s}}const r=function eR(e){return new No(new H(e.url),new H(e.params),new H(e.queryParams),new H(e.fragment),new H(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>al(e,o));return new Ui(r,i)}}const A0="ngNavigationCancelingError";function fb(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=xo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=hb(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function hb(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[A0]=!0,r.cancellationCode=n,t&&(r.url=t),r}function pb(e){return mb(e)&&xo(e.url)}function mb(e){return e&&e[A0]}let gb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Br({type:e,selectors:[["ng-component"]],standalone:!0,features:[mv],decls:1,vars:0,template:function(t,r){1&t&&tn(0,"router-outlet")},dependencies:[M0],encapsulation:2}),e})();function I0(e){const n=e.children&&e.children.map(I0),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==jt&&(t.component=gb),t}function si(e){return e.outlet||jt}function ll(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class aR{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),E0(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Ls(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ls(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=Ls(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=Ls(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new W8(o.value.snapshot))}),n.children.length&&this.forwardEvent(new z8(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(E0(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),E0(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=ll(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class _b{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Mc{constructor(n,t){this.component=n,this.route=t}}function lR(e,n,t){const r=e._root;return ul(r,n?n._root:null,t,[r.value])}function Vs(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function hD(e){return null!==xl(e)}(e)?n.get(e):e:r}function ul(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ls(n);return e.children.forEach(s=>{(function cR(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function dR(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!To(e.url,n.url);case"pathParamsOrQueryParamsChange":return!To(e.url,n.url)||!Ei(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!S0(e,n)||!Ei(e.queryParams,n.queryParams);default:return!S0(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new _b(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ul(e,n,o.component?a?a.children:null:t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Mc(a.outlet.component,s))}else s&&cl(n,a,i),i.canActivateChecks.push(new _b(r)),ul(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>cl(a,t.getContext(s),i)),i}function cl(e,n,t){const r=Ls(e),i=e.value;Object.entries(r).forEach(([o,s])=>{cl(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new Mc(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function dl(e){return"function"==typeof e}function vb(e){return e instanceof mc||"EmptyError"===e?.name}const Ac=Symbol("INITIAL_VALUE");function Bs(){return vn(e=>c0(e.map(n=>n.pipe(Os(1),function r8(...e){const n=De(e);return T((t,r)=>{(n?d0(e,t,n):d0(e,t)).subscribe(r)})}(Ac)))).pipe(A(n=>{for(const t of n)if(!0!==t){if(t===Ac)return Ac;if(!1===t||t instanceof ks)return t}return!0}),ji(n=>n!==Ac),Os(1)))}function yb(e){return function C(...e){return p(e)}(fr(n=>{if(xo(n))throw fb(0,n)}),A(n=>!0===n))}class Ic{constructor(n){this.segmentGroup=n||null}}class bb{constructor(n){this.urlTree=n}}function Hs(e){return Za(new Ic(e))}function wb(e){return Za(new bb(e))}class RR{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new Ie(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return dt(r);if(i.numberOfChildren>1||!i.children[jt])return Za(new Ie(4e3,!1));i=i.children[jt]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new ks(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(n,l,r,i)}),new sn(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new Ie(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const T0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NR(e,n,t,r,i){const o=x0(e,n,t);return o.matched?(r=function tR(e,n){return e.providers&&!e._injector&&(e._injector=th(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function IR(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?dt(i.map(s=>{const a=Vs(s,e);return no(function _R(e){return e&&dl(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(Bs(),yb()):dt(!0)}(r,n,t).pipe(A(s=>!0===s?o:{...T0}))):dt(o)}function x0(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...T0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||c8)(t,e,n);if(!i)return{...T0};const o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Db(e,n,t,r){return t.length>0&&function PR(e,n,t){return t.some(r=>Tc(e,n,r)&&si(r)!==jt)}(e,t,r)?{segmentGroup:new sn(n,FR(r,new sn(t,e.children))),slicedSegments:[]}:0===t.length&&function kR(e,n,t){return t.some(r=>Tc(e,n,r))}(e,t,r)?{segmentGroup:new sn(e.segments,OR(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new sn(e.segments,e.children),slicedSegments:t}}function OR(e,n,t,r,i){const o={};for(const s of r)if(Tc(e,t,s)&&!i[si(s)]){const a=new sn([],{});o[si(s)]=a}return{...i,...o}}function FR(e,n){const t={};t[jt]=n;for(const r of e)if(""===r.path&&si(r)!==jt){const i=new sn([],{});t[si(r)]=i}return t}function Tc(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class HR{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new RR(this.urlSerializer,this.urlTree)}noMatchError(n){return new Ie(4002,!1)}recognize(){const n=Db(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,jt).pipe(Io(t=>{if(t instanceof bb)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ic?this.noMatchError(t):t}),A(t=>{const r=new Ec([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},jt,this.rootComponentType,null,{}),i=new Ui(r,t),o=new ub("",i),s=function x8(e,n,t=null,r=null){return K2(Q2(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,jt).pipe(Io(r=>{throw r instanceof Ic?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=lb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Nt(i).pipe(Fs(o=>{const s=r.children[o],a=function oR(e,n){const t=e.filter(r=>si(r)===n);return t.push(...e.filter(r=>si(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function s8(e,n){return T(function o8(e,n,t,r,i){return(o,s)=>{let a=t,l=n,u=0;o.subscribe(I(s,m=>{const _=u++;l=a?e(l,m,_):(a=!0,m),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),gc(null),function a8(e,n){const t=arguments.length>=2;return r=>r.pipe(e?ji((i,o)=>e(i,o,r)):N,h0(1),t?gc(n):V2(()=>new mc))}(),ae(o=>{if(null===o)return Hs(r);const s=Cb(o);return function jR(e){e.sort((n,t)=>n.value.outlet===jt?-1:t.value.outlet===jt?1:n.value.outlet.localeCompare(t.value.outlet))}(s),dt(s)}))}processSegment(n,t,r,i,o,s){return Nt(t).pipe(Fs(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(Io(l=>{if(l instanceof Ic)return dt(null);throw l}))),Ao(a=>!!a),Io(a=>{if(vb(a))return function VR(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?dt([]):Hs(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function LR(e,n,t,r){return!!(si(e)===r||r!==jt&&Tc(n,t,e))&&("**"===e.path||x0(n,e,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):Hs(i):Hs(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?wb(o):this.applyRedirects.lineralizeSegments(r,o).pipe(ae(s=>{const a=new sn(s,{});return this.processSegment(n,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:m}=x0(t,i,o);if(!a)return Hs(t);const _=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,m);return i.redirectTo.startsWith("/")?wb(_):this.applyRedirects.lineralizeSegments(i,_).pipe(ae(x=>this.processSegment(n,r,t,x.concat(u),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a;if("**"===r.path){const l=i.length>0?H2(i).parameters:{};a=dt({snapshot:new Ec(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Eb(r),si(r),r.component??r._loadedComponent??null,r,Sb(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=NR(t,r,i,n).pipe(A(({matched:l,consumedSegments:u,remainingSegments:m,parameters:_})=>l?{snapshot:new Ec(u,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Eb(r),si(r),r.component??r._loadedComponent??null,r,Sb(r)),consumedSegments:u,remainingSegments:m}:null));return a.pipe(vn(l=>null===l?Hs(t):this.getChildConfig(n=r._injector??n,r,i).pipe(vn(({routes:u})=>{const m=r._loadedInjector??n,{snapshot:_,consumedSegments:x,remainingSegments:k}=l,{segmentGroup:te,slicedSegments:ie}=Db(t,x,k,u);if(0===ie.length&&te.hasChildren())return this.processChildren(m,u,te).pipe(A(Ne=>null===Ne?null:[new Ui(_,Ne)]));if(0===u.length&&0===ie.length)return dt([new Ui(_,[])]);const ye=si(r)===o;return this.processSegment(m,u,te,ie,ye?jt:o,!0).pipe(A(Ne=>[new Ui(_,Ne)]))}))))}getChildConfig(n,t,r){return t.children?dt({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?dt({routes:t._loadedRoutes,injector:t._loadedInjector}):function AR(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?dt(!0):dt(i.map(s=>{const a=Vs(s,e);return no(function hR(e){return e&&dl(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(Bs(),yb())}(n,t,r).pipe(ae(i=>i?this.configLoader.loadChildren(n,t).pipe(fr(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function xR(e){return Za(hb(!1,3))}())):dt({routes:[],injector:n})}}function UR(e){const n=e.value.routeConfig;return n&&""===n.path}function Cb(e){const n=[],t=new Set;for(const r of e){if(!UR(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=Cb(r.children);n.push(new Ui(r.value,i))}return n.filter(r=>!t.has(r))}function Eb(e){return e.data||{}}function Sb(e){return e.resolve||{}}function Mb(e){return"string"==typeof e.title||null===e.title}function R0(e){return vn(n=>{const t=e(n);return t?Nt(t).pipe(A(()=>n)):dt(n)})}const js=new ot("ROUTES");let N0=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=nt(ry)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return dt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=no(t.loadComponent()).pipe(A(Ab),fr(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Qa(()=>{this.componentLoaders.delete(t)})),i=new L2(r,()=>new de).pipe(f0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return dt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(A(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,u;return Array.isArray(a)?u=a:(l=a.create(t).injector,u=l.get(js,[],Dt.Self|Dt.Optional).flat()),{routes:u.map(I0),injector:l}}),Qa(()=>{this.childrenLoaders.delete(r)})),s=new L2(o,()=>new de).pipe(f0());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return no(t()).pipe(A(Ab),ae(r=>r instanceof hv||Array.isArray(r)?dt(r):Nt(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ab(e){return function YR(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let xc=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new de,this.configLoader=nt(N0),this.environmentInjector=nt(_i),this.urlSerializer=nt(el),this.rootContexts=nt(sl),this.inputBindingEnabled=null!==nt(Sc,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>dt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new $8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new U8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new H({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:il,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ji(r=>0!==r.id),A(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),vn(r=>{let i=!1,o=!1;return dt(r).pipe(fr(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),vn(s=>{const a=t.browserUrlTree.toString(),l=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!l&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const m="";return this.events.next(new ol(s.id,t.serializeUrl(r.rawUrl),m,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),it}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Ib(s.source)&&(t.browserUrlTree=s.extractedUrl),dt(s).pipe(vn(m=>{const _=this.transitions?.getValue();return this.events.next(new y0(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),_!==this.transitions?.getValue()?it:Promise.resolve(m)}),function $R(e,n,t,r,i,o){return ae(s=>function BR(e,n,t,r,i,o,s="emptyOnly"){return new HR(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(A(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),fr(m=>{if(r.targetSnapshot=m.targetSnapshot,r.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:m.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!m.extras.skipLocationChange){const x=t.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl);t.setBrowserUrl(x,m)}t.browserUrlTree=m.urlAfterRedirects}const _=new L8(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(_)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:m,extractedUrl:_,source:x,restoredState:k,extras:te}=s,ie=new y0(m,this.urlSerializer.serialize(_),x,k);this.events.next(ie);const ye=ab(0,this.rootComponentType).snapshot;return dt(r={...s,targetSnapshot:ye,urlAfterRedirects:_,extras:{...te,skipLocationChange:!1,replaceUrl:!1}})}{const m="";return this.events.next(new ol(s.id,t.serializeUrl(r.extractedUrl),m,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),it}}),fr(s=>{const a=new V8(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),A(s=>r={...s,guards:lR(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function yR(e,n){return ae(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?dt({...t,guardsResult:!0}):function bR(e,n,t,r){return Nt(e).pipe(ae(i=>function MR(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?dt(o.map(a=>{const l=ll(n)??i,u=Vs(a,l);return no(function gR(e){return e&&dl(e.canDeactivate)}(u)?u.canDeactivate(e,n,t,r):l.runInContext(()=>u(e,n,t,r))).pipe(Ao())})).pipe(Bs()):dt(!0)}(i.component,i.route,t,n,r)),Ao(i=>!0!==i,!0))}(s,r,i,e).pipe(ae(a=>a&&function fR(e){return"boolean"==typeof e}(a)?function wR(e,n,t,r){return Nt(n).pipe(Fs(i=>d0(function CR(e,n){return null!==e&&n&&n(new G8(e)),dt(!0)}(i.route.parent,r),function DR(e,n){return null!==e&&n&&n(new q8(e)),dt(!0)}(i.route,r),function SR(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function uR(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>k2(()=>dt(s.guards.map(l=>{const u=ll(s.node)??t,m=Vs(l,u);return no(function mR(e){return e&&dl(e.canActivateChild)}(m)?m.canActivateChild(r,e):u.runInContext(()=>m(r,e))).pipe(Ao())})).pipe(Bs())));return dt(o).pipe(Bs())}(e,i.path,t),function ER(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return dt(!0);const i=r.map(o=>k2(()=>{const s=ll(n)??t,a=Vs(o,s);return no(function pR(e){return e&&dl(e.canActivate)}(a)?a.canActivate(n,e):s.runInContext(()=>a(n,e))).pipe(Ao())}));return dt(i).pipe(Bs())}(e,i.route,t))),Ao(i=>!0!==i,!0))}(r,o,e,n):dt(a)),A(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),fr(s=>{if(r.guardsResult=s.guardsResult,xo(s.guardsResult))throw fb(0,s.guardsResult);const a=new B8(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ji(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),R0(s=>{if(s.guards.canActivateChecks.length)return dt(s).pipe(fr(a=>{const l=new H8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),vn(a=>{let l=!1;return dt(a).pipe(function GR(e,n){return ae(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return dt(t);let o=0;return Nt(i).pipe(Fs(s=>function zR(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!Mb(i)&&(o[Ka]=i.title),function qR(e,n,t,r){const i=function WR(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return dt({});const o={};return Nt(i).pipe(ae(s=>function XR(e,n,t,r){const i=ll(n)??r,o=Vs(e,i);return no(o.resolve?o.resolve(n,t):i.runInContext(()=>o(n,t)))}(e[s],n,t,r).pipe(Ao(),fr(a=>{o[s]=a}))),h0(1),function l8(e){return A(()=>e)}(o),Io(s=>vb(s)?it:Za(s)))}(o,e,n,r).pipe(A(s=>(e._resolvedData=s,e.data=lb(e,t).resolve,i&&Mb(i)&&(e.data[Ka]=i.title),null)))}(s.route,r,e,n)),fr(()=>o++),h0(1),ae(s=>o===i.length?dt(t):it))})}(t.paramsInheritanceStrategy,this.environmentInjector),fr({next:()=>l=!0,complete:()=>{l||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),fr(a=>{const l=new j8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),R0(s=>{const a=l=>{const u=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(fr(m=>{l.component=m}),A(()=>{})));for(const m of l.children)u.push(...a(m));return u};return c0(a(s.targetSnapshot.root)).pipe(gc(),Os(1))}),R0(()=>this.afterPreactivation()),A(s=>{const a=function K8(e,n,t){const r=al(e,n._root,t?t._root:void 0);return new sb(r,n)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),fr(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((e,n,t,r)=>A(i=>(new aR(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Os(1),fr({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Ro(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),Qa(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Io(s=>{if(o=!0,mb(s)){pb(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Cc(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),pb(s)){const l=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Ib(r.source)};t.scheduleNavigation(l,il,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new b0(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(l){r.reject(l)}}return it}))}))}cancelNavigationTransition(t,r,i){const o=new Cc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ib(e){return e!==il}let Tb=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===jt);return r}getResolvedTitleForRoute(t){return t.data[Ka]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:function(){return nt(ZR)},providedIn:"root"}),e})(),ZR=(()=>{class e extends Tb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(_t(I2))},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),QR=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:function(){return nt(JR)},providedIn:"root"}),e})();class KR{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let JR=(()=>{class e extends KR{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Wn(e)))(r||e)}}(),e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Rc=new ot("",{providedIn:"root",factory:()=>({})});let e6=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:function(){return nt(t6)},providedIn:"root"}),e})(),t6=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var kr=(()=>((kr=kr||{})[kr.COMPLETE=0]="COMPLETE",kr[kr.FAILED=1]="FAILED",kr[kr.REDIRECTING=2]="REDIRECTING",kr))();function xb(e,n){e.events.pipe(ji(t=>t instanceof Ro||t instanceof Cc||t instanceof b0||t instanceof ol),A(t=>t instanceof Ro||t instanceof ol?kr.COMPLETE:t instanceof Cc&&(0===t.code||1===t.code)?kr.REDIRECTING:kr.FAILED),ji(t=>t!==kr.REDIRECTING),Os(1)).subscribe(()=>{n()})}function n6(e){throw e}function r6(e,n,t){return n.parse("/")}const i6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},o6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xn=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=nt(ny),this.isNgZoneEnabled=!1,this.options=nt(Rc,{optional:!0})||{},this.pendingTasks=nt(Wu),this.errorHandler=this.options.errorHandler||n6,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||r6,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=nt(e6),this.routeReuseStrategy=nt(QR),this.titleStrategy=nt(Tb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=nt(js,{optional:!0})?.flat()??[],this.navigationTransitions=nt(xc),this.urlSerializer=nt(el),this.location=nt(Lh),this.componentInputBindingEnabled=!!nt(Sc,{optional:!0}),this.isNgZoneEnabled=nt(Sn)instanceof Sn&&Sn.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ks,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ab(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),il,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(I0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s;let _,m=null;switch(a){case"merge":m={...this.currentUrlTree.queryParams,...o};break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}null!==m&&(m=this.removeEmptyProps(m));try{_=Q2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),_=this.currentUrlTree.root}return K2(_,t,m,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=xo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,il,null,r)}navigate(t,r={skipLocationChange:!1}){return function s6(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new Ie(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...i6}:!1===r?{...o6}:r,xo(t))return U2(this.currentUrlTree,t,i);const o=this.parseUrl(t);return U2(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((_,x)=>{a=_,l=x});const m=this.pendingTasks.add();return xb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(_=>Promise.reject(_))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class Rb{}let u6=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ji(t=>t instanceof Ro),Fs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=th(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Nt(i).pipe(Oe())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):dt(null);const o=i.pipe(ae(s=>null===s?dt(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Nt([o,this.loader.loadComponent(r)]).pipe(Oe()):o})}}return e.\u0275fac=function(t){return new(t||e)(_t(Xn),_t(ry),_t(_i),_t(Rb),_t(N0))},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const F0=new ot("");let Nb=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof y0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ro?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ol&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ib&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ib(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function eg(){throw new Error("invalid")}()},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();function $i(e,n){return{\u0275kind:e,\u0275providers:n}}function Fb(){const e=nt(vi);return n=>{const t=e.get(Rs);if(n!==t.components[0])return;const r=e.get(Xn),i=e.get(Pb);1===e.get(P0)&&r.initialNavigation(),e.get(kb,null,Dt.Optional)?.setUpPreloading(),e.get(F0,null,Dt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Pb=new ot("",{factory:()=>new de}),P0=new ot("",{providedIn:"root",factory:()=>1}),kb=new ot("");function h6(e){return $i(0,[{provide:kb,useExisting:u6},{provide:Rb,useExisting:e}])}const Lb=new ot("ROUTER_FORROOT_GUARD"),m6=[Lh,{provide:el,useClass:p0},Xn,sl,{provide:No,useFactory:function Ob(e){return e.routerState.root},deps:[Xn]},N0,[]];function g6(){return new py("Router",Xn)}let Vb=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[m6,[],{provide:js,multi:!0,useValue:t},{provide:Lb,useFactory:b6,deps:[[Xn,new nu,new ru]]},{provide:Rc,useValue:r||{}},r?.useHash?{provide:Mo,useClass:TT}:{provide:Mo,useClass:Uy},{provide:F0,useFactory:()=>{const e=nt(Wx),n=nt(Sn),t=nt(Rc),r=nt(xc),i=nt(el);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Nb(i,r,e,n,t)}},r?.preloadingStrategy?h6(r.preloadingStrategy).\u0275providers:[],{provide:py,multi:!0,useFactory:g6},r?.initialNavigation?w6(r):[],r?.bindToComponentInputs?$i(8,[db,{provide:Sc,useExisting:db}]).\u0275providers:[],[{provide:Bb,useFactory:Fb},{provide:Mh,multi:!0,useExisting:Bb}]]}}static forChild(t){return{ngModule:e,providers:[{provide:js,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(_t(Lb,8))},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({}),e})();function b6(e){return"guarded"}function w6(e){return["disabled"===e.initialNavigation?$i(3,[{provide:vh,multi:!0,useFactory:()=>{const n=nt(Xn);return()=>{n.setUpLocationChangeListener()}}},{provide:P0,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?$i(2,[{provide:P0,useValue:0},{provide:vh,multi:!0,deps:[vi],useFactory:n=>{const t=n.get(AT,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(Xn),o=n.get(Pb);xb(i,()=>{r(!0)}),n.get(xc).afterPreactivation=()=>(r(!0),o.closed?dt(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Bb=new ot("");let Hb=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(we(Pi),we(Nr))},e.\u0275dir=At({type:e}),e})(),Oo=(()=>{class e extends Hb{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Wn(e)))(r||e)}}(),e.\u0275dir=At({type:e,features:[rn]}),e})();const Mi=new ot("NgValueAccessor"),S6={provide:Mi,useExisting:wt(()=>Us),multi:!0},A6=new ot("CompositionEventMode");let Us=(()=>{class e extends Hb{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function M6(){const e=eo()?eo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(we(Pi),we(Nr),we(A6,8))},e.\u0275dir=At({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&hn("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[yn([S6]),rn]}),e})();function ro(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Ub(e){return null!=e&&"number"==typeof e.length}const rr=new ot("NgValidators"),io=new ot("NgAsyncValidators"),I6=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ai{static min(n){return function $b(e){return n=>{if(ro(n.value)||ro(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}(n)}static max(n){return function Gb(e){return n=>{if(ro(n.value)||ro(e))return null;const t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}(n)}static required(n){return zb(n)}static requiredTrue(n){return function qb(e){return!0===e.value?null:{required:!0}}(n)}static email(n){return function Wb(e){return ro(e.value)||I6.test(e.value)?null:{email:!0}}(n)}static minLength(n){return function Xb(e){return n=>ro(n.value)||!Ub(n.value)?null:n.value.length<e?{minlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static maxLength(n){return function Yb(e){return n=>Ub(n.value)&&n.value.length>e?{maxlength:{requiredLength:e,actualLength:n.value.length}}:null}(n)}static pattern(n){return function Zb(e){if(!e)return Nc;let n,t;return"string"==typeof e?(t="","^"!==e.charAt(0)&&(t+="^"),t+=e,"$"!==e.charAt(e.length-1)&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(ro(r.value))return null;const i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(n)}static nullValidator(n){return null}static compose(n){return nw(n)}static composeAsync(n){return rw(n)}}function zb(e){return ro(e.value)?{required:!0}:null}function Nc(e){return null}function Qb(e){return null!=e}function Kb(e){return Pa(e)?Nt(e):e}function Jb(e){let n={};return e.forEach(t=>{n=null!=t?{...n,...t}:n}),0===Object.keys(n).length?null:n}function ew(e,n){return n.map(t=>t(e))}function tw(e){return e.map(n=>function T6(e){return!e.validate}(n)?n:t=>n.validate(t))}function nw(e){if(!e)return null;const n=e.filter(Qb);return 0==n.length?null:function(t){return Jb(ew(t,n))}}function k0(e){return null!=e?nw(tw(e)):null}function rw(e){if(!e)return null;const n=e.filter(Qb);return 0==n.length?null:function(t){return function C6(...e){const n=Rt(e),{args:t,keys:r}=N2(e),i=new F(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let m=0;m<s;m++){let _=!1;M(t[m]).subscribe(I(o,x=>{_||(_=!0,u--),a[m]=x},()=>l--,void 0,()=>{(!l||!_)&&(u||o.next(r?F2(r,a):a),o.complete())}))}});return n?i.pipe(O2(n)):i}(ew(t,n).map(Kb)).pipe(A(Jb))}}function L0(e){return null!=e?rw(tw(e)):null}function iw(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function ow(e){return e._rawValidators}function sw(e){return e._rawAsyncValidators}function V0(e){return e?Array.isArray(e)?e:[e]:[]}function Oc(e,n){return Array.isArray(e)?e.includes(n):e===n}function aw(e,n){const t=V0(n);return V0(e).forEach(i=>{Oc(t,i)||t.push(i)}),t}function lw(e,n){return V0(n).filter(t=>!Oc(e,t))}class uw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=k0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=L0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class hr extends uw{get formDirective(){return null}get path(){return null}}class oo extends uw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cw{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let fl=(()=>{class e extends cw{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(we(oo,2))},e.\u0275dir=At({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Es("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[rn]}),e})(),hl=(()=>{class e extends cw{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(we(hr,10))},e.\u0275dir=At({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Es("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[rn]}),e})();const pl="VALID",Pc="INVALID",$s="PENDING",ml="DISABLED";function j0(e){return(kc(e)?e.validators:e)||null}function U0(e,n){return(kc(n)?n.asyncValidators:e)||null}function kc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function fw(e,n,t){const r=e.controls;if(!(n?Object.keys(r):r).length)throw new Ie(1e3,"");if(!r[t])throw new Ie(1001,"")}function hw(e,n,t){e._forEachChild((r,i)=>{if(void 0===t[i])throw new Ie(1002,"")})}class Lc{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===pl}get invalid(){return this.status===Pc}get pending(){return this.status==$s}get disabled(){return this.status===ml}get enabled(){return this.status!==ml}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(aw(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(aw(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(lw(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(lw(n,this._rawAsyncValidators))}hasValidator(n){return Oc(this._rawValidators,n)}hasAsyncValidator(n){return Oc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=$s,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=ml,this.errors=null,this._forEachChild(r=>{r.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=pl,this._forEachChild(r=>{r.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pl||this.status===$s)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ml:pl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=$s,this._hasOwnPendingAsyncValidator=!0;const t=Kb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){let t=n;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Kt,this.statusChanges=new Kt}_calculateStatus(){return this._allControlsDisabled()?ml:this.errors?Pc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($s)?$s:this._anyControlsHaveStatus(Pc)?Pc:pl}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){kc(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function O6(e){return Array.isArray(e)?k0(e):e||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function F6(e){return Array.isArray(e)?L0(e):e||null}(this._rawAsyncValidators)}}class gl extends Lc{constructor(n,t,r){super(j0(t),U0(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){hw(this,0,n),Object.keys(n).forEach(r=>{fw(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{const i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}}class pw extends gl{}const Fo=new ot("CallSetDisabledState",{providedIn:"root",factory:()=>_l}),_l="always";function vl(e,n,t=_l){$0(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||"always"===t)&&n.valueAccessor.setDisabledState?.(e.disabled),function k6(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&mw(e,n)})}(e,n),function V6(e,n){const t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function L6(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&mw(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function P6(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function Bc(e,n,t=!0){const r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),jc(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Hc(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function $0(e,n){const t=ow(e);null!==n.validator?e.setValidators(iw(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=sw(e);null!==n.asyncValidator?e.setAsyncValidators(iw(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Hc(n._rawValidators,i),Hc(n._rawAsyncValidators,i)}function jc(e,n){let t=!1;if(null!==e){if(null!==n.validator){const i=ow(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(null!==n.asyncValidator){const i=sw(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}const r=()=>{};return Hc(n._rawValidators,r),Hc(n._rawAsyncValidators,r),t}function mw(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function gw(e,n){$0(e,n)}function _w(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const $6={provide:hr,useExisting:wt(()=>Uc)},yl=(()=>Promise.resolve())();let Uc=(()=>{class e extends hr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Kt,this.form=new gl({},k0(t),L0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){yl.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),vl(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){yl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){yl.then(()=>{const r=this._findContainer(t.path),i=new gl({});gw(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){yl.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){yl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,_w(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return e.\u0275fac=function(t){return new(t||e)(we(rr,10),we(io,10),we(Fo,8))},e.\u0275dir=At({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&hn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([$6]),rn]}),e})();function vw(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function yw(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Gs=class extends Lc{constructor(n=null,t,r){super(j0(t),U0(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=yw(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){vw(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){vw(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){yw(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};let bl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=At({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const X6={provide:Mi,useExisting:wt(()=>W0),multi:!0};let Sw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({}),e})(),Y6=(()=>{class e{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:Sw}),e})(),W0=(()=>{class e extends Oo{constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=nt(Fo,{optional:!0})??_l}ngOnInit(){this._control=this._injector.get(oo),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(we(Pi),we(Nr),we(Y6),we(vi))},e.\u0275dir=At({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&hn("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[yn([X6]),rn]}),e})();const X0=new ot("NgModelWithFormControlWarning"),K6={provide:hr,useExisting:wt(()=>Po)};let Po=(()=>{class e extends hr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Kt,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return vl(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Bc(t.control||null,t,!1),function U6(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,_w(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Bc(r||null,t),(e=>e instanceof Gs)(i)&&(vl(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);gw(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function B6(e,n){return jc(e,n)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$0(this.form,this),this._oldForm&&jc(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(we(rr,10),we(io,10),we(Fo,8))},e.\u0275dir=At({type:e,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&hn("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yn([K6]),rn,Hr]}),e})();const t9={provide:oo,useExisting:wt(()=>zs)};let zs=(()=>{class e extends oo{set isDisabled(t){}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Kt,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function q0(e,n){if(!n)return null;let t,r,i;return Array.isArray(n),n.forEach(o=>{o.constructor===Us?t=o:function j6(e){return Object.getPrototypeOf(e.constructor)===Oo}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){this._added||this._setUpControl(),function z0(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Vc(e,n){return[...n.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(t){return new(t||e)(we(hr,13),we(rr,10),we(io,10),we(Mi,10),we(X0,8))},e.\u0275dir=At({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[yn([t9]),rn,Hr]}),e})();const n9={provide:Mi,useExisting:wt(()=>$c),multi:!0};function Tw(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let $c=(()=>{class e extends Oo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Tw(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function r9(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Wn(e)))(r||e)}}(),e.\u0275dir=At({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&hn("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[yn([n9]),rn]}),e})(),xw=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Tw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(we(Nr),we(Pi),we($c,9))},e.\u0275dir=At({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const i9={provide:Mi,useExisting:wt(()=>Q0),multi:!0};function Rw(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Q0=(()=>{class e extends Oo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function o9(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Wn(e)))(r||e)}}(),e.\u0275dir=At({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&hn("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[yn([i9]),rn]}),e})(),Nw=(()=>{class e{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Rw(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Rw(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(we(Nr),we(Pi),we(Q0,9))},e.\u0275dir=At({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),ko=(()=>{class e{constructor(){this._validator=Nc}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Nc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=At({type:e,features:[Hr]}),e})();const l9={provide:rr,useExisting:wt(()=>Gc),multi:!0};let Gc=(()=>{class e extends ko{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ns,this.createValidator=t=>zb}enabled(t){return t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Wn(e)))(r||e)}}(),e.\u0275dir=At({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&wi("required",r._enabled?"":null)},inputs:{required:"required"},features:[yn([l9]),rn]}),e})(),Uw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({imports:[Sw]}),e})();class $w extends Lc{constructor(n,t,r){super(j0(t),U0(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){hw(this,0,n),n.forEach((r,i)=>{fw(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}}function Gw(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let zc=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new e;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return Gw(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new gl(i,o)}record(t,r=null){const i=this._reduceControls(t);return new pw(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Gw(r)?o=r:(o.validators=r,o.asyncValidators=i),new Gs(t,{...o,nonNullable:!0})):new Gs(t,r,i)}array(t,r,i){const o=t.map(s=>this._createControl(s));return new $w(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Gs||t instanceof Lc?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),p9=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Fo,useValue:t.callSetDisabledState??_l}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({imports:[Uw]}),e})(),m9=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:X0,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Fo,useValue:t.callSetDisabledState??_l}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({imports:[Uw]}),e})();class qc{}class Wc{}class Ai{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ai?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Ai;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ai?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class g9{encodeKey(n){return zw(n)}encodeValue(n){return zw(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const v9=/%(\d[a-f0-9])/gi,y9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zw(e){return encodeURIComponent(e).replace(v9,(n,t)=>y9[t]??n)}function Xc(e){return`${e}`}class so{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new g9,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _9(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(Xc):[Xc(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new so({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Xc(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(Xc(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class b9{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function qw(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Ww(e){return typeof Blob<"u"&&e instanceof Blob}function Xw(e){return typeof FormData<"u"&&e instanceof FormData}class wl{constructor(n,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function w9(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ai),this.context||(this.context=new b9),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new so,this.urlWithParams=t}serializeBody(){return null===this.body?null:qw(this.body)||Ww(this.body)||Xw(this.body)||function D9(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof so?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Xw(this.body)?null:Ww(this.body)?this.body.type||null:qw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof so?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let l=n.headers||this.headers,u=n.params||this.params;const m=n.context??this.context;return void 0!==n.setHeaders&&(l=Object.keys(n.setHeaders).reduce((_,x)=>_.set(x,n.setHeaders[x]),l)),n.setParams&&(u=Object.keys(n.setParams).reduce((_,x)=>_.set(x,n.setParams[x]),u)),new wl(t,r,o,{params:u,headers:l,context:m,reportProgress:a,responseType:i,withCredentials:s})}}var Vn=(()=>((Vn=Vn||{})[Vn.Sent=0]="Sent",Vn[Vn.UploadProgress=1]="UploadProgress",Vn[Vn.ResponseHeader=2]="ResponseHeader",Vn[Vn.DownloadProgress=3]="DownloadProgress",Vn[Vn.Response=4]="Response",Vn[Vn.User=5]="User",Vn))();class K0{constructor(n,t=200,r="OK"){this.headers=n.headers||new Ai,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class J0 extends K0{constructor(n={}){super(n),this.type=Vn.ResponseHeader}clone(n={}){return new J0({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class qs extends K0{constructor(n={}){super(n),this.type=Vn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new qs({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Yw extends K0{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function ep(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Zw=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof wl)o=t;else{let l,u;l=i.headers instanceof Ai?i.headers:new Ai(i.headers),i.params&&(u=i.params instanceof so?i.params:new so({fromObject:i.params})),o=new wl(t,r,void 0!==i.body?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=dt(o).pipe(Fs(l=>this.handler.handle(l)));if(t instanceof wl||"events"===i.observe)return s;const a=s.pipe(ji(l=>l instanceof qs));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(A(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(A(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(A(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(A(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new so).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ep(i,r))}post(t,r,i={}){return this.request("POST",t,ep(i,r))}put(t,r,i={}){return this.request("PUT",t,ep(i,r))}}return e.\u0275fac=function(t){return new(t||e)(_t(qc))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();function Jw(e,n){return n(e)}function E9(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const M9=new ot(""),Dl=new ot(""),eD=new ot("");function A9(){let e=null;return(n,t)=>{null===e&&(e=(nt(M9,{optional:!0})??[]).reduceRight(E9,Jw));const r=nt(Wu),i=r.add();return e(n,t).pipe(Qa(()=>r.remove(i)))}}let tD=(()=>{class e extends qc{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=nt(Wu)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Dl),...this.injector.get(eD,[])]));this.chain=i.reduceRight((o,s)=>function S9(e,n,t){return(r,i)=>t.runInContext(()=>n(r,o=>e(o,i)))}(o,s,this.injector),Jw)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Qa(()=>this.pendingTasks.remove(r)))}}return e.\u0275fac=function(t){return new(t||e)(_t(Wc),_t(_i))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();const R9=/^\)\]\}',?\n/;let rD=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Ie(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Nt(r.\u0275loadImpl()):dt(null)).pipe(vn(()=>new F(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((ie,ye)=>s.setRequestHeader(ie,ye.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ie=t.detectContentTypeHeader();null!==ie&&s.setRequestHeader("Content-Type",ie)}if(t.responseType){const ie=t.responseType.toLowerCase();s.responseType="json"!==ie?ie:"text"}const a=t.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const ie=s.statusText||"OK",ye=new Ai(s.getAllResponseHeaders()),Ne=function N9(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return l=new J0({headers:ye,status:s.status,statusText:ie,url:Ne}),l},m=()=>{let{headers:ie,status:ye,statusText:Ne,url:me}=u(),tt=null;204!==ye&&(tt=typeof s.response>"u"?s.responseText:s.response),0===ye&&(ye=tt?200:0);let St=ye>=200&&ye<300;if("json"===t.responseType&&"string"==typeof tt){const Ot=tt;tt=tt.replace(R9,"");try{tt=""!==tt?JSON.parse(tt):null}catch($n){tt=Ot,St&&(St=!1,tt={error:$n,text:tt})}}St?(o.next(new qs({body:tt,headers:ie,status:ye,statusText:Ne,url:me||void 0})),o.complete()):o.error(new Yw({error:tt,headers:ie,status:ye,statusText:Ne,url:me||void 0}))},_=ie=>{const{url:ye}=u(),Ne=new Yw({error:ie,status:s.status||0,statusText:s.statusText||"Unknown Error",url:ye||void 0});o.error(Ne)};let x=!1;const k=ie=>{x||(o.next(u()),x=!0);let ye={type:Vn.DownloadProgress,loaded:ie.loaded};ie.lengthComputable&&(ye.total=ie.total),"text"===t.responseType&&s.responseText&&(ye.partialText=s.responseText),o.next(ye)},te=ie=>{let ye={type:Vn.UploadProgress,loaded:ie.loaded};ie.lengthComputable&&(ye.total=ie.total),o.next(ye)};return s.addEventListener("load",m),s.addEventListener("error",_),s.addEventListener("timeout",_),s.addEventListener("abort",_),t.reportProgress&&(s.addEventListener("progress",k),null!==a&&s.upload&&s.upload.addEventListener("progress",te)),s.send(a),o.next({type:Vn.Sent}),()=>{s.removeEventListener("error",_),s.removeEventListener("abort",_),s.removeEventListener("load",m),s.removeEventListener("timeout",_),t.reportProgress&&(s.removeEventListener("progress",k),null!==a&&s.upload&&s.upload.removeEventListener("progress",te)),s.readyState!==s.DONE&&s.abort()}})))}}return e.\u0275fac=function(t){return new(t||e)(_t(c2))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();const tp=new ot("XSRF_ENABLED"),iD=new ot("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),oD=new ot("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class sD{}let P9=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ky(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(_t(Pr),_t(go),_t(iD))},e.\u0275prov=vt({token:e,factory:e.\u0275fac}),e})();function k9(e,n){const t=e.url.toLowerCase();if(!nt(tp)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=nt(sD).getToken(),i=nt(oD);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var bn=(()=>((bn=bn||{})[bn.Interceptors=0]="Interceptors",bn[bn.LegacyInterceptors=1]="LegacyInterceptors",bn[bn.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",bn[bn.NoXsrfProtection=3]="NoXsrfProtection",bn[bn.JsonpSupport=4]="JsonpSupport",bn[bn.RequestsMadeViaParent=5]="RequestsMadeViaParent",bn[bn.Fetch=6]="Fetch",bn))();function Lo(e,n){return{\u0275kind:e,\u0275providers:n}}function L9(...e){const n=[Zw,rD,tD,{provide:qc,useExisting:tD},{provide:Wc,useExisting:rD},{provide:Dl,useValue:k9,multi:!0},{provide:tp,useValue:!0},{provide:sD,useClass:P9}];for(const t of e)n.push(...t.\u0275providers);return function Kd(e){return{\u0275providers:e}}(n)}const aD=new ot("LEGACY_INTERCEPTOR_FN");let B9=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({providers:[L9(Lo(bn.LegacyInterceptors,[{provide:aD,useFactory:A9},{provide:Dl,useExisting:aD,multi:!0}]))]}),e})(),Cl=(()=>{class e{constructor(t){this.http=t}executeQuery(t,r){return this.http.get("http://localhost:8080/userlogin?username="+t+"&password="+r)}postResult(t){return this.http.post("http://localhost:8080/result",t)}postData(t){return this.http.post("http://localhost:8080/product",t)}getQuestion(t){return this.http.get("http://localhost:8080/domain?domain="+t)}getMarks(t,r,i){return this.http.get("http://localhost:8080/marks?username="+t+"&domain="+r+"&visit="+i)}}return e.\u0275fac=function(t){return new(t||e)(_t(Zw))},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),El=(()=>{class e{constructor(){this.dataSubject=new H(""),this.data$=this.dataSubject.asObservable(),this.userSubject=new H(""),this.user$=this.userSubject.asObservable(),this.visitSubject=new H(""),this.visit$=this.visitSubject.asObservable()}setDomain(t){this.dataSubject.next(t)}setUsername(t){this.userSubject.next(t)}setVisit(t){this.visitSubject.next(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),z9=(()=>{class e{constructor(t,r,i,o){this.router=t,this.dataService=r,this.formBuilder=i,this.datatransferService=o}ngOnInit(){this.myForm=this.formBuilder.group({username:["",ai.required],password:["",ai.required]})}goToInstructions(){this.dataService.executeQuery(this.myForm?.controls?.username?.value,this.myForm?.controls?.password?.value).subscribe(t=>{t.length>0?(this.datatransferService.setUsername(this.myForm?.controls?.username?.value),this.datatransferService.setVisit(t[0].visit),this.router.navigate(["/instructions"])):console.log("Invalid credentials")},t=>{console.log("An error occurred:",t)})}}return e.\u0275fac=function(t){return new(t||e)(we(Xn),we(Cl),we(zc),we(El))},e.\u0275cmp=Br({type:e,selectors:[["app-login"]],decls:46,vars:1,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["http-equiv","X-UA-Compatible","content","ie=edge"],["rel","preconnect","href","https://fonts.googleapis.com"],["rel","preconnect","href","https://fonts.gstatic.com","crossorigin",""],["href","https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800&display=swap","rel","stylesheet"],[1,"layout"],[1,"sec","flex_box"],[1,"logo","flex_box"],["src","images/draw2 .jpg"],[1,"login_form","flex_box"],[1,"signup"],[1,"flex_box",3,"formGroup"],[1,"form_row"],[1,"email","flex_box"],["type","text","formControlName","username"],[1,"password","flex_box"],[2,"width","80%"],["href","#",2,"color","white"],["type","password","formControlName","password"],[1,"btn"],["type","button",1,"btn","btn-primary","btn-block",3,"click"],[1,"help","flex_box"],["type","checkbox"],[1,"text-center"],["href","/signup",2,"color","white"],[1,"option"],[1,"txt"]],template:function(t,r){1&t&&(Ue(0,"head"),tn(1,"meta",0)(2,"meta",1)(3,"meta",2),Ue(4,"title"),bt(5,"Static Template"),Be(),tn(6,"link",3)(7,"link",4)(8,"link",5),Be(),Ue(9,"body"),tn(10,"div",6),Ue(11,"div",7)(12,"div",8),tn(13,"img",9),Be(),Ue(14,"div",10)(15,"div",11)(16,"form",12)(17,"h3"),bt(18,"Sign In"),Be(),Ue(19,"div",13)(20,"div",14)(21,"label"),bt(22,"Username"),Be(),tn(23,"input",15),Be()(),Ue(24,"div",13)(25,"div",16)(26,"label",17),bt(27,"Password"),Be(),Ue(28,"a",18),bt(29,"Forgot password"),Be()(),tn(30,"input",19),Be(),Ue(31,"div",20)(32,"button",21),hn("click",function(){return r.goToInstructions()}),bt(33,"Login"),Be()(),Ue(34,"div",13)(35,"div",22),tn(36,"input",23),Ue(37,"label"),bt(38,"Remember me"),Be(),Ue(39,"p",24)(40,"a",25),bt(41,"Sign up"),Be()()()(),Ue(42,"h2"),bt(43,"Or"),Be(),Ue(44,"div",26),tn(45,"div",27),Be()()()()()()),2&t&&($t(16),on("formGroup",r.myForm))},dependencies:[bl,Us,fl,hl,Po,zs],styles:['*[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;margin:auto;padding:0;box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%}.flex_box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.sec[_ngcontent-%COMP%]{background-color:#fff}form[_ngcontent-%COMP%]{background-color:#211f1fcc;flex-direction:column;padding:20px 26px;width:350px;color:#fff;border-radius:5px}input[_ngcontent-%COMP%]{width:100%;height:31px;padding:3px 7px;margin-bottom:25px;caret-color:#ff9b51}.login_form[_ngcontent-%COMP%]{height:100vh}h3[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:1.2;margin-bottom:20px;width:100%}label[_ngcontent-%COMP%]{padding-left:2px;padding-bottom:8px;font-weight:700;width:100%}.email[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;font-size:15px;height:36px;padding:5px;margin:10px 0;border:transparent;color:#fff;background-color:#ff9b51;border-radius:5px}.form_row[_ngcontent-%COMP%]{width:100%}.form_row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:50%;font-size:13px;text-decoration:none;text-align:left;font-weight:500}.help[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:5%;margin:0 3px 0 0}.help[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;font-size:12px;font-weight:400}.nxt_sec[_ngcontent-%COMP%]{height:20px;width:100%;padding:4px}h2[_ngcontent-%COMP%]{overflow:hidden;text-align:center;width:100%;font-size:15px;font-weight:500;margin:10px 0}h2[_ngcontent-%COMP%]:before, h2[_ngcontent-%COMP%]:after{content:"";margin:0 7px;display:inline-block;background-color:#ffffff52;position:relative;height:1px;vertical-align:middle;width:42%}.option[_ngcontent-%COMP%]{display:flex;height:34px;background-color:#fff;width:80%;justify-content:center;align-items:center;border-radius:18px;margin:10px 0}.google[_ngcontent-%COMP%]{height:18px;width:18px;margin-right:5px}.txt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;text-decoration:none;color:#000;font-size:14px}']}),e})(),q9=(()=>{class e{constructor(t,r,i){this.router=t,this.dataService=r,this.formBuilder=i}ngOnInit(){this.myForm=this.formBuilder.group({name:["",ai.required],username:["",ai.required],email:["",[ai.required,ai.email]],password:["",ai.required],confirmPassword:["",ai.required]})}goToLogin(){this.dataService.postData(this.myForm.value).subscribe(t=>{this.router.navigate(["/login"])},t=>{})}}return e.\u0275fac=function(t){return new(t||e)(we(Xn),we(Cl),we(zc))},e.\u0275cmp=Br({type:e,selectors:[["app-signup"]],decls:34,vars:1,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"],[1,"container"],[3,"formGroup"],[1,"form-group"],["for","name"],["type","text","formControlName","name","placeholder","Enter your name","required","",1,"form-control"],["for","username"],["type","text","formControlName","username","placeholder","Enter your username","required","",1,"form-control"],["for","email"],["type","email","formControlName","email","placeholder","Enter your email","required","",1,"form-control"],["for","password"],["type","password","formControlName","password","placeholder","Enter your password","required","",1,"form-control"],["for","confirmPassword"],["type","password","formControlName","confirmPassword","placeholder","Confirm your password","required","",1,"form-control"],["type","button",1,"btn","btn-primary","btn-block",3,"click"]],template:function(t,r){1&t&&(Ue(0,"head"),tn(1,"meta",0)(2,"meta",1),Ue(3,"title"),bt(4,"Login Page"),Be(),tn(5,"link",2),Be(),Ue(6,"div",3)(7,"h2"),bt(8,"Signup"),Be(),Ue(9,"form")(10,"div")(11,"form",4)(12,"div",5)(13,"label",6),bt(14,"Name"),Be(),tn(15,"input",7),Be(),Ue(16,"div",5)(17,"label",8),bt(18,"Username"),Be(),tn(19,"input",9),Be(),Ue(20,"div",5)(21,"label",10),bt(22,"Email"),Be(),tn(23,"input",11),Be(),Ue(24,"div",5)(25,"label",12),bt(26,"Password"),Be(),tn(27,"input",13),Be(),Ue(28,"div",5)(29,"label",14),bt(30,"Confirm Password"),Be(),tn(31,"input",15),Be(),Ue(32,"button",16),hn("click",function(){return r.goToLogin()}),bt(33,"Next"),Be()()()()()),2&t&&($t(11),on("formGroup",r.myForm))},dependencies:[bl,Us,fl,hl,Gc,Uc,Po,zs],styles:['*[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;margin:auto;padding:0;box-sizing:border-box}img[_ngcontent-%COMP%]{width:100%}.flex_box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.sec[_ngcontent-%COMP%]{background-color:#fff}form[_ngcontent-%COMP%]{background-color:#211f1fcc;flex-direction:column;padding:20px 26px;width:350px;color:#fff;border-radius:5px}input[_ngcontent-%COMP%]{width:100%;height:31px;padding:3px 7px;margin-bottom:25px;caret-color:#ff9b51}.login_form[_ngcontent-%COMP%]{height:100vh}h3[_ngcontent-%COMP%]{font-weight:400;font-size:28px;line-height:1.2;margin-bottom:20px;width:100%}label[_ngcontent-%COMP%]{padding-left:2px;padding-bottom:8px;font-weight:700;width:100%}.email[_ngcontent-%COMP%]{flex-direction:column}.btn[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{width:100%;font-size:15px;height:36px;padding:5px;margin:10px 0;border:transparent;color:#fff;background-color:#ff9b51;border-radius:5px}.form_row[_ngcontent-%COMP%]{width:100%}.form_row[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:50%;font-size:13px;text-decoration:none;text-align:left;font-weight:500}.help[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:5%;margin:0 3px 0 0}.help[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:0;font-size:12px;font-weight:400}.nxt_sec[_ngcontent-%COMP%]{height:20px;width:100%;padding:4px}h2[_ngcontent-%COMP%]{overflow:hidden;text-align:center;width:100%;font-size:15px;font-weight:500;margin:10px 0}h2[_ngcontent-%COMP%]:before, h2[_ngcontent-%COMP%]:after{content:"";margin:0 7px;display:inline-block;background-color:#ffffff52;position:relative;height:1px;vertical-align:middle;width:42%}.option[_ngcontent-%COMP%]{display:flex;height:34px;background-color:#fff;width:80%;justify-content:center;align-items:center;border-radius:18px;margin:10px 0}.google[_ngcontent-%COMP%]{height:18px;width:18px;margin-right:5px}.txt[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-align:center;text-decoration:none;color:#000;font-size:14px}']}),e})(),W9=(()=>{class e{constructor(t){this.router=t}goToDomain(){this.router.navigate(["/domain"])}}return e.\u0275fac=function(t){return new(t||e)(we(Xn))},e.\u0275cmp=Br({type:e,selectors:[["app-instructions"]],decls:47,vars:0,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"],[1,"container"],[1,"row"],[1,"col-12","instruction"],[1,"instruction-heading"],[1,"col-sm-6"],["role","alert",1,"alert","alert-success","min-height-210"],[1,"alert-heading"],["role","alert",1,"alert","alert-danger","min-height-210"],[1,"col-12"],["type","button",1,"btn","btn-primary","btn-block",3,"click"]],template:function(t,r){1&t&&(Ue(0,"head"),tn(1,"meta",0)(2,"meta",1),Ue(3,"title"),bt(4,"Assessment Instructions"),Be(),tn(5,"link",2),Be(),Ue(6,"body")(7,"div",3)(8,"div",4)(9,"div",5)(10,"h2",6),bt(11,"Instructions:"),Be()()(),Ue(12,"div",4)(13,"div",7)(14,"div",8)(15,"h4",9),bt(16,"Do:"),Be(),Ue(17,"ul")(18,"li"),bt(19,"Read the questions carefully."),Be(),Ue(20,"li"),bt(21,"Answer all the questions within the given time."),Be(),Ue(22,"li"),bt(23,"Double-check your answers before submitting."),Be(),Ue(24,"li"),bt(25,"Follow the instructions provided for each question."),Be(),Ue(26,"li"),bt(27,"Seek clarification if you have any doubts."),Be()()()(),Ue(28,"div",7)(29,"div",10)(30,"h4",9),bt(31,"Do Not:"),Be(),Ue(32,"ul")(33,"li"),bt(34,"Use any external resources or aids."),Be(),Ue(35,"li"),bt(36,"Communicate or collaborate with others."),Be(),Ue(37,"li"),bt(38,"Attempt to cheat or copy answers."),Be(),Ue(39,"li"),bt(40,"Use any electronic devices during the assessment."),Be(),Ue(41,"li"),bt(42,"Engage in any behavior that violates the assessment rules."),Be()()()()(),Ue(43,"div",4)(44,"div",11)(45,"button",12),hn("click",function(){return r.goToDomain()}),bt(46,"Next"),Be()()()()())},styles:["body[_ngcontent-%COMP%]{background-color:#f2f2f2;display:flex;justify-content:center;align-items:center;height:100vh}.container[_ngcontent-%COMP%]{padding:40px;background-color:#fff;border-radius:5px;box-shadow:0 0 10px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.instruction[_ngcontent-%COMP%]{display:contents}.instruction-heading[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.alert[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-bottom:0}.min-heigh-210[_ngcontent-%COMP%]{min-height:210px}","\n\n        \n        .instruction-heading[_ngcontent-%COMP%] {\n            margin-top: 20px;\n        }\n        \n        .min-height-210[_ngcontent-%COMP%] {\n            min-height: 210px;\n        }\n        \n        .container[_ngcontent-%COMP%] {\n            margin-top: 50px;\n        }\n        \n        .row[_ngcontent-%COMP%] {\n            margin-bottom: 20px;\n        }"]}),e})();const X9=["video"],Y9=["canvas"];function Z9(e,n){if(1&e){const t=Ds();Ue(0,"div",6),hn("click",function(){return Zr(t),Qr(Fr().rotateVideoInput(!0))}),Be()}}class np{constructor(n,t,r){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=t,this._imageAsDataUrl=n,this._imageData=r}static getDataFromDataUrl(n,t){return n.replace(`data:${t};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=np.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}}class lD{static getAvailableVideoInputs(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise((n,t)=>{navigator.mediaDevices.enumerateDevices().then(r=>{n(r.filter(i=>"videoinput"===i.kind))}).catch(r=>{t(r.message||r)})}):Promise.reject("enumerateDevices() not supported.")}}let uD=(()=>{class e{constructor(){this.width=640,this.height=480,this.videoOptions=e.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=e.DEFAULT_IMAGE_TYPE,this.imageQuality=e.DEFAULT_IMAGE_QUALITY,this.imageCapture=new Kt,this.initError=new Kt,this.imageClick=new Kt,this.cameraSwitched=new Kt,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(t){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=t.subscribe(()=>{this.takeSnapshot()})}set switchCamera(t){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=t.subscribe(r=>{"string"==typeof r?this.switchToVideoInput(r):this.rotateVideoInput(!1!==r)})}static getMediaConstraintsForDevice(t,r){const i=r||this.DEFAULT_VIDEO_OPTIONS;return t&&(i.deviceId={exact:t}),i}static getDeviceIdFromMediaStreamTrack(t){if(t.getSettings&&t.getSettings()&&t.getSettings().deviceId)return t.getSettings().deviceId;if(t.getConstraints&&t.getConstraints()&&t.getConstraints().deviceId){const r=t.getConstraints().deviceId;return e.getValueFromConstrainDOMString(r)}}static getFacingModeFromMediaStreamTrack(t){if(t){if(t.getSettings&&t.getSettings()&&t.getSettings().facingMode)return t.getSettings().facingMode;if(t.getConstraints&&t.getConstraints()&&t.getConstraints().facingMode){const r=t.getConstraints().facingMode;return e.getValueFromConstrainDOMString(r)}}}static isUserFacing(t){const r=e.getFacingModeFromMediaStreamTrack(t);return!!r&&"user"===r.toLowerCase()}static getValueFromConstrainDOMString(t){if(t){if(t instanceof String)return String(t);if(Array.isArray(t)&&Array(t).length>0)return String(t[0]);if("object"==typeof t){if(t.exact)return String(t.exact);if(t.ideal)return String(t.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(t=>{this.initError.next({message:t}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){const t=this.nativeVideoElement,r={width:this.width,height:this.height};t.videoWidth&&(r.width=t.videoWidth,r.height=t.videoHeight);const i=this.canvas.nativeElement;i.width=r.width,i.height=r.height;const o=i.getContext("2d");o.drawImage(t,0,0);const s=this.imageType?this.imageType:e.DEFAULT_IMAGE_TYPE,l=i.toDataURL(s,this.imageQuality?this.imageQuality:e.DEFAULT_IMAGE_QUALITY);let u=null;this.captureImageData&&(u=o.getImageData(0,0,i.width,i.height)),this.imageCapture.next(new np(l,s,u))}rotateVideoInput(t){this.availableVideoInputs&&this.availableVideoInputs.length>1&&this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex+(t?1:this.availableVideoInputs.length-1))%this.availableVideoInputs.length].deviceId)}switchToVideoInput(t){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(t,this.videoOptions)}videoResize(){}get videoWidth(){const t=this.getVideoAspectRatio();return Math.min(this.width,this.height*t)}get videoHeight(){const t=this.getVideoAspectRatio();return Math.min(this.height,this.width/t)}get videoStyleClasses(){let t="";return this.isMirrorImage()&&(t+="mirrored "),t.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){const t=this.nativeVideoElement;return t.videoWidth&&t.videoWidth>0&&t.videoHeight&&t.videoHeight>0?t.videoWidth/t.videoHeight:this.width/this.height}initWebcam(t,r){const i=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const o=e.getMediaConstraintsForDevice(t,r);navigator.mediaDevices.getUserMedia({video:o}).then(s=>{this.mediaStream=s,i.srcObject=s,i.play(),this.activeVideoSettings=s.getVideoTracks()[0].getSettings();const a=e.getDeviceIdFromMediaStreamTrack(s.getVideoTracks()[0]);this.cameraSwitched.next(a),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=a?this.availableVideoInputs.findIndex(l=>l.deviceId===a):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(s=>{this.initError.next({message:s.message,mediaStreamError:s})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let t="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?t=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(t=this.mirrorImage.x.toLowerCase())),t){case"always":return!0;case"never":return!1}}return e.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&(this.nativeVideoElement.pause(),this.mediaStream.getTracks().forEach(t=>t.stop()))}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((t,r)=>{lD.getAvailableVideoInputs().then(i=>{this.availableVideoInputs=i,t(i)}).catch(i=>{this.availableVideoInputs=[],r(i)})})}}return e.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},e.DEFAULT_IMAGE_TYPE="image/jpeg",e.DEFAULT_IMAGE_QUALITY=.92,e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Br({type:e,selectors:[["webcam"]],viewQuery:function(t,r){if(1&t&&(Gu(X9,7),Gu(Y9,7)),2&t){let i;Co(i=Eo())&&(r.video=i.first),Co(i=Eo())&&(r.canvas=i.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",mirrorImage:"mirrorImage",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(t,r){1&t&&(Ue(0,"div",0),hn("click",function(){return r.imageClick.next()}),Ue(1,"video",1,2),hn("resize",function(){return r.videoResize()}),Be(),Er(3,Z9,1,0,"div",3),tn(4,"canvas",4,5),Be()),2&t&&($t(1),f_(r.videoStyleClasses),on("width",r.videoWidth)("height",r.videoHeight),$t(2),on("ngIf",r.allowCameraSwitch&&r.availableVideoInputs.length>1&&r.videoInitialized),$t(1),on("width",r.width)("height",r.height))},dependencies:[dc],styles:[".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;position:relative;line-height:0}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:#0000001a;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC);background-repeat:no-repeat;border-radius:5px;position:absolute;right:13px;top:10px;height:48px;width:48px;background-size:80%;cursor:pointer;background-position:center;transition:background-color .2s ease}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:#0000002e}"]}),e})(),Q9=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({imports:[[Kh]]}),e})();var K9=B(978);const J9=["canvas"];function eN(e,n){}function tN(e,n){}function nN(e,n){1&e&&(tn(0,"canvas",null,5),wo(2,"async")),2&e&&Es("hidden",!Do(2,2,Fr().ngxMicRecorderService.isRecording$))}function rN(e,n){1&e&&tn(0,"span",10)}function iN(e,n){1&e&&(function i1(){Tt.lFrame.currentNamespace=Bp}(),Ue(0,"svg",11),tn(1,"path",12),Be())}function oN(e,n){if(1&e){const t=Ds();Ue(0,"div",6),hn("click",function(){return Qr((0,Zr(t).toggle)())}),Ue(1,"div",7),Er(2,rN,1,0,"span",8),Er(3,iN,2,0,"svg",9),Be()()}if(2&e){const t=n.$implicit;$t(2),on("ngIf",t),$t(1),on("ngIf",!t)}}function sN(e,n){if(1&e){const t=Ds();Ue(0,"div",14),bt(1),Be(),Ue(2,"div",15),hn("click",function(){return Zr(t),Qr((0,Fr().toggle)())}),tn(3,"span"),Ue(4,"p"),bt(5),Be()()}if(2&e){const t=Fr(),r=t.recordingTime,i=t.isPaused,o=t.recordingState;$t(1),Ss(" ",r," "),$t(2),Es("blink",!i),$t(2),ei(o)}}function aN(e,n){1&e&&Er(0,sN,6,4,"ng-template",13),2&e&&on("ngIf",n.$implicit)}class lN{constructor(n){this.dataBuffer=[],this.config={sampleRate:44100,bitRate:128},Object.assign(this.config,n),this.mp3Encoder=new K9.d(1,this.config.sampleRate,this.config.bitRate),this.maxSamples=1152,this.samplesMono=null,this.clearBuffer()}clearBuffer(){this.dataBuffer=[]}appendToBuffer(n){this.dataBuffer.push(new Int8Array(n))}floatTo16BitPCM(n,t){for(let r=0;r<n.length;r++){const i=Math.max(-1,Math.min(1,n[r]));t[r]=i<0?32768*i:32767*i}}convertBuffer(n){const t=new Float32Array(n),r=new Int16Array(n.length);return this.floatTo16BitPCM(t,r),r}encode(n){this.samplesMono=this.convertBuffer(n);let t=this.samplesMono.length;for(let r=0;t>=0;r+=this.maxSamples){const i=this.samplesMono.subarray(r,r+this.maxSamples),o=this.mp3Encoder.encodeBuffer(i);this.appendToBuffer(o),t-=this.maxSamples}}finish(){return this.appendToBuffer(this.mp3Encoder.flush()),this.dataBuffer}}const rp=new(window.AudioContext||window.webkitAudioContext);let cD=rp.createAnalyser();const Mr={getAudioContext:()=>rp,startAnalyze(e){const n=Mr.getAudioContext();n.resume().then(()=>{const t=Mr.getAnalyser();n.createMediaStreamSource(e).connect(t)})},pauseAnalyze(){Mr.getAudioContext().suspend()},resumeAnalyze(){Mr.getAudioContext().resume()},getAnalyser:()=>cD,resetAnalyser(){cD=rp.createAnalyser()}};let ip,uN=(()=>{class e{constructor(){this._isRecordingSubject=new H(!1),this._isPausedSubject=new H(!1),this._recordingTimeSubject=new H(0),this._recordedBlobSubject=new H(null),this._recordingStateSubject=new H("inactive"),this._audioContext=new(window.AudioContext||window.webkitAudioContext),this._mp3Encoder=new lN,this.isRecording$=this._isRecordingSubject.asObservable(),this.isPaused$=this._isPausedSubject.asObservable(),this.recordingTime$=this._recordingTimeSubject.asObservable().pipe(A(t=>new Date(1e3*t).toISOString().slice(11,19))),this.recordedBlob$=this._recordedBlobSubject.asObservable(),this.recordedBlobAsMp3$=this.recordedBlob$.pipe(vn(()=>Nt(this._getMp3()))),this.recordingState$=this._recordingStateSubject.asObservable(),this.toggleStartStop=()=>{this._isRecordingSubject.getValue()?this.stopRecording():this.startRecording()},this.startRecording=()=>{void 0===this._timeInterval&&navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{this._activeStream=t,this._isRecordingSubject.next(!0);const r=new MediaRecorder(t);this._mediaRecorder=r,r.start(),this._startTimer(),this._recordingStateSubject.next("recording"),this._mic=this._audioContext.createMediaStreamSource(t),this._processor=this._audioContext.createScriptProcessor(0,1,1),this._mic.connect(this._processor),this._processor.connect(this._audioContext.destination),this._processor.onaudioprocess=i=>{this._mp3Encoder.encode(i.inputBuffer.getChannelData(0))},this._recordingEvents?.afterStartRecording&&this._recordingEvents?.afterStartRecording(),r.addEventListener("dataavailable",i=>{this._recordedBlobSubject.next(i.data),r.stream.getTracks().forEach(o=>o.stop()),this._mediaRecorder=void 0}),Mr.startAnalyze(t)}).catch(t=>console.log(t))},this.stopRecording=()=>{this._mediaRecorder?.stop(),this._stopTimer(),this._recordingTimeSubject.next(0),this._isRecordingSubject.next(!1),this._isPausedSubject.next(!1),this._recordingStateSubject.next("inactive"),Mr.resetAnalyser(),this._recordingEvents?.afterStopRecording&&this._recordingEvents.afterStopRecording(this._recordedBlobSubject.getValue()),this._processor&&this._mic&&(this._mic.disconnect(),this._processor.disconnect(),this._audioContext&&"closed"!==this._audioContext.state&&this._audioContext.close(),this._processor.onaudioprocess=null,this._activeStream?.getAudioTracks().forEach(t=>t.stop()))},this.togglePauseAndResume=()=>{this._isRecordingSubject.getValue()&&(this._isPausedSubject.getValue()?this.resume():this.pause())},this.resume=()=>{this._isPausedSubject.next(!1),this._mediaRecorder?.resume(),this._recordingStateSubject.next("recording"),Mr.resumeAnalyze(),this._audioContext.resume(),this._startTimer(),this._recordingEvents?.onResume&&this._recordingEvents.onResume()},this.pause=()=>{this._isPausedSubject.next(!0),this._mediaRecorder?.pause(),this._recordingStateSubject.next("paused"),Mr.pauseAnalyze(),this._audioContext.suspend(),this._stopTimer(),this._recordingEvents?.onPause&&this._recordingEvents.onPause()}}_startTimer(){this._timeInterval=setInterval(()=>{this._recordingTimeSubject.next(this._recordingTimeSubject.getValue()+1)},1e3)}_stopTimer(){clearInterval(this._timeInterval),this._timeInterval=void 0}_getMp3(){const t=this._mp3Encoder.finish();return new Promise((r,i)=>{0===t.length?i(new Error("No buffer to send")):(r(new Blob(t,{type:"audio/mp3"})),this._mp3Encoder.clearBuffer())})}setRecordingEvents(t){this._recordingEvents=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const cN={width:300,height:150,strokeColor:"#212121",backgroundColor:"white"},dN={visualizeSineWave({canvas:e,backgroundColor:n,strokeColor:t,width:r,height:i}){const o=e.getContext("2d");let s=Mr.getAnalyser();const a=s.fftSize,l=new Uint8Array(a);o.clearRect(0,0,r,i),function u(){ip=requestAnimationFrame(u),s=Mr.getAnalyser(),s.getByteTimeDomainData(l),o.fillStyle=n,o.fillRect(0,0,r,i),o.lineWidth=2,o.strokeStyle=t,o.beginPath();const m=r/a;let _=0;for(let x=0;x<a;x++){const te=l[x]/128*i/2;0===x?o.moveTo(_,te):o.lineTo(_,te),_+=m}o.lineTo(e.width,e.height/2),o.stroke()}()},visualizeFrequencyBars({canvas:e,backgroundColor:n,strokeColor:t,width:r,height:i}){const o=e.getContext("2d");let s=Mr.getAnalyser();s.fftSize=256;const a=s.frequencyBinCount,l=new Uint8Array(a);o.clearRect(0,0,r,i);const u=()=>{ip=requestAnimationFrame(u),s=Mr.getAnalyser(),s.getByteFrequencyData(l),o.fillStyle=n,o.fillRect(0,0,r,i);const m=r/a*2.5;let _,x=0;for(let k=0;k<a;k++)_=l[k],this.hexToRgb(t),o.fillStyle=t,o.fillRect(x,i-_/2,m,_/2),x+=m+1};u()},visualizeFrequencyCircles({canvas:e,backgroundColor:n,strokeColor:t,width:r,height:i}){const o=e.getContext("2d");let s=Mr.getAnalyser();s.fftSize=32;const a=s.frequencyBinCount,l=new Uint8Array(a);o.clearRect(0,0,r,i);const u=()=>{ip=requestAnimationFrame(u),s=Mr.getAnalyser(),s.getByteFrequencyData(l);const _=new Uint8Array(a/3);for(let k=0;k<a;k+=3){let te=0;for(let ie=0;ie<3;ie++)te+=l[k+ie];_[k/3]=te/3}o.clearRect(0,0,r,i),o.beginPath(),o.arc(r/2,i/2,Math.min(i,r)/2,0,2*Math.PI),o.fillStyle=n,o.fill();const x=Math.min(i,r)/2/_.length;o.strokeStyle=t;for(let k=0;k<_.length;k++)o.beginPath(),o.arc(r/2,i/2,x*k+x*(_[k]/128),0,2*Math.PI),o.stroke()};u()},hexToRgb(e){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null},visualize(e,n){this[`visualize${e||"SineWave"}`]({...cN,...n})}};let fN=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(we(ti))},e.\u0275dir=At({type:e,selectors:[["","ngx-mic-start-and-stop",""]]}),e})(),hN=(()=>{class e{constructor(t){this.templateRef=t}}return e.\u0275fac=function(t){return new(t||e)(we(ti))},e.\u0275dir=At({type:e,selectors:[["","ngx-mic-pause-and-resume",""]]}),e})(),pN=(()=>{class e{constructor(t){this.ngxMicRecorderService=t,this.showVisualization=!0,this.getAsMp3=new Kt,this.getAsBlob=new Kt,this.afterStartRecording=new Kt,this.afterStopRecording=new Kt,this.onPauseRecording=new Kt,this.onResumeRecording=new Kt}ngOnInit(){this._subscription=this.ngxMicRecorderService.recordedBlobAsMp3$.subscribe(t=>{this.getAsMp3.emit({data:t,url:URL.createObjectURL(t)})}),this._subscription.add(this.ngxMicRecorderService.recordedBlob$.subscribe(t=>this.getAsBlob.emit(t))),this.ngxMicRecorderService.setRecordingEvents({afterStartRecording:()=>this.afterStartRecording.emit(),afterStopRecording:t=>this.afterStopRecording.emit(t),onPause:()=>this.onPauseRecording.emit(),onResume:()=>this.onResumeRecording.emit()})}ngAfterViewInit(){dN.visualize(this.visualizationType,{canvas:this.canvas.nativeElement,...this.visualizationOptions})}ngOnDestroy(){this._subscription?.unsubscribe()}getStartStopTemplateContext(t){return{$implicit:t,toggle:this.ngxMicRecorderService.toggleStartStop,start:this.ngxMicRecorderService.startRecording,stop:this.ngxMicRecorderService.stopRecording}}getPauseResumeTemplateContext(t,r,i,o){return{$implicit:t,isPaused:r,recordingState:o,recordingTime:i,toggle:this.ngxMicRecorderService.togglePauseAndResume,pause:this.ngxMicRecorderService.pause,resume:this.ngxMicRecorderService.resume}}}return e.\u0275fac=function(t){return new(t||e)(we(uN))},e.\u0275cmp=Br({type:e,selectors:[["ngx-mic-recorder"]],contentQueries:function(t,r,i){if(1&t&&(zu(i,fN,5),zu(i,hN,5)),2&t){let o;Co(o=Eo())&&(r.startStopTemplateRef=o.first),Co(o=Eo())&&(r.pauseResumeTemplateRef=o.first)}},viewQuery:function(t,r){if(1&t&&Gu(J9,5),2&t){let i;Co(i=Eo())&&(r.canvas=i.first)}},inputs:{showVisualization:"showVisualization",visualizationType:"visualizationType",visualizationOptions:"visualizationOptions"},outputs:{getAsMp3:"getAsMp3",getAsBlob:"getAsBlob",afterStartRecording:"afterStartRecording",afterStopRecording:"afterStopRecording",onPauseRecording:"onPauseRecording",onResumeRecording:"onResumeRecording"},decls:13,vars:15,consts:[[1,"ngx-mic-recorder"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"hidden",4,"ngIf"],["defaultStartStopTemplate",""],["defaultPauseAndResume",""],["canvas",""],[1,"ngx-mic-recorder__start-stop",3,"click"],[1,"ngx-mic-recorder__state"],["class","ngx-mic-recorder__stop",4,"ngIf"],["class","ngx-mic-recorder__start","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","aria-hidden","true","id","footer-sample-full","preserveAspectRatio","xMidYMid meet","viewBox","0 0 24 24",4,"ngIf"],[1,"ngx-mic-recorder__stop"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","aria-hidden","true","id","footer-sample-full","preserveAspectRatio","xMidYMid meet","viewBox","0 0 24 24",1,"ngx-mic-recorder__start"],["fill","currentColor","d","M12 14q-1.25 0-2.125-.875T9 11V5q0-1.25.875-2.125T12 2q1.25 0 2.125.875T15 5v6q0 1.25-.875 2.125T12 14Zm-1 7v-3.075q-2.6-.35-4.3-2.325Q5 13.625 5 11h2q0 2.075 1.463 3.537Q9.925 16 12 16t3.538-1.463Q17 13.075 17 11h2q0 2.625-1.7 4.6q-1.7 1.975-4.3 2.325V21Z"],[3,"ngIf"],[1,"ngx-mic-recorder__recording-time"],[1,"ngx-mic-recorder__toggle",3,"click"]],template:function(t,r){if(1&t&&(Ue(0,"div",0),Er(1,eN,0,0,"ng-template",1),wo(2,"async"),Er(3,tN,0,0,"ng-template",1),wo(4,"async"),wo(5,"async"),wo(6,"async"),wo(7,"async"),Be(),Er(8,nN,3,4,"canvas",2),Er(9,oN,4,2,"ng-template",null,3,fh),Er(11,aN,1,1,"ng-template",null,4,fh)),2&t){const i=Vf(10),o=Vf(12);let s,a;$t(1),on("ngTemplateOutlet",(null==r.startStopTemplateRef?null:r.startStopTemplateRef.templateRef)||i)("ngTemplateOutletContext",r.getStartStopTemplateContext(null!==(s=Do(2,5,r.ngxMicRecorderService.isRecording$))&&void 0!==s&&s)),$t(2),on("ngTemplateOutlet",(null==r.pauseResumeTemplateRef?null:r.pauseResumeTemplateRef.templateRef)||o)("ngTemplateOutletContext",r.getPauseResumeTemplateContext(null!==(a=Do(4,7,r.ngxMicRecorderService.isRecording$))&&void 0!==a&&a,null!==(a=Do(5,9,r.ngxMicRecorderService.isPaused$))&&void 0!==a&&a,null!==(a=Do(6,11,r.ngxMicRecorderService.recordingTime$))&&void 0!==a?a:"00:00:00",null!==(a=Do(7,13,r.ngxMicRecorderService.recordingState$))&&void 0!==a?a:"inactive")),$t(5),on("ngIf",r.showVisualization)}},dependencies:[i2,dc,o2],styles:["ngx-mic-recorder{width:400px;display:block}ngx-mic-recorder>*{box-sizing:border-box}ngx-mic-recorder>canvas{width:100%}.ngx-mic-recorder{display:flex;align-items:center;justify-content:space-between}.ngx-mic-recorder__recording-time{color:#282828;font-size:24px;font-weight:700}.ngx-mic-recorder__state{width:24px;height:24px}.ngx-mic-recorder__start-stop{padding:16px;background-color:#282828;border-radius:50px;border:4px solid #CFCFCF;cursor:pointer}.ngx-mic-recorder__start-stop .ngx-mic-recorder__stop{background-color:#cfcfcf;border-radius:4px;width:100%;height:100%;display:block}.ngx-mic-recorder__start-stop .ngx-mic-recorder__start{color:#cfcfcf;width:100%;height:100%}.ngx-mic-recorder__toggle{padding:16px 48px;background-color:#282828;border-radius:50px;border:4px solid #CFCFCF;cursor:pointer;color:#cfcfcf;display:flex;align-items:center}.ngx-mic-recorder__toggle>span{background-color:#d40100;border-radius:50%;width:24px;height:24px;display:block;margin-inline-end:8px}.ngx-mic-recorder__toggle>p{margin:0;width:60px;text-transform:capitalize}.hidden{visibility:hidden}.blink{animation-name:blink;animation-duration:1s;animation-iteration-count:infinite}@keyframes blink{0%{opacity:1}50%{opacity:.3}to{opacity:1}}\n"],encapsulation:2}),e})(),mN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({imports:[[Kh]]}),e})();function gN(e,n){if(1&e){const t=Ds();Ue(0,"div")(1,"div",5)(2,"p"),bt(3),Be()(),Ue(4,"div",6)(5,"div",7)(6,"input",8),hn("keydown.enter",function(){const i=Zr(t),o=i.index,s=i.$implicit;return Qr(Fr().onOptionSelected(o,s.option1))}),Be(),Ue(7,"label",9),bt(8),Be()(),Ue(9,"div",7)(10,"input",8),hn("keydown.enter",function(){const i=Zr(t),o=i.index,s=i.$implicit;return Qr(Fr().onOptionSelected(o,s.option2))}),Be(),Ue(11,"label",9),bt(12),Be()(),Ue(13,"div",7)(14,"input",8),hn("keydown.enter",function(){const i=Zr(t),o=i.index,s=i.$implicit;return Qr(Fr().onOptionSelected(o,s.option3))}),Be(),Ue(15,"label",9),bt(16),Be()(),Ue(17,"div",7)(18,"input",8),hn("keydown.enter",function(){const i=Zr(t),o=i.index,s=i.$implicit;return Qr(Fr().onOptionSelected(o,s.option4))}),Be(),Ue(19,"label",9),bt(20),Be()()()()}if(2&e){const t=n.$implicit,r=n.index;$t(3),ei(t.question),$t(3),on("id","choice1_"+r)("value",t.option1)("formControlName","selectedOption_"+r),$t(1),on("for","choice1_"+r),$t(1),ei(t.option1),$t(2),on("id","choice2_"+r)("value",t.option2)("formControlName","selectedOption_"+r),$t(1),on("for","choice2_"+r),$t(1),ei(t.option2),$t(2),on("id","choice3_"+r)("value",t.option3)("formControlName","selectedOption_"+r),$t(1),on("for","choice3_"+r),$t(1),ei(t.option3),$t(2),on("id","choice4_"+r)("value",t.option4)("formControlName","selectedOption_"+r),$t(1),on("for","choice4_"+r),$t(1),ei(t.option4)}}let _N=(()=>{class e{constructor(t,r,i,o){this.dataService=t,this.datatransferService=r,this.formBuilder=i,this.router=o,this.domain="",this.username=""}ngOnInit(){this.fetchQuestionData()}fetchQuestionData(){this.datatransferService.user$.subscribe(t=>{this.username=t}),this.datatransferService.visit$.subscribe(t=>{this.visit=t}),this.datatransferService.data$.subscribe(t=>{console.log(t),this.domain=t.domain,this.dataService.getQuestion(t.domain).subscribe(r=>{console.log(r),this.jsonData=r,this.buildForm()},r=>{console.log("An error occurred:",r)})})}buildForm(){const t={};this.jsonData.forEach((r,i)=>{t[`selectedOption_${i}`]=new Gs("")}),this.myForm=this.formBuilder.group(t)}onSubmit(){if(this.myForm.valid){const t=[];this.jsonData.forEach((r,i)=>{const o=this.myForm.get("selectedOption_"+i)?.value;o&&t.push({question:r.question,result:o,domain:this.domain,username:this.username,visit:this.visit})}),this.dataService.postResult(t).subscribe(r=>{console.log("User Submitted Data (Array of Objects):",r),this.router.navigate(["/result"],{queryParams:{domain:this.domain,username:this.username,visit:this.visit}}),this.myForm.reset()},r=>{}),console.log("User Submitted Data (Array of Objects):",t),console.log("Username:",this.username),console.log("Domain:",this.domain),this.myForm.reset()}}onOptionSelected(t,r){this.myForm.get(`selectedOption_${t}`)?.setValue(r);const i=t+1;if(i<this.jsonData.length){const o=document.getElementById(`choice1_${i}`);o&&o.focus()}}}return e.\u0275fac=function(t){return new(t||e)(we(Cl),we(El),we(zc),we(Xn))},e.\u0275cmp=Br({type:e,selectors:[["app-questions"]],decls:8,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"container"],[4,"ngFor","ngForOf"],[1,"submit-button"],["type","submit",1,"btn","btn-primary"],[1,"question"],[1,"choices"],[1,"form-check"],["type","radio",1,"form-check-input",3,"id","value","formControlName","keydown.enter"],[1,"form-check-label",3,"for"]],template:function(t,r){1&t&&(Ue(0,"form",0),hn("ngSubmit",function(){return r.onSubmit()}),Ue(1,"div",1)(2,"h2"),bt(3,"Aptitude Question"),Be(),Er(4,gN,21,21,"div",2),Be(),Ue(5,"div",3)(6,"button",4),bt(7,"Submit"),Be()()()),2&t&&(on("formGroup",r.myForm),$t(4),on("ngForOf",r.jsonData))},dependencies:[cc,bl,Us,W0,fl,hl,Po,zs],styles:["body[_ngcontent-%COMP%]{background-color:#f8f9fa}.container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:30px;background-color:#fff;border-radius:5px;box-shadow:0 0 10px #0000001a}h2[_ngcontent-%COMP%]{margin-bottom:20px;text-align:center}.question[_ngcontent-%COMP%]{font-weight:700;margin-bottom:20px}.choices[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px}"]}),e})();function vN(e,n){if(1&e){const t=Ds();Ue(0,"webcam",9),hn("imageCapture",function(i){return Zr(t),Qr(Fr().handleImage(i))})("cameraSwitched",function(i){return Zr(t),Qr(Fr().cameraWasSwitched(i))})("initError",function(i){return Zr(t),Qr(Fr().handleInitError(i))}),Be()}if(2&e){const t=Fr();on("height",500)("width",500)("trigger",t.triggerObservable)("allowCameraSwitch",t.allowCameraSwitch)("switchCamera",t.nextWebcamObservable)("videoOptions",t.videoOptions)}}function bN(e,n){if(1&e&&(Ue(0,"option",4),bt(1),Be()),2&e){const t=n.$implicit;on("value",t.domain),$t(1),ei(t.domainname)}}function DN(e,n){if(1&e&&(Ue(0,"li")(1,"span",5),bt(2),Be(),Ue(3,"span",6),bt(4),Be()()),2&e){const t=n.$implicit;$t(2),ei(t.question),$t(2),ei(t.selectedOption)}}const CN=[{path:"login",component:z9},{path:"signup",component:q9},{path:"instructions",component:W9},{path:"protrocor",component:(()=>{class e{constructor(){this.pictureTaken=new Kt,this.showWebcam=!0,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={},this.errors=[],this.trigger=new de,this.nextWebcam=new de}ngOnInit(){lD.getAvailableVideoInputs().then(t=>{this.multipleWebcamsAvailable=t&&t.length>1})}triggerSnapshot(){this.trigger.next()}toggleWebcam(){this.showWebcam=!this.showWebcam}handleInitError(t){this.errors.push(t)}showNextWebcam(t){this.nextWebcam.next(t)}handleImage(t){console.info("received webcam image",t),this.pictureTaken.emit(t)}cameraWasSwitched(t){console.log("active device: "+t),this.deviceId=t}get triggerObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Br({type:e,selectors:[["app-protrocor"]],outputs:{pictureTaken:"pictureTaken"},decls:17,vars:1,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"],[1,"container"],[1,"row"],[1,"col-sm-6"],[1,"camera-container"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageCapture","cameraSwitched","initError",4,"ngIf"],[1,"questions-container"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageCapture","cameraSwitched","initError"]],template:function(t,r){1&t&&(Ue(0,"head"),tn(1,"meta",0)(2,"meta",1),Ue(3,"title"),bt(4,"Login Page"),Be(),tn(5,"link",2),Be(),Ue(6,"body")(7,"div",3)(8,"div",4)(9,"div",5)(10,"div",6),Er(11,vN,1,6,"webcam",7),Be(),Ue(12,"div",4),tn(13,"ngx-mic-recorder"),Be()(),Ue(14,"div",5)(15,"div",8),tn(16,"app-questions"),Be()()()()()),2&t&&($t(11),on("ngIf",r.showWebcam))},dependencies:[dc,uD,pN,_N],styles:["#video-container[_ngcontent-%COMP%]{margin-top:20px}video[_ngcontent-%COMP%]{width:100%;max-width:500px;display:block;margin:0 auto}",".camera-container[_ngcontent-%COMP%] {\n            height: 500px;\n            width: 100%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n        \n        .questions-container[_ngcontent-%COMP%] {\n            height: 500px;\n            width: 100%;\n            overflow-y: scroll;\n        }"]}),e})()},{path:"domain",component:(()=>{class e{constructor(t,r,i){this.router=t,this.formBuilder=r,this.datatransferService=i,this.jsonData=[{id:"1",domain:"ECE",domainname:"Electronics and communication"},{id:"2",domain:"CS/IT",domainname:"Computer science or Information technology"},{id:"3",domain:"MECH",domainname:"Mechanical"}]}ngOnInit(){this.myForm=this.formBuilder.group({selectedDomain:["",ai.required],question:["",ai.required],result:["",ai.required]})}goToProtrocor(){const t=this.myForm.get("selectedDomain")?.value,r=this.jsonData.find(i=>i.domain===t);r&&(this.datatransferService.setDomain(r),this.router.navigate(["/protrocor"]))}}return e.\u0275fac=function(t){return new(t||e)(we(Xn),we(zc),we(El))},e.\u0275cmp=Br({type:e,selectors:[["app-domain"]],decls:14,vars:2,consts:[[3,"formGroup","ngSubmit"],["formControlName","selectedDomain"],[3,"value",4,"ngFor","ngForOf"],["type","submit","value","Submit",1,"btn","btn-primary","btn-block"],[3,"value"]],template:function(t,r){1&t&&(Ue(0,"head")(1,"title"),bt(2,"Domain Selection"),Be()(),Ue(3,"body")(4,"h2"),bt(5,"Which domain are you from?"),Be(),Ue(6,"form",0),hn("ngSubmit",function(){return r.goToProtrocor()}),Ue(7,"label"),bt(8,"Select your domain:"),Be(),Ue(9,"select",1),Er(10,bN,2,2,"option",2),Be(),tn(11,"br")(12,"br")(13,"input",3),Be()()),2&t&&($t(6),on("formGroup",r.myForm),$t(4),on("ngForOf",r.jsonData))},dependencies:[cc,bl,xw,Nw,$c,fl,hl,Po,zs],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f2f2f2}h2[_ngcontent-%COMP%]{color:#333;text-align:center;padding-top:20px}form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;background-color:#fff;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;font-weight:700}select[_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:16px}input[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:16px;margin-top:20px}input[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}",'body[_ngcontent-%COMP%] {\n            font-family: Arial, sans-serif;\n            background-color: #f2f2f2;\n        }\n        \n        h2[_ngcontent-%COMP%] {\n            color: #333;\n            text-align: center;\n            padding-top: 20px;\n        }\n        \n        form[_ngcontent-%COMP%] {\n            max-width: 400px;\n            margin: 0 auto;\n            background-color: #fff;\n            padding: 20px;\n            border-radius: 5px;\n            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n        }\n        \n        label[_ngcontent-%COMP%] {\n            display: block;\n            margin-bottom: 10px;\n            font-weight: bold;\n        }\n        \n        select[_ngcontent-%COMP%] {\n            width: 100%;\n            padding: 10px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            box-sizing: border-box;\n            font-size: 16px;\n        }\n        \n        input[type="submit"][_ngcontent-%COMP%] {\n            background-color: #4CAF50;\n            color: white;\n            padding: 10px 20px;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 16px;\n            margin-top: 20px;\n        }\n        \n        input[type="submit"][_ngcontent-%COMP%]:hover {\n            background-color: #45a049;\n        }']}),e})()},{path:"result",component:(()=>{class e{constructor(t,r,i){this.route=t,this.datatransferService=r,this.dataService=i,this.domain="",this.username="",this.userResponses=[],this.totalQuestions=0,this.score=0}ngOnInit(){this.route.queryParams.subscribe(t=>{this.domain=t.domain,this.username=t.username,this.visit=t.visit}),this.fetchUserResults()}fetchUserResults(){this.dataService.getMarks(this.username,this.domain,this.visit).subscribe(t=>{this.score=t,console.log("An error occurred:",t)},t=>{console.log("An error occurred:",t)})}}return e.\u0275fac=function(t){return new(t||e)(we(No),we(El),we(Cl))},e.\u0275cmp=Br({type:e,selectors:[["app-result"]],decls:12,vars:3,consts:[[1,"result-page"],[1,"result-container"],[1,"greeting"],[4,"ngFor","ngForOf"],[1,"thank-you"],[1,"question"],[1,"response"]],template:function(t,r){1&t&&(Ue(0,"div",0)(1,"div",1)(2,"h1"),bt(3,"Result"),Be(),Ue(4,"p",2),bt(5),Be(),Ue(6,"p"),bt(7),Be(),Ue(8,"ul"),Er(9,DN,5,2,"li",3),Be(),Ue(10,"p",4),bt(11,"Thank you for participating!"),Be()()()),2&t&&($t(5),Ss("Hello, ",r.username,"!"),$t(2),Ss("Your total score:",r.score,""),$t(2),on("ngForOf",r.userResponses))},dependencies:[cc],styles:[".result-page[_ngcontent-%COMP%]{background-color:#f0f0f0;display:flex;justify-content:center;align-items:center;height:100vh}.result-container[_ngcontent-%COMP%]{text-align:center;background-color:#fff;border-radius:10px;padding:30px;box-shadow:0 4px 8px #0000001a}h1[_ngcontent-%COMP%]{color:#ff9b51;font-size:36px;margin-bottom:20px}.greeting[_ngcontent-%COMP%]{font-size:24px;color:#333;margin-bottom:20px}ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:20px 0}li[_ngcontent-%COMP%]{margin-bottom:10px;font-size:18px}.question[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.response[_ngcontent-%COMP%]{color:#007bff}.thank-you[_ngcontent-%COMP%]{font-size:24px;color:#5cb85c;margin-top:20px}"]}),e})()},{path:"",redirectTo:"/login",pathMatch:"full"}];let EN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_r({type:e}),e.\u0275inj=ar({imports:[Vb.forRoot(CN),Vb]}),e})(),SN=(()=>{class e{title(t){throw new Error("Method not implemented.")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Br({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&tn(0,"router-outlet")},dependencies:[M0]}),e})(),MN=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_r({type:e,bootstrap:[SN]}),e.\u0275inj=ar({providers:[Cl,El],imports:[H5,EN,Q9,mN,p9,B9,m9]}),e})();V5().bootstrapModule(MN).catch(e=>console.error(e))},820:(Ze,ke,B)=>{var Ee=B(284).new_float,j=B(348);Ze.exports=function O(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=Ee(j.SBMAX_l),this.s=Ee(j.SBMAX_s),this.psfb21=Ee(j.PSFB21),this.psfb12=Ee(j.PSFB12),this.cb_l=Ee(j.CBANDS),this.cb_s=Ee(j.CBANDS),this.eql_w=Ee(j.BLKSIZE/2)}},227:(Ze,ke,B)=>{var E=B(284),ge=E.System,We=E.Arrays,ht=E.new_byte,at=E.new_float_n,He=E.new_int,U=E.assert,j=B(976),O=B(396),ee=B(348),se=B(87);function Xe(){var he=B(359),mt=this,_e=32,Re=null,xe=null,q=null,ve=null;this.setModules=function(d,f,c,b){Re=d,xe=f,q=c,ve=b};var le=null,N=0,C=0,p=0;function F(d){ge.arraycopy(d.header[d.w_ptr].buf,0,le,C,d.sideinfo_len),C+=d.sideinfo_len,N+=8*d.sideinfo_len,d.w_ptr=d.w_ptr+1&se.MAX_HEADER_BUF-1}function W(d,f,c){for(U(c<_e-2);c>0;){var b;0==p&&(p=8,C++,U(C<he.LAME_MAXMP3BUFFER),U(d.header[d.w_ptr].write_timing>=N),d.header[d.w_ptr].write_timing==N&&F(d),le[C]=0),b=Math.min(c,p),p-=b,U((c-=b)<_e),U(p<_e),le[C]|=f>>c<<p,N+=b}}function pe(d,f,c){for(U(c<_e-2);c>0;){var b;0==p&&(p=8,C++,U(C<he.LAME_MAXMP3BUFFER),le[C]=0),b=Math.min(c,p),p-=b,U((c-=b)<_e),U(p<_e),le[C]|=f>>c<<p,N+=b}}function X(d,f){var b,c=d.internal_flags;if(U(f>=0),f>=8&&(W(c,76,8),f-=8),f>=8&&(W(c,65,8),f-=8),f>=8&&(W(c,77,8),f-=8),f>=8&&(W(c,69,8),f-=8),f>=32){var w=q.getLameShortVersion();if(f>=32)for(b=0;b<w.length&&f>=8;++b)f-=8,W(c,w.charAt(b),8)}for(;f>=1;f-=1)W(c,c.ancillary_flag,1),c.ancillary_flag^=d.disable_reservoir?0:1;U(0==f)}function z(d,f,c){for(var b=d.header[d.h_ptr].ptr;c>0;){var w=Math.min(c,8-(7&b));U((c-=w)<_e),d.header[d.h_ptr].buf[b>>3]|=f>>c<<8-(7&b)-w,b+=w}d.header[d.h_ptr].ptr=b}function de(d,f){d<<=8;for(var c=0;c<8;c++)65536&((f<<=1)^(d<<=1))&&(f^=32773);return f}function H(d,f){var b,c=O.ht[f.count1table_select+32],w=0,v=f.big_values,P=f.big_values;for(U(f.count1table_select<2),b=(f.count1-f.big_values)/4;b>0;--b){var K,G=0,L=0;0!=(K=f.l3_enc[v+0])&&(L+=8,f.xr[P+0]<0&&G++,U(K<=1)),0!=(K=f.l3_enc[v+1])&&(L+=4,G*=2,f.xr[P+1]<0&&G++,U(K<=1)),0!=(K=f.l3_enc[v+2])&&(L+=2,G*=2,f.xr[P+2]<0&&G++,U(K<=1)),0!=(K=f.l3_enc[v+3])&&(L++,G*=2,f.xr[P+3]<0&&G++,U(K<=1)),v+=4,P+=4,W(d,G+c.table[L],c.hlen[L]),w+=c.hlen[L]}return w}function h(d,f,c,b,w){var v=O.ht[f],P=0;if(U(f<32),0==f)return P;for(var G=c;G<b;G+=2){var L=0,K=0,ue=v.xlen,be=v.xlen,Te=0,je=w.l3_enc[G],Qe=w.l3_enc[G+1];if(0!=je&&(w.xr[G]<0&&Te++,L--),f>15){if(je>14){var rt=je-15;U(rt<=v.linmax),Te|=rt<<1,K=ue,je=15}if(Qe>14){var yt=Qe-15;U(yt<=v.linmax),Te<<=ue,Te|=yt,K+=ue,Qe=15}be=16}0!=Qe&&(Te<<=1,w.xr[G+1]<0&&Te++,L--),U((je|Qe)<16),K-=L,U((L+=v.hlen[je=je*be+Qe])<=_e),U(K<=_e),W(d,v.table[je],L),W(d,Te,K),P+=L+K}return P}function T(d,f){var c=3*d.scalefac_band.s[3];return c>f.big_values&&(c=f.big_values),h(d,f.table_select[0],0,c,f)+h(d,f.table_select[1],c,f.big_values,f)}function I(d,f){var c,b,w,v;U(0<=(c=f.big_values)&&c<=576);var P=f.region0_count+1;return U(0<=P),U(P<d.scalefac_band.l.length),w=d.scalefac_band.l[P],U(0<=(P+=f.region1_count+1)),U(P<d.scalefac_band.l.length),w>c&&(w=c),(v=d.scalefac_band.l[P])>c&&(v=c),b=h(d,f.table_select[0],0,w,f),(b+=h(d,f.table_select[1],w,v,f))+h(d,f.table_select[2],v,c,f)}function A(){this.total=0}function y(d,f){var b,w,v,P,G,c=d.internal_flags;return G=c.w_ptr,-1==(P=c.h_ptr-1)&&(P=se.MAX_HEADER_BUF-1),f.total=b=c.header[P].write_timing-N,b>=0&&(w=1+P-G,P<G&&(w=1+P-G+se.MAX_HEADER_BUF),b-=8*w*c.sideinfo_len),b+=v=mt.getframebits(d),f.total+=v,f.total=f.total%8!=0?1+f.total/8:f.total/8,f.total+=C+1,b<0&&ge.err.println("strange error flushing buffer ... \n"),b}this.getframebits=function(d){var c,f=d.internal_flags;return U(8<=(c=0!=f.bitrate_index?O.bitrate_table[d.version][f.bitrate_index]:d.brate)&&c<=640),8*(0|72e3*(d.version+1)*c/d.out_samplerate+f.padding)},this.CRC_writeheader=function(d,f){var c=65535;c=de(255&f[2],c),c=de(255&f[3],c);for(var b=6;b<d.sideinfo_len;b++)c=de(255&f[b],c);f[4]=byte(c>>8),f[5]=byte(255&c)},this.flush_bitstream=function(d){var c,b,f=d.internal_flags,w=f.h_ptr-1;if(-1==w&&(w=se.MAX_HEADER_BUF-1),c=f.l3_side,!((b=y(d,new A))<0)){if(X(d,b),U(f.header[w].write_timing+this.getframebits(d)==N),f.ResvSize=0,c.main_data_begin=0,f.findReplayGain){var v=Re.GetTitleGain(f.rgdata);U(NEQ(v,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),f.RadioGain=0|Math.floor(10*v+.5)}f.findPeakSample&&(f.noclipGainChange=0|Math.ceil(20*Math.log10(f.PeakSample/32767)*10),f.noclipScale=f.noclipGainChange>0&&(EQ(d.scale,1)||EQ(d.scale,0))?Math.floor(32767/f.PeakSample*100)/100:-1)}},this.add_dummy_byte=function(d,f,c){for(var w,b=d.internal_flags;c-- >0;)for(pe(0,f,8),w=0;w<se.MAX_HEADER_BUF;++w)b.header[w].write_timing+=8},this.format_bitstream=function(d){var c,f=d.internal_flags;c=f.l3_side;var b=this.getframebits(d);X(d,c.resvDrain_pre),function Me(d,f){var b,w,v,c=d.internal_flags;if(b=c.l3_side,c.header[c.h_ptr].ptr=0,We.fill(c.header[c.h_ptr].buf,0,c.sideinfo_len,0),z(c,d.out_samplerate<16e3?4094:4095,12),z(c,d.version,1),z(c,1,2),z(c,d.error_protection?0:1,1),z(c,c.bitrate_index,4),z(c,c.samplerate_index,2),z(c,c.padding,1),z(c,d.extension,1),z(c,d.mode.ordinal(),2),z(c,c.mode_ext,2),z(c,d.copyright,1),z(c,d.original,1),z(c,d.emphasis,2),d.error_protection&&z(c,0,16),1==d.version){for(U(b.main_data_begin>=0),z(c,b.main_data_begin,9),z(c,b.private_bits,2==c.channels_out?3:5),v=0;v<c.channels_out;v++){var P;for(P=0;P<4;P++)z(c,b.scfsi[v][P],1)}for(w=0;w<2;w++)for(v=0;v<c.channels_out;v++)z(c,(G=b.tt[w][v]).part2_3_length+G.part2_length,12),z(c,G.big_values/2,9),z(c,G.global_gain,8),z(c,G.scalefac_compress,4),G.block_type!=ee.NORM_TYPE?(z(c,1,1),z(c,G.block_type,2),z(c,G.mixed_block_flag,1),14==G.table_select[0]&&(G.table_select[0]=16),z(c,G.table_select[0],5),14==G.table_select[1]&&(G.table_select[1]=16),z(c,G.table_select[1],5),z(c,G.subblock_gain[0],3),z(c,G.subblock_gain[1],3),z(c,G.subblock_gain[2],3)):(z(c,0,1),14==G.table_select[0]&&(G.table_select[0]=16),z(c,G.table_select[0],5),14==G.table_select[1]&&(G.table_select[1]=16),z(c,G.table_select[1],5),14==G.table_select[2]&&(G.table_select[2]=16),z(c,G.table_select[2],5),U(0<=G.region0_count&&G.region0_count<16),U(0<=G.region1_count&&G.region1_count<8),z(c,G.region0_count,4),z(c,G.region1_count,3)),z(c,G.preflag,1),z(c,G.scalefac_scale,1),z(c,G.count1table_select,1)}else for(U(b.main_data_begin>=0),z(c,b.main_data_begin,8),z(c,b.private_bits,c.channels_out),w=0,v=0;v<c.channels_out;v++){var G;z(c,(G=b.tt[w][v]).part2_3_length+G.part2_length,12),z(c,G.big_values/2,9),z(c,G.global_gain,8),z(c,G.scalefac_compress,9),G.block_type!=ee.NORM_TYPE?(z(c,1,1),z(c,G.block_type,2),z(c,G.mixed_block_flag,1),14==G.table_select[0]&&(G.table_select[0]=16),z(c,G.table_select[0],5),14==G.table_select[1]&&(G.table_select[1]=16),z(c,G.table_select[1],5),z(c,G.subblock_gain[0],3),z(c,G.subblock_gain[1],3),z(c,G.subblock_gain[2],3)):(z(c,0,1),14==G.table_select[0]&&(G.table_select[0]=16),z(c,G.table_select[0],5),14==G.table_select[1]&&(G.table_select[1]=16),z(c,G.table_select[1],5),14==G.table_select[2]&&(G.table_select[2]=16),z(c,G.table_select[2],5),U(0<=G.region0_count&&G.region0_count<16),U(0<=G.region1_count&&G.region1_count<8),z(c,G.region0_count,4),z(c,G.region1_count,3)),z(c,G.scalefac_scale,1),z(c,G.count1table_select,1)}d.error_protection&&CRC_writeheader(c,c.header[c.h_ptr].buf);var L=c.h_ptr;U(c.header[L].ptr==8*c.sideinfo_len),c.h_ptr=L+1&se.MAX_HEADER_BUF-1,c.header[c.h_ptr].write_timing=c.header[L].write_timing+f,c.h_ptr==c.w_ptr&&ge.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}(d,b);var w=8*f.sideinfo_len;if(w+=function Y(d){var f,c,b,w,v=0,P=d.internal_flags,G=P.l3_side;if(1==d.version)for(f=0;f<2;f++)for(c=0;c<P.channels_out;c++){var K=j.slen1_tab[(L=G.tt[f][c]).scalefac_compress],ue=j.slen2_tab[L.scalefac_compress];for(w=0,b=0;b<L.sfbdivide;b++)-1!=L.scalefac[b]&&(W(P,L.scalefac[b],K),w+=K);for(;b<L.sfbmax;b++)-1!=L.scalefac[b]&&(W(P,L.scalefac[b],ue),w+=ue);U(w==L.part2_length),w+=L.block_type==ee.SHORT_TYPE?T(P,L):I(P,L),w+=H(P,L),U(w==L.part2_3_length+L.part2_length),v+=w}else for(f=0,c=0;c<P.channels_out;c++){var L,be,Te,je=0;if(U(null!=(L=G.tt[f][c]).sfb_partition_table),w=0,b=0,Te=0,L.block_type==ee.SHORT_TYPE){for(;Te<4;Te++){var Qe=L.sfb_partition_table[Te]/3,rt=L.slen[Te];for(be=0;be<Qe;be++,b++)W(P,Math.max(L.scalefac[3*b+0],0),rt),W(P,Math.max(L.scalefac[3*b+1],0),rt),W(P,Math.max(L.scalefac[3*b+2],0),rt),je+=3*rt}w+=T(P,L)}else{for(;Te<4;Te++)for(Qe=L.sfb_partition_table[Te],rt=L.slen[Te],be=0;be<Qe;be++,b++)W(P,Math.max(L.scalefac[b],0),rt),je+=rt;w+=I(P,L)}w+=H(P,L),U(w==L.part2_3_length),U(je==L.part2_length),v+=je+w}return v}(d),X(d,c.resvDrain_post),c.main_data_begin+=(b-(w+=c.resvDrain_post))/8,y(d,new A)!=f.ResvSize&&ge.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*c.main_data_begin!=f.ResvSize&&(ge.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*c.main_data_begin,f.ResvSize,c.resvDrain_post,c.resvDrain_pre,8*f.sideinfo_len,w-c.resvDrain_post-8*f.sideinfo_len,w,w%8,b),ge.err.println("This is a fatal error.  It has several possible causes:"),ge.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),ge.err.println(" 9%%  Your system is overclocked"),ge.err.println(" 1%%  bug in LAME encoding library"),f.ResvSize=8*c.main_data_begin),U(N%8==0),N>1e9){var v;for(v=0;v<se.MAX_HEADER_BUF;++v)f.header[v].write_timing-=N;N=0}return 0},this.copy_buffer=function(d,f,c,b,w){var v=C+1;if(v<=0)return 0;if(0!=b&&v>b)return-1;if(ge.arraycopy(le,0,f,c,v),C=-1,p=0,0!=w){var P=He(1);if(P[0]=d.nMusicCRC,ve.updateMusicCRC(P,f,c,v),d.nMusicCRC=P[0],v>0&&(d.VBR_seek_table.nBytesWritten+=v),d.decode_on_the_fly)for(var ue,G=at([2,1152]),L=v,K=-1;0!=K;)if(K=xe.hip_decode1_unclipped(d.hip,f,c,L,G[0],G[1]),L=0,-1==K&&(K=0),K>0){if(U(K<=1152),d.findPeakSample){for(ue=0;ue<K;ue++)G[0][ue]>d.PeakSample?d.PeakSample=G[0][ue]:-G[0][ue]>d.PeakSample&&(d.PeakSample=-G[0][ue]);if(d.channels_out>1)for(ue=0;ue<K;ue++)G[1][ue]>d.PeakSample?d.PeakSample=G[1][ue]:-G[1][ue]>d.PeakSample&&(d.PeakSample=-G[1][ue])}if(d.findReplayGain&&Re.AnalyzeSamples(d.rgdata,G[0],0,G[1],0,K,d.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}return v},this.init_bit_stream_w=function(d){le=ht(he.LAME_MAXMP3BUFFER),d.h_ptr=d.w_ptr=0,d.header[d.h_ptr].write_timing=0,C=-1,p=0,N=0}}Xe.EQ=function(he,mt){return Math.abs(he)>Math.abs(mt)?Math.abs(he-mt)<=1e-6*Math.abs(he):Math.abs(he-mt)<=1e-6*Math.abs(mt)},Xe.NEQ=function(he,mt){return!Xe.EQ(he,mt)},Ze.exports=Xe},972:(Ze,ke,B)=>{var E=B(284),Ee=E.new_float,He=E.new_int,U=E.assert,j=B(274),O=B(348),ee=B(726),se=B(87);Ze.exports=function Xe(he){this.quantize=he,this.iteration_loop=function(oe,_e,Re,xe){var p,q=oe.internal_flags,ve=Ee(ee.SFBMAX),le=Ee(576),N=He(2),C=0,F=q.l3_side,W=new j(C);this.quantize.rv.ResvFrameBegin(oe,W),C=W.bits;for(var pe=0;pe<q.mode_gr;pe++){p=this.quantize.qupvt.on_pe(oe,_e,N,C,pe,pe),q.mode_ext==O.MPG_MD_MS_LR&&(this.quantize.ms_convert(q.l3_side,pe),this.quantize.qupvt.reduce_side(N,Re[pe],C,p));for(var X=0;X<q.channels_out;X++){var de,Me=F.tt[pe][X];de=Me.block_type!=O.SHORT_TYPE?q.PSY.mask_adjust-0:q.PSY.mask_adjust_short-0,q.masking_lower=Math.pow(10,.1*de),this.quantize.init_outer_loop(q,Me),this.quantize.init_xrpow(q,Me,le)&&(this.quantize.qupvt.calc_xmin(oe,xe[pe][X],Me,ve),this.quantize.outer_loop(oe,Me,ve,le,X,N[X])),this.quantize.iteration_finish_one(q,pe,X),U(Me.part2_3_length<=se.MAX_BITS_PER_CHANNEL),U(Me.part2_3_length<=N[X])}}this.quantize.rv.ResvFrameEnd(q,C)}}},764:(Ze,ke,B)=>{var E=B(284),ge=E.new_float,Fe=E.new_int;Ze.exports=function $e(){this.global_gain=0,this.sfb_count1=0,this.step=Fe(39),this.noise=ge(39),this.noise_log=ge(39)}},642:Ze=>{Ze.exports=function ke(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}},348:(Ze,ke,B)=>{var E=B(284),ge=E.System,Fe=E.VbrMode,Pt=E.new_array_n,Ee=E.new_float,at=E.new_float_n,He=E.new_int,U=E.assert;function j(){var O=B(671),ee=B(94),se=B(992),Xe=j.FFTOFFSET,he=j.MPG_MD_MS_LR,mt=null;this.psy=null;var oe=null,_e=null,Re=null;this.setModules=function(N,C,p,F){mt=N,this.psy=C,oe=C,_e=F,Re=p};var xe=new O;this.lame_encode_mp3_frame=function(N,C,p,F,W,pe){var X,z=Pt([2,2]);z[0][0]=new ee,z[0][1]=new ee,z[1][0]=new ee,z[1][1]=new ee;var de=Pt([2,2]);de[0][0]=new ee,de[0][1]=new ee,de[1][0]=new ee,de[1][1]=new ee;var Me,y,d,f,H=[null,null],h=N.internal_flags,T=at([2,4]),I=[.5,.5],Y=[[0,0],[0,0]],A=[[0,0],[0,0]];if(H[0]=C,H[1]=p,0==h.lame_encode_frame_init&&function le(N,C){var F,W,p=N.internal_flags;if(0==p.lame_encode_frame_init){var pe,X,z=Ee(2014),de=Ee(2014);for(p.lame_encode_frame_init=1,pe=0,X=0;pe<286+576*(1+p.mode_gr);++pe)pe<576*p.mode_gr?(z[pe]=0,2==p.channels_out&&(de[pe]=0)):(z[pe]=C[0][X],2==p.channels_out&&(de[pe]=C[1][X]),++X);for(W=0;W<p.mode_gr;W++)for(F=0;F<p.channels_out;F++)p.l3_side.tt[W][F].block_type=j.SHORT_TYPE;xe.mdct_sub48(p,z,de),U(576>=j.FFTOFFSET),U(p.mf_size>=j.BLKSIZE+N.framesize-j.FFTOFFSET),U(p.mf_size>=512+N.framesize-32)}}(N,H),h.padding=0,(h.slot_lag-=h.frac_SpF)<0&&(h.slot_lag+=N.out_samplerate,h.padding=1),0!=h.psymodel){var b=[null,null],w=0,v=He(2);for(f=0;f<h.mode_gr;f++){for(d=0;d<h.channels_out;d++)b[d]=H[d],w=576+576*f-j.FFTOFFSET;if(0!=(N.VBR==Fe.vbr_mtrh||N.VBR==Fe.vbr_mt?oe.L3psycho_anal_vbr(N,b,w,f,z,de,Y[f],A[f],T[f],v):oe.L3psycho_anal_ns(N,b,w,f,z,de,Y[f],A[f],T[f],v)))return-4;for(N.mode==se.JOINT_STEREO&&(I[f]=T[f][2]+T[f][3],I[f]>0&&(I[f]=T[f][3]/I[f])),d=0;d<h.channels_out;d++){var P=h.l3_side.tt[f][d];P.block_type=v[d],P.mixed_block_flag=0}}}else for(f=0;f<h.mode_gr;f++)for(d=0;d<h.channels_out;d++)h.l3_side.tt[f][d].block_type=j.NORM_TYPE,h.l3_side.tt[f][d].mixed_block_flag=0,A[f][d]=Y[f][d]=700;if(function q(N){var C,p;if(0!=N.ATH.useAdjust)if(p=N.loudness_sq[0][0],C=N.loudness_sq[1][0],2==N.channels_out?(p+=N.loudness_sq[0][1],C+=N.loudness_sq[1][1]):(p+=p,C+=C),2==N.mode_gr&&(p=Math.max(p,C)),p*=.5,(p*=N.ATH.aaSensitivityP)>.03125)N.ATH.adjust>=1?N.ATH.adjust=1:N.ATH.adjust<N.ATH.adjustLimit&&(N.ATH.adjust=N.ATH.adjustLimit),N.ATH.adjustLimit=1;else{var F=31.98*p+625e-6;N.ATH.adjust>=F?(N.ATH.adjust*=.075*F+.925,N.ATH.adjust<F&&(N.ATH.adjust=F)):N.ATH.adjustLimit>=F?N.ATH.adjust=F:N.ATH.adjust<N.ATH.adjustLimit&&(N.ATH.adjust=N.ATH.adjustLimit),N.ATH.adjustLimit=F}else N.ATH.adjust=1}(h),xe.mdct_sub48(h,H[0],H[1]),h.mode_ext=j.MPG_MD_LR_LR,N.force_ms)h.mode_ext=j.MPG_MD_MS_LR;else if(N.mode==se.JOINT_STEREO){var G=0,L=0;for(f=0;f<h.mode_gr;f++)for(d=0;d<h.channels_out;d++)G+=A[f][d],L+=Y[f][d];if(G<=1*L){var K=h.l3_side.tt[0],ue=h.l3_side.tt[h.mode_gr-1];K[0].block_type==K[1].block_type&&ue[0].block_type==ue[1].block_type&&(h.mode_ext=j.MPG_MD_MS_LR)}}if(h.mode_ext==he?(Me=de,y=A):(Me=z,y=Y),N.analysis&&null!=h.pinfo)for(f=0;f<h.mode_gr;f++)for(d=0;d<h.channels_out;d++)h.pinfo.ms_ratio[f]=h.ms_ratio[f],h.pinfo.ms_ener_ratio[f]=I[f],h.pinfo.blocktype[f][d]=h.l3_side.tt[f][d].block_type,h.pinfo.pe[f][d]=y[f][d],ge.arraycopy(h.l3_side.tt[f][d].xr,0,h.pinfo.xr[f][d],0,576),h.mode_ext==he&&(h.pinfo.ers[f][d]=h.pinfo.ers[f][d+2],ge.arraycopy(h.pinfo.energy[f][d+2],0,h.pinfo.energy[f][d],0,h.pinfo.energy[f][d].length));if(N.VBR==Fe.vbr_off||N.VBR==Fe.vbr_abr){var be,Te;for(be=0;be<18;be++)h.nsPsy.pefirbuf[be]=h.nsPsy.pefirbuf[be+1];for(Te=0,f=0;f<h.mode_gr;f++)for(d=0;d<h.channels_out;d++)Te+=y[f][d];for(h.nsPsy.pefirbuf[18]=Te,Te=h.nsPsy.pefirbuf[9],be=0;be<9;be++)Te+=(h.nsPsy.pefirbuf[be]+h.nsPsy.pefirbuf[18-be])*j.fircoef[be];for(Te=3350*h.mode_gr*h.channels_out/Te,f=0;f<h.mode_gr;f++)for(d=0;d<h.channels_out;d++)y[f][d]*=Te}if(h.iteration_loop.iteration_loop(N,y,I,Me),mt.format_bitstream(N),X=mt.copy_buffer(h,F,W,pe,1),N.bWriteVbrTag&&_e.addVbrFrame(N),N.analysis&&null!=h.pinfo){for(d=0;d<h.channels_out;d++){var je;for(je=0;je<Xe;je++)h.pinfo.pcmdata[d][je]=h.pinfo.pcmdata[d][je+N.framesize];for(je=Xe;je<1600;je++)h.pinfo.pcmdata[d][je]=H[d][je-Xe]}Re.set_frame_pinfo(N,Me)}return function ve(N){var C,p;for(U(0<=N.bitrate_index&&N.bitrate_index<16),U(0<=N.mode_ext&&N.mode_ext<4),N.bitrate_stereoMode_Hist[N.bitrate_index][4]++,N.bitrate_stereoMode_Hist[15][4]++,2==N.channels_out&&(N.bitrate_stereoMode_Hist[N.bitrate_index][N.mode_ext]++,N.bitrate_stereoMode_Hist[15][N.mode_ext]++),C=0;C<N.mode_gr;++C)for(p=0;p<N.channels_out;++p){var F=0|N.l3_side.tt[C][p].block_type;0!=N.l3_side.tt[C][p].mixed_block_flag&&(F=4),N.bitrate_blockType_Hist[N.bitrate_index][F]++,N.bitrate_blockType_Hist[N.bitrate_index][5]++,N.bitrate_blockType_Hist[15][F]++,N.bitrate_blockType_Hist[15][5]++}}(h),X}}j.ENCDELAY=576,j.POSTDELAY=1152,j.FFTOFFSET=224+(j.MDCTDELAY=48),j.DECDELAY=528,j.SBLIMIT=32,j.CBANDS=64,j.SBPSY_l=21,j.SBPSY_s=12,j.SBMAX_l=22,j.SBMAX_s=13,j.PSFB21=6,j.PSFB12=6,j.HBLKSIZE=(j.BLKSIZE=1024)/2+1,j.HBLKSIZE_s=(j.BLKSIZE_s=256)/2+1,j.NORM_TYPE=0,j.START_TYPE=1,j.SHORT_TYPE=2,j.STOP_TYPE=3,j.MPG_MD_LR_LR=0,j.MPG_MD_LR_I=1,j.MPG_MD_MS_LR=2,j.MPG_MD_MS_I=3,j.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],Ze.exports=j},425:(Ze,ke,B)=>{var E=B(284),Ge=E.Util,Ee=E.new_float,j=B(348);Ze.exports=function O(){var ee=Ee(j.BLKSIZE),se=Ee(j.BLKSIZE_s/2),Xe=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function he(oe,_e,Re){var q,ve,le,xe=0,N=_e+(Re<<=1);q=4;do{var C,p,F,W,pe,X,z;z=q>>1,X=(pe=q<<1)+(W=q),q=pe<<1,le=(ve=_e)+z;do{Me=oe[ve+0]-oe[ve+W],h=oe[ve+pe]-oe[ve+X],oe[ve+pe]=(de=oe[ve+0]+oe[ve+W])-(H=oe[ve+pe]+oe[ve+X]),oe[ve+0]=de+H,oe[ve+X]=Me-h,oe[ve+W]=Me+h,Me=oe[le+0]-oe[le+W],h=Ge.SQRT2*oe[le+X],oe[le+pe]=(de=oe[le+0]+oe[le+W])-(H=Ge.SQRT2*oe[le+pe]),oe[le+0]=de+H,oe[le+X]=Me-h,oe[le+W]=Me+h,le+=q,ve+=q}while(ve<N);for(p=Xe[xe+0],C=Xe[xe+1],F=1;F<z;F++){var T,I;T=1-2*C*C,I=2*C*p,ve=_e+F,le=_e+W-F;do{var Y,A,y,de,Me,d,H,f,h,c;Me=oe[ve+0]-(Y=T*oe[ve+W]+I*oe[le+W]),de=oe[ve+0]+Y,d=oe[le+0]-(A=I*oe[ve+W]-T*oe[le+W]),y=oe[le+0]+A,h=oe[ve+pe]-(Y=T*oe[ve+X]+I*oe[le+X]),f=oe[le+pe]+(A=I*oe[ve+X]-T*oe[le+X]),A=C*(H=oe[ve+pe]+Y)-p*(c=oe[le+pe]-A),oe[ve+pe]=de-(Y=p*H+C*c),oe[ve+0]=de+Y,oe[le+X]=d-A,oe[le+W]=d+A,A=p*f-C*h,oe[le+pe]=y-(Y=C*f+p*h),oe[le+0]=y+Y,oe[ve+X]=Me-A,oe[ve+W]=Me+A,le+=q,ve+=q}while(ve<N);p=(T=p)*Xe[xe+0]-C*Xe[xe+1],C=T*Xe[xe+1]+C*Xe[xe+0]}xe+=2}while(q<Re)}var mt=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(oe,_e,Re,xe,q){for(var ve=0;ve<3;ve++){var le=j.BLKSIZE_s/2,N=65535&192*(ve+1),C=j.BLKSIZE_s/8-1;do{var p,F,W,pe,X,z=255&mt[C<<2];F=(p=se[z]*xe[Re][q+z+N])-(X=se[127-z]*xe[Re][q+z+N+128]),p+=X,pe=(W=se[z+64]*xe[Re][q+z+N+64])-(X=se[63-z]*xe[Re][q+z+N+192]),_e[ve][0+(le-=4)]=p+(W+=X),_e[ve][le+2]=p-W,_e[ve][le+1]=F+pe,_e[ve][le+3]=F-pe,F=(p=se[z+1]*xe[Re][q+z+N+1])-(X=se[126-z]*xe[Re][q+z+N+129]),p+=X,pe=(W=se[z+65]*xe[Re][q+z+N+65])-(X=se[62-z]*xe[Re][q+z+N+193]),_e[ve][le+j.BLKSIZE_s/2+0]=p+(W+=X),_e[ve][le+j.BLKSIZE_s/2+2]=p-W,_e[ve][le+j.BLKSIZE_s/2+1]=F+pe,_e[ve][le+j.BLKSIZE_s/2+3]=F-pe}while(--C>=0);he(_e[ve],le,j.BLKSIZE_s/2)}},this.fft_long=function(oe,_e,Re,xe,q){var ve=j.BLKSIZE/8-1,le=j.BLKSIZE/2;do{var N,C,p,F,W,pe=255&mt[ve];C=(N=ee[pe]*xe[Re][q+pe])-(W=ee[pe+512]*xe[Re][q+pe+512]),N+=W,F=(p=ee[pe+256]*xe[Re][q+pe+256])-(W=ee[pe+768]*xe[Re][q+pe+768]),_e[0+(le-=4)]=N+(p+=W),_e[le+2]=N-p,_e[le+1]=C+F,_e[le+3]=C-F,C=(N=ee[pe+1]*xe[Re][q+pe+1])-(W=ee[pe+513]*xe[Re][q+pe+513]),N+=W,F=(p=ee[pe+257]*xe[Re][q+pe+257])-(W=ee[pe+769]*xe[Re][q+pe+769]),_e[le+j.BLKSIZE/2+0]=N+(p+=W),_e[le+j.BLKSIZE/2+2]=N-p,_e[le+j.BLKSIZE/2+1]=C+F,_e[le+j.BLKSIZE/2+3]=C-F}while(--ve>=0);he(_e,le,j.BLKSIZE/2)},this.init_fft=function(oe){for(var _e=0;_e<j.BLKSIZE;_e++)ee[_e]=.42-.5*Math.cos(2*Math.PI*(_e+.5)/j.BLKSIZE)+.08*Math.cos(4*Math.PI*(_e+.5)/j.BLKSIZE);for(_e=0;_e<j.BLKSIZE_s/2;_e++)se[_e]=.5*(1-Math.cos(2*Math.PI*(_e+.5)/j.BLKSIZE_s))}}},439:(Ze,ke,B)=>{var E=B(284),ge=E.System,We=E.Arrays;function j(){var he=j.RMS_WINDOW_TIME_NUMERATOR,mt=j.RMS_WINDOW_TIME_DENOMINATOR,_e=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],Re=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function xe(C,p,F,W,pe,X){for(;0!=pe--;)F[W]=1e-10+C[p+0]*X[0]-F[W-1]*X[1]+C[p-1]*X[2]-F[W-2]*X[3]+C[p-2]*X[4]-F[W-3]*X[5]+C[p-3]*X[6]-F[W-4]*X[7]+C[p-4]*X[8]-F[W-5]*X[9]+C[p-5]*X[10]-F[W-6]*X[11]+C[p-6]*X[12]-F[W-7]*X[13]+C[p-7]*X[14]-F[W-8]*X[15]+C[p-8]*X[16]-F[W-9]*X[17]+C[p-9]*X[18]-F[W-10]*X[19]+C[p-10]*X[20],++W,++p}function q(C,p,F,W,pe,X){for(;0!=pe--;)F[W]=C[p+0]*X[0]-F[W-1]*X[1]+C[p-1]*X[2]-F[W-2]*X[3]+C[p-2]*X[4],++W,++p}function le(C){return C*C}this.InitGainAnalysis=function(C,p){return function ve(C,p){for(var F=0;F<MAX_ORDER;F++)C.linprebuf[F]=C.lstepbuf[F]=C.loutbuf[F]=C.rinprebuf[F]=C.rstepbuf[F]=C.routbuf[F]=0;switch(0|p){case 48e3:C.reqindex=0;break;case 44100:C.reqindex=1;break;case 32e3:C.reqindex=2;break;case 24e3:C.reqindex=3;break;case 22050:C.reqindex=4;break;case 16e3:C.reqindex=5;break;case 12e3:C.reqindex=6;break;case 11025:C.reqindex=7;break;case 8e3:C.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return C.sampleWindow=0|(p*he+mt-1)/mt,C.lsum=0,C.rsum=0,C.totsamp=0,We.ill(C.A,0),INIT_GAIN_ANALYSIS_OK}(C,p)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(C.linpre=MAX_ORDER,C.rinpre=MAX_ORDER,C.lstep=MAX_ORDER,C.rstep=MAX_ORDER,C.lout=MAX_ORDER,C.rout=MAX_ORDER,We.fill(C.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(C,p,F,W,pe,X,z){var de,Me,H,h,T,I,Y;if(0==X)return GAIN_ANALYSIS_OK;switch(Y=0,T=X,z){case 1:W=p,pe=F;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(X<MAX_ORDER?(ge.arraycopy(p,F,C.linprebuf,MAX_ORDER,X),ge.arraycopy(W,pe,C.rinprebuf,MAX_ORDER,X)):(ge.arraycopy(p,F,C.linprebuf,MAX_ORDER,MAX_ORDER),ge.arraycopy(W,pe,C.rinprebuf,MAX_ORDER,MAX_ORDER));T>0;){I=T>C.sampleWindow-C.totsamp?C.sampleWindow-C.totsamp:T,Y<MAX_ORDER?(de=C.linpre+Y,Me=C.linprebuf,H=C.rinpre+Y,h=C.rinprebuf,I>MAX_ORDER-Y&&(I=MAX_ORDER-Y)):(de=F+Y,Me=p,H=pe+Y,h=W),xe(Me,de,C.lstepbuf,C.lstep+C.totsamp,I,_e[C.reqindex]),xe(h,H,C.rstepbuf,C.rstep+C.totsamp,I,_e[C.reqindex]),q(C.lstepbuf,C.lstep+C.totsamp,C.loutbuf,C.lout+C.totsamp,I,Re[C.reqindex]),q(C.rstepbuf,C.rstep+C.totsamp,C.routbuf,C.rout+C.totsamp,I,Re[C.reqindex]),de=C.lout+C.totsamp,Me=C.loutbuf,H=C.rout+C.totsamp,h=C.routbuf;for(var A=I%8;0!=A--;)C.lsum+=le(Me[de++]),C.rsum+=le(h[H++]);for(A=I/8;0!=A--;)C.lsum+=le(Me[de+0])+le(Me[de+1])+le(Me[de+2])+le(Me[de+3])+le(Me[de+4])+le(Me[de+5])+le(Me[de+6])+le(Me[de+7]),de+=8,C.rsum+=le(h[H+0])+le(h[H+1])+le(h[H+2])+le(h[H+3])+le(h[H+4])+le(h[H+5])+le(h[H+6])+le(h[H+7]),H+=8;if(T-=I,Y+=I,C.totsamp+=I,C.totsamp==C.sampleWindow){var y=10*j.STEPS_per_dB*Math.log10((C.lsum+C.rsum)/C.totsamp*.5+1e-37),d=y<=0?0:0|y;d>=C.A.length&&(d=C.A.length-1),C.A[d]++,C.lsum=C.rsum=0,ge.arraycopy(C.loutbuf,C.totsamp,C.loutbuf,0,MAX_ORDER),ge.arraycopy(C.routbuf,C.totsamp,C.routbuf,0,MAX_ORDER),ge.arraycopy(C.lstepbuf,C.totsamp,C.lstepbuf,0,MAX_ORDER),ge.arraycopy(C.rstepbuf,C.totsamp,C.rstepbuf,0,MAX_ORDER),C.totsamp=0}if(C.totsamp>C.sampleWindow)return GAIN_ANALYSIS_ERROR}return X<MAX_ORDER?(ge.arraycopy(C.linprebuf,X,C.linprebuf,0,MAX_ORDER-X),ge.arraycopy(C.rinprebuf,X,C.rinprebuf,0,MAX_ORDER-X),ge.arraycopy(p,F,C.linprebuf,MAX_ORDER-X,X),ge.arraycopy(W,pe,C.rinprebuf,MAX_ORDER-X,X)):(ge.arraycopy(p,F+X-MAX_ORDER,C.linprebuf,0,MAX_ORDER),ge.arraycopy(W,pe+X-MAX_ORDER,C.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(C){for(var p=function N(C,p){var F,W=0;for(F=0;F<p;F++)W+=C[F];if(0==W)return GAIN_NOT_ENOUGH_SAMPLES;var pe=0|Math.ceil(W*(1-.95));for(F=p;F-- >0&&!((pe-=C[F])<=0););return 64.82-F/j.STEPS_per_dB}(C.A,C.A.length),F=0;F<C.A.length;F++)C.B[F]+=C.A[F],C.A[F]=0;for(F=0;F<MAX_ORDER;F++)C.linprebuf[F]=C.lstepbuf[F]=C.loutbuf[F]=C.rinprebuf[F]=C.rstepbuf[F]=C.routbuf[F]=0;return C.totsamp=0,C.lsum=C.rsum=0,p}}j.STEPS_per_dB=100,j.MAX_dB=120,j.GAIN_NOT_ENOUGH_SAMPLES=-24601,j.GAIN_ANALYSIS_ERROR=0,j.GAIN_ANALYSIS_OK=1,j.INIT_GAIN_ANALYSIS_ERROR=0,j.INIT_GAIN_ANALYSIS_OK=1,j.MAX_ORDER=j.YULE_ORDER=10,j.MAX_SAMPLES_PER_WINDOW=(j.MAX_SAMP_FREQ=48e3)*(j.RMS_WINDOW_TIME_NUMERATOR=1)/(j.RMS_WINDOW_TIME_DENOMINATOR=20)+1,Ze.exports=j},43:(Ze,ke,B)=>{var E=B(284),Ee=E.new_float,He=E.new_int,j=B(726);Ze.exports=function O(){this.xr=Ee(576),this.l3_enc=He(576),this.scalefac=He(j.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=He(3),this.subblock_gain=He(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=He(j.SFBMAX),this.window=He(j.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=He(4),this.max_nonzero_coeff=0;var ee=this;function se(he){return new Int32Array(he)}this.assign=function(he){ee.xr=function Xe(he){return new Float32Array(he)}(he.xr),ee.l3_enc=se(he.l3_enc),ee.scalefac=se(he.scalefac),ee.xrpow_max=he.xrpow_max,ee.part2_3_length=he.part2_3_length,ee.big_values=he.big_values,ee.count1=he.count1,ee.global_gain=he.global_gain,ee.scalefac_compress=he.scalefac_compress,ee.block_type=he.block_type,ee.mixed_block_flag=he.mixed_block_flag,ee.table_select=se(he.table_select),ee.subblock_gain=se(he.subblock_gain),ee.region0_count=he.region0_count,ee.region1_count=he.region1_count,ee.preflag=he.preflag,ee.scalefac_scale=he.scalefac_scale,ee.count1table_select=he.count1table_select,ee.part2_length=he.part2_length,ee.sfb_lmax=he.sfb_lmax,ee.sfb_smin=he.sfb_smin,ee.psy_lmax=he.psy_lmax,ee.sfbmax=he.sfbmax,ee.psymax=he.psymax,ee.sfbdivide=he.sfbdivide,ee.width=se(he.width),ee.window=se(he.window),ee.count1bits=he.count1bits,ee.sfb_partition_table=he.sfb_partition_table.slice(0),ee.slen=se(he.slen),ee.max_nonzero_coeff=he.max_nonzero_coeff}}},733:(Ze,ke,B)=>{var He=B(284).new_int,j=B(43);Ze.exports=function O(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[He(4),He(4)];for(var ee=0;ee<2;ee++)for(var se=0;se<2;se++)this.tt[ee][se]=new j}},94:(Ze,ke,B)=>{var E=B(669);Ze.exports=function ge(){this.thm=new E,this.en=new E}},669:(Ze,ke,B)=>{var E=B(348),ge=B(284),Fe=ge.System,at=ge.new_float,He=ge.new_float_n;Ze.exports=function O(){this.l=at(E.SBMAX_l),this.s=He([E.SBMAX_s,3]);var ee=this;this.assign=function(se){Fe.arraycopy(se.l,0,ee.l,0,E.SBMAX_l);for(var Xe=0;Xe<E.SBMAX_s;Xe++)for(var he=0;he<3;he++)ee.s[Xe][he]=se.s[Xe][he]}}},726:(Ze,ke,B)=>{var E=B(348),ge={};ge.SFBMAX=3*E.SBMAX_s,Ze.exports=ge},359:(Ze,ke,B)=>{var E=B(284),ge=E.System,Fe=E.VbrMode,$e=E.ShortBlock,Ee=E.new_float,Qt=E.new_int_n,U=E.new_short_n,j=E.assert,O=B(995),ee=B(482),se=B(87),Xe=B(820),he=B(336),mt=B(972),oe=B(227),_e=B(396),Re=B(348);Ze.exports=function xe(){var q=B(992),ve=this;xe.V9=410,xe.V8=420,xe.V7=430,xe.V6=440,xe.V5=450,xe.V4=460,xe.V3=470,xe.V2=480,xe.V1=490,xe.V0=500,xe.R3MIX=1e3,xe.STANDARD=1001,xe.EXTREME=1002,xe.INSANE=1003,xe.STANDARD_FAST=1004,xe.EXTREME_FAST=1005,xe.MEDIUM=1006,xe.MEDIUM_FAST=1007,xe.LAME_MAXMP3BUFFER=147456;var C,p,F,W,pe,z,Me,H,X=new O;function h(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=Ee(Re.SBMAX_l),this.bo_s_weight=Ee(Re.SBMAX_s)}function T(){this.lowerlimit=0}function I(g,D){this.lowpass=D}this.enc=new Re,this.setModules=function(g,D,Pe,qe,ct,gt,st,Je,kt){C=g,F=Pe,pe=ct,Me=Je,H=kt,this.enc.setModules(p=D,X,W=qe,z=gt)};var Y=4294479419;function y(g){return g>1?0:g<=0?1:Math.cos(Math.PI/2*g)}function f(g,D){switch(g){case 44100:return D.version=1,0;case 48e3:return D.version=1,1;case 32e3:return D.version=1,2;case 22050:case 11025:return D.version=0,0;case 24e3:case 12e3:return D.version=0,1;case 16e3:case 8e3:return D.version=0,2;default:return D.version=0,-1}}function c(g,D,Pe){Pe<16e3&&(D=2);for(var qe=_e.bitrate_table[D][1],ct=2;ct<=14;ct++)_e.bitrate_table[D][ct]>0&&Math.abs(_e.bitrate_table[D][ct]-g)<Math.abs(qe-g)&&(qe=_e.bitrate_table[D][ct]);return qe}function b(g,D,Pe){Pe<16e3&&(D=2);for(var qe=0;qe<=14;qe++)if(_e.bitrate_table[D][qe]>0&&_e.bitrate_table[D][qe]==g)return qe;return-1}function w(g,D){var Pe=[new I(8,2e3),new I(16,3700),new I(24,3900),new I(32,5500),new I(40,7e3),new I(48,7500),new I(56,1e4),new I(64,11e3),new I(80,13500),new I(96,15100),new I(112,15600),new I(128,17e3),new I(160,17500),new I(192,18600),new I(224,19400),new I(256,19700),new I(320,20500)],qe=ve.nearestBitrateFullIndex(D);g.lowerlimit=Pe[qe].lowpass}function K(g){var D=Re.BLKSIZE+g.framesize-Re.FFTOFFSET;return D=Math.max(D,512+g.framesize-32),j(se.MFSIZE>=D),D}function be(g,D,Pe,qe,ct,gt){var st=ve.enc.lame_encode_mp3_frame(g,D,Pe,qe,ct,gt);return g.frameNum++,st}function Te(){this.n_in=0,this.n_out=0}function je(){this.num_used=0}function Qe(g,D){return 0!=D?Qe(D,g%D):g}function rt(g,D,Pe){var qe=Math.PI*D;(g/=Pe)<0&&(g=0),g>1&&(g=1);var ct=g-.5,gt=.42-.5*Math.cos(2*g*Math.PI)+.08*Math.cos(4*g*Math.PI);return Math.abs(ct)<1e-9?qe/Math.PI:gt*Math.sin(Pe*qe*ct)/(Math.PI*Pe*ct)}function yt(g,D,Pe,qe,ct,gt,st,Je,kt){var Le,wn,pt=g.internal_flags,zt=0,Xt=g.out_samplerate/Qe(g.out_samplerate,g.in_samplerate);Xt>se.BPC&&(Xt=se.BPC);var an=Math.abs(pt.resample_ratio-Math.floor(.5+pt.resample_ratio))<1e-4?1:0,gn=1/pt.resample_ratio;gn>1&&(gn=1);var cn=31;cn%2==0&&--cn;var _n=(cn+=an)+1;if(0==pt.fill_buffer_resample_init){for(pt.inbuf_old[0]=Ee(_n),pt.inbuf_old[1]=Ee(_n),Le=0;Le<=2*Xt;++Le)pt.blackfilt[Le]=Ee(_n);for(pt.itime[0]=0,pt.itime[1]=0,zt=0;zt<=2*Xt;zt++){var zr=0,pr=(zt-Xt)/(2*Xt);for(Le=0;Le<=cn;Le++)zr+=pt.blackfilt[zt][Le]=rt(Le-pr,gn,cn);for(Le=0;Le<=cn;Le++)pt.blackfilt[zt][Le]/=zr}pt.fill_buffer_resample_init=1}var Tn=pt.inbuf_old[kt];for(wn=0;wn<qe;wn++){var qr,Gi;if(qr=wn*pt.resample_ratio,cn+(zt=0|Math.floor(qr-pt.itime[kt]))-cn/2>=st)break;pr=qr-pt.itime[kt]-(zt+cn%2*.5),j(Math.abs(pr)<=.501),Gi=0|Math.floor(2*pr*Xt+Xt+.5);var zi=0;for(Le=0;Le<=cn;++Le){var ir=0|Le+zt-cn/2;j(ir<st),j(ir+_n>=0),zi+=(ir<0?Tn[_n+ir]:ct[gt+ir])*pt.blackfilt[Gi][Le]}D[Pe+wn]=zi}if(Je.num_used=Math.min(st,cn+zt-cn/2),pt.itime[kt]+=Je.num_used-wn*pt.resample_ratio,Je.num_used>=_n)for(Le=0;Le<_n;Le++)Tn[Le]=ct[gt+Je.num_used+Le-_n];else{var M=_n-Je.num_used;for(Le=0;Le<M;++Le)Tn[Le]=Tn[Le+Je.num_used];for(zt=0;Le<_n;++Le,++zt)Tn[Le]=ct[gt+zt];j(zt==Je.num_used)}return wn}function un(g,D,Pe,qe,ct,gt){var st=g.internal_flags;if(st.resample_ratio<.9999||st.resample_ratio>1.0001)for(var Je=0;Je<st.channels_out;Je++){var kt=new je;gt.n_out=yt(g,D[Je],st.mf_size,g.framesize,Pe[Je],qe,ct,kt,Je),gt.n_in=kt.num_used}else{gt.n_out=Math.min(g.framesize,ct),gt.n_in=gt.n_out;for(var pt=0;pt<gt.n_out;++pt)D[0][st.mf_size+pt]=Pe[0][qe+pt],2==st.channels_out&&(D[1][st.mf_size+pt]=Pe[1][qe+pt])}}this.lame_init=function(){var g=new ee,D=function A(g){var D;return g.class_id=Y,D=g.internal_flags=new se,g.mode=q.NOT_SET,g.original=1,g.in_samplerate=44100,g.num_channels=2,g.num_samples=-1,g.bWriteVbrTag=!0,g.quality=-1,g.short_blocks=null,D.subblock_gain=-1,g.lowpassfreq=0,g.highpassfreq=0,g.lowpasswidth=-1,g.highpasswidth=-1,g.VBR=Fe.vbr_off,g.VBR_q=4,g.ATHcurve=-1,g.VBR_mean_bitrate_kbps=128,g.VBR_min_bitrate_kbps=0,g.VBR_max_bitrate_kbps=0,g.VBR_hard_min=0,D.VBR_min_bitrate=1,D.VBR_max_bitrate=13,g.quant_comp=-1,g.quant_comp_short=-1,g.msfix=-1,D.resample_ratio=1,D.OldValue[0]=180,D.OldValue[1]=180,D.CurrentStep[0]=4,D.CurrentStep[1]=4,D.masking_lower=1,D.nsPsy.attackthre=-1,D.nsPsy.attackthre_s=-1,g.scale=-1,g.athaa_type=-1,g.ATHtype=-1,g.athaa_loudapprox=-1,g.athaa_sensitivity=0,g.useTemporal=null,g.interChRatio=-1,D.mf_samples_to_encode=Re.ENCDELAY+Re.POSTDELAY,g.encoder_padding=0,D.mf_size=Re.ENCDELAY-Re.MDCTDELAY,g.findReplayGain=!1,g.decode_on_the_fly=!1,D.decode_on_the_fly=!1,D.findReplayGain=!1,D.findPeakSample=!1,D.RadioGain=0,D.AudiophileGain=0,D.noclipGainChange=0,D.noclipScale=-1,g.preset=0,g.write_id3tag_automatic=!0,0}(g);return 0!=D?null:(g.lame_allocated_gfp=1,g)},this.nearestBitrateFullIndex=function(g){var D=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],Pe=0,qe=0,ct=0,gt=0;gt=D[16],ct=16,qe=D[16],Pe=16;for(var st=0;st<16;st++)if(Math.max(g,D[st+1])!=g){gt=D[st+1],ct=st+1,qe=D[st],Pe=st;break}return gt-g>g-qe?Pe:ct},this.lame_init_params=function(g){var Xt,D=g.internal_flags;if(D.Class_ID=0,null==D.ATH&&(D.ATH=new Xe),null==D.PSY&&(D.PSY=new h),null==D.rgdata&&(D.rgdata=new he),D.channels_in=g.num_channels,1==D.channels_in&&(g.mode=q.MONO),D.channels_out=g.mode==q.MONO?1:2,D.mode_ext=Re.MPG_MD_MS_LR,g.mode==q.MONO&&(g.force_ms=!1),g.VBR==Fe.vbr_off&&128!=g.VBR_mean_bitrate_kbps&&0==g.brate&&(g.brate=g.VBR_mean_bitrate_kbps),g.VBR==Fe.vbr_off||g.VBR==Fe.vbr_mtrh||g.VBR==Fe.vbr_mt||(g.free_format=!1),g.VBR==Fe.vbr_off&&0==g.brate&&oe.EQ(g.compression_ratio,0)&&(g.compression_ratio=11.025),g.VBR==Fe.vbr_off&&g.compression_ratio>0&&(0==g.out_samplerate&&(g.out_samplerate=map2MP3Frequency(int(.97*g.in_samplerate))),g.brate=0|16*g.out_samplerate*D.channels_out/(1e3*g.compression_ratio),D.samplerate_index=f(g.out_samplerate,g),g.free_format||(g.brate=c(g.brate,g.version,g.out_samplerate))),0!=g.out_samplerate&&(g.out_samplerate<16e3?(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,64)):g.out_samplerate<32e3?(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,8),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,160)):(g.VBR_mean_bitrate_kbps=Math.max(g.VBR_mean_bitrate_kbps,32),g.VBR_mean_bitrate_kbps=Math.min(g.VBR_mean_bitrate_kbps,320))),0==g.lowpassfreq){var Pe=16e3;switch(g.VBR){case Fe.vbr_off:w(qe=new T,g.brate),Pe=qe.lowerlimit;break;case Fe.vbr_abr:var qe;w(qe=new T,g.VBR_mean_bitrate_kbps),Pe=qe.lowerlimit;break;case Fe.vbr_rh:var ct=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=g.VBR_q&&g.VBR_q<=9){var gt=ct[g.VBR_q],st=ct[g.VBR_q+1],Je=g.VBR_q_frac;Pe=linear_int(gt,st,Je)}else Pe=19500;break;default:ct=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950],0<=g.VBR_q&&g.VBR_q<=9?(gt=ct[g.VBR_q],st=ct[g.VBR_q+1],Je=g.VBR_q_frac,Pe=linear_int(gt,st,Je)):Pe=19500}g.mode==q.MONO&&(g.VBR==Fe.vbr_off||g.VBR==Fe.vbr_abr)&&(Pe*=1.5),g.lowpassfreq=0|Pe}if(0==g.out_samplerate&&(2*g.lowpassfreq>g.in_samplerate&&(g.lowpassfreq=g.in_samplerate/2),g.out_samplerate=function d(g,D){var Pe=44100;return D>=48e3?Pe=48e3:D>=44100?Pe=44100:D>=32e3?Pe=32e3:D>=24e3?Pe=24e3:D>=22050?Pe=22050:D>=16e3?Pe=16e3:D>=12e3?Pe=12e3:D>=11025?Pe=11025:D>=8e3&&(Pe=8e3),-1==g?Pe:(g<=15960&&(Pe=44100),g<=15250&&(Pe=32e3),g<=11220&&(Pe=24e3),g<=9970&&(Pe=22050),g<=7230&&(Pe=16e3),g<=5420&&(Pe=12e3),g<=4510&&(Pe=11025),g<=3970&&(Pe=8e3),D<Pe?D>44100?48e3:D>32e3?44100:D>24e3?32e3:D>22050?24e3:D>16e3?22050:D>12e3?16e3:D>11025?12e3:D>8e3?11025:8e3:Pe)}(0|g.lowpassfreq,g.in_samplerate)),g.lowpassfreq=Math.min(20500,g.lowpassfreq),g.lowpassfreq=Math.min(g.out_samplerate/2,g.lowpassfreq),g.VBR==Fe.vbr_off&&(g.compression_ratio=16*g.out_samplerate*D.channels_out/(1e3*g.brate)),g.VBR==Fe.vbr_abr&&(g.compression_ratio=16*g.out_samplerate*D.channels_out/(1e3*g.VBR_mean_bitrate_kbps)),g.bWriteVbrTag||(g.findReplayGain=!1,g.decode_on_the_fly=!1,D.findPeakSample=!1),D.findReplayGain=g.findReplayGain,D.decode_on_the_fly=g.decode_on_the_fly,D.decode_on_the_fly&&(D.findPeakSample=!0),D.findReplayGain&&C.InitGainAnalysis(D.rgdata,g.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return g.internal_flags=null,-6;switch(D.decode_on_the_fly&&!g.decode_only&&(null!=D.hip&&H.hip_decode_exit(D.hip),D.hip=H.hip_decode_init()),D.mode_gr=g.out_samplerate<=24e3?1:2,g.framesize=576*D.mode_gr,g.encoder_delay=Re.ENCDELAY,D.resample_ratio=g.in_samplerate/g.out_samplerate,g.VBR){case Fe.vbr_mt:case Fe.vbr_rh:case Fe.vbr_mtrh:g.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][g.VBR_q];break;case Fe.vbr_abr:g.compression_ratio=16*g.out_samplerate*D.channels_out/(1e3*g.VBR_mean_bitrate_kbps);break;default:g.compression_ratio=16*g.out_samplerate*D.channels_out/(1e3*g.brate)}if(g.mode==q.NOT_SET&&(g.mode=q.JOINT_STEREO),g.highpassfreq>0?(D.highpass1=2*g.highpassfreq,D.highpass2=g.highpasswidth>=0?2*(g.highpassfreq+g.highpasswidth):2*g.highpassfreq,D.highpass1/=g.out_samplerate,D.highpass2/=g.out_samplerate):(D.highpass1=0,D.highpass2=0),g.lowpassfreq>0?(D.lowpass2=2*g.lowpassfreq,g.lowpasswidth>=0?(D.lowpass1=2*(g.lowpassfreq-g.lowpasswidth),D.lowpass1<0&&(D.lowpass1=0)):D.lowpass1=2*g.lowpassfreq,D.lowpass1/=g.out_samplerate,D.lowpass2/=g.out_samplerate):(D.lowpass1=0,D.lowpass2=0),function v(g){var D=g.internal_flags,Pe=32,qe=-1;if(D.lowpass1>0){for(var ct=999,gt=0;gt<=31;gt++)(st=gt/31)>=D.lowpass2&&(Pe=Math.min(Pe,gt)),D.lowpass1<st&&st<D.lowpass2&&(ct=Math.min(ct,gt));D.lowpass1=999==ct?(Pe-.75)/31:(ct-.75)/31,D.lowpass2=Pe/31}if(D.highpass2>0&&D.highpass2<.75/31*.9&&(D.highpass1=0,D.highpass2=0,ge.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),D.highpass2>0){var Je=-1;for(gt=0;gt<=31;gt++)(st=gt/31)<=D.highpass1&&(qe=Math.max(qe,gt)),D.highpass1<st&&st<D.highpass2&&(Je=Math.max(Je,gt));D.highpass1=qe/31,D.highpass2=-1==Je?(qe+.75)/31:(Je+.75)/31}for(gt=0;gt<32;gt++){var kt,pt,st=gt/31;kt=D.highpass2>D.highpass1?y((D.highpass2-st)/(D.highpass2-D.highpass1+1e-20)):1,pt=D.lowpass2>D.lowpass1?y((st-D.lowpass1)/(D.lowpass2-D.lowpass1+1e-20)):1,D.amp_filter[gt]=kt*pt}}(g),D.samplerate_index=f(g.out_samplerate,g),D.samplerate_index<0)return g.internal_flags=null,-1;if(g.VBR==Fe.vbr_off){if(g.free_format)D.bitrate_index=0;else if(g.brate=c(g.brate,g.version,g.out_samplerate),D.bitrate_index=b(g.brate,g.version,g.out_samplerate),D.bitrate_index<=0)return g.internal_flags=null,-1}else D.bitrate_index=1;g.analysis&&(g.bWriteVbrTag=!1),null!=D.pinfo&&(g.bWriteVbrTag=!1),p.init_bit_stream_w(D);for(var pt=D.samplerate_index+3*g.version+6*(g.out_samplerate<16e3?1:0),Le=0;Le<Re.SBMAX_l+1;Le++)D.scalefac_band.l[Le]=W.sfBandIndex[pt].l[Le];for(Le=0;Le<Re.PSFB21+1;Le++)D.scalefac_band.psfb21[Le]=D.scalefac_band.l[21]+Le*((D.scalefac_band.l[22]-D.scalefac_band.l[21])/Re.PSFB21);for(D.scalefac_band.psfb21[Re.PSFB21]=576,Le=0;Le<Re.SBMAX_s+1;Le++)D.scalefac_band.s[Le]=W.sfBandIndex[pt].s[Le];for(Le=0;Le<Re.PSFB12+1;Le++)D.scalefac_band.psfb12[Le]=D.scalefac_band.s[12]+Le*((D.scalefac_band.s[13]-D.scalefac_band.s[12])/Re.PSFB12);for(D.scalefac_band.psfb12[Re.PSFB12]=192,D.sideinfo_len=1==g.version?1==D.channels_out?21:36:1==D.channels_out?13:21,g.error_protection&&(D.sideinfo_len+=2),function G(g){var D=g.internal_flags;g.frameNum=0,g.write_id3tag_automatic&&Me.id3tag_write_v2(g),D.bitrate_stereoMode_Hist=Qt([16,5]),D.bitrate_blockType_Hist=Qt([16,6]),D.PeakSample=0,g.bWriteVbrTag&&z.InitVbrTag(g)}(g),D.Class_ID=Y,Xt=0;Xt<19;Xt++)D.nsPsy.pefirbuf[Xt]=700*D.mode_gr*D.channels_out;switch(-1==g.ATHtype&&(g.ATHtype=4),j(g.VBR_q<=9),j(g.VBR_q>=0),g.VBR){case Fe.vbr_mt:g.VBR=Fe.vbr_mtrh;case Fe.vbr_mtrh:null==g.useTemporal&&(g.useTemporal=!1),F.apply_preset(g,500-10*g.VBR_q,0),g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),g.quality<5&&(g.quality=0),g.quality>5&&(g.quality=5),D.PSY.mask_adjust=g.maskingadjust,D.PSY.mask_adjust_short=g.maskingadjust_short,D.sfb21_extra=!g.experimentalY&&g.out_samplerate>44e3,D.iteration_loop=new VBRNewIterationLoop(pe);break;case Fe.vbr_rh:F.apply_preset(g,500-10*g.VBR_q,0),D.PSY.mask_adjust=g.maskingadjust,D.PSY.mask_adjust_short=g.maskingadjust_short,D.sfb21_extra=!g.experimentalY&&g.out_samplerate>44e3,g.quality>6&&(g.quality=6),g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),D.iteration_loop=new VBROldIterationLoop(pe);break;default:var an;D.sfb21_extra=!1,g.quality<0&&(g.quality=LAME_DEFAULT_QUALITY),(an=g.VBR)==Fe.vbr_off&&(g.VBR_mean_bitrate_kbps=g.brate),F.apply_preset(g,g.VBR_mean_bitrate_kbps,0),g.VBR=an,D.PSY.mask_adjust=g.maskingadjust,D.PSY.mask_adjust_short=g.maskingadjust_short,D.iteration_loop=an==Fe.vbr_off?new mt(pe):new ABRIterationLoop(pe)}if(j(g.scale>=0),g.VBR!=Fe.vbr_off){if(D.VBR_min_bitrate=1,D.VBR_max_bitrate=14,g.out_samplerate<16e3&&(D.VBR_max_bitrate=8),0!=g.VBR_min_bitrate_kbps&&(g.VBR_min_bitrate_kbps=c(g.VBR_min_bitrate_kbps,g.version,g.out_samplerate),D.VBR_min_bitrate=b(g.VBR_min_bitrate_kbps,g.version,g.out_samplerate),D.VBR_min_bitrate<0)||0!=g.VBR_max_bitrate_kbps&&(g.VBR_max_bitrate_kbps=c(g.VBR_max_bitrate_kbps,g.version,g.out_samplerate),D.VBR_max_bitrate=b(g.VBR_max_bitrate_kbps,g.version,g.out_samplerate),D.VBR_max_bitrate<0))return-1;g.VBR_min_bitrate_kbps=_e.bitrate_table[g.version][D.VBR_min_bitrate],g.VBR_max_bitrate_kbps=_e.bitrate_table[g.version][D.VBR_max_bitrate],g.VBR_mean_bitrate_kbps=Math.min(_e.bitrate_table[g.version][D.VBR_max_bitrate],g.VBR_mean_bitrate_kbps),g.VBR_mean_bitrate_kbps=Math.max(_e.bitrate_table[g.version][D.VBR_min_bitrate],g.VBR_mean_bitrate_kbps)}return g.tune&&(D.PSY.mask_adjust+=g.tune_value_a,D.PSY.mask_adjust_short+=g.tune_value_a),function P(g){var D=g.internal_flags;switch(g.quality){default:case 9:D.psymodel=0,D.noise_shaping=0,D.noise_shaping_amp=0,D.noise_shaping_stop=0,D.use_best_huffman=0,D.full_outer_loop=0;break;case 8:g.quality=7;case 7:D.psymodel=1,D.noise_shaping=0,D.noise_shaping_amp=0,D.noise_shaping_stop=0,D.use_best_huffman=0,D.full_outer_loop=0;break;case 6:case 5:D.psymodel=1,0==D.noise_shaping&&(D.noise_shaping=1),D.noise_shaping_amp=0,D.noise_shaping_stop=0,-1==D.subblock_gain&&(D.subblock_gain=1),D.use_best_huffman=0,D.full_outer_loop=0;break;case 4:D.psymodel=1,0==D.noise_shaping&&(D.noise_shaping=1),D.noise_shaping_amp=0,D.noise_shaping_stop=0,-1==D.subblock_gain&&(D.subblock_gain=1),D.use_best_huffman=1,D.full_outer_loop=0;break;case 3:D.psymodel=1,0==D.noise_shaping&&(D.noise_shaping=1),D.noise_shaping_amp=1,D.noise_shaping_stop=1,-1==D.subblock_gain&&(D.subblock_gain=1),D.use_best_huffman=1,D.full_outer_loop=0;break;case 2:D.psymodel=1,0==D.noise_shaping&&(D.noise_shaping=1),0==D.substep_shaping&&(D.substep_shaping=2),D.noise_shaping_amp=1,D.noise_shaping_stop=1,-1==D.subblock_gain&&(D.subblock_gain=1),D.use_best_huffman=1,D.full_outer_loop=0;break;case 1:case 0:D.psymodel=1,0==D.noise_shaping&&(D.noise_shaping=1),0==D.substep_shaping&&(D.substep_shaping=2),D.noise_shaping_amp=2,D.noise_shaping_stop=1,-1==D.subblock_gain&&(D.subblock_gain=1),D.use_best_huffman=1,D.full_outer_loop=0}}(g),j(g.scale>=0),D.ATH.useAdjust=g.athaa_type<0?3:g.athaa_type,D.ATH.aaSensitivityP=Math.pow(10,g.athaa_sensitivity/-10),null==g.short_blocks&&(g.short_blocks=$e.short_block_allowed),g.short_blocks==$e.short_block_allowed&&(g.mode==q.JOINT_STEREO||g.mode==q.STEREO)&&(g.short_blocks=$e.short_block_coupled),g.quant_comp<0&&(g.quant_comp=1),g.quant_comp_short<0&&(g.quant_comp_short=0),g.msfix<0&&(g.msfix=0),g.exp_nspsytune=1|g.exp_nspsytune,g.internal_flags.nsPsy.attackthre<0&&(g.internal_flags.nsPsy.attackthre=O.NSATTACKTHRE),g.internal_flags.nsPsy.attackthre_s<0&&(g.internal_flags.nsPsy.attackthre_s=O.NSATTACKTHRE_S),j(g.scale>=0),g.scale<0&&(g.scale=1),g.ATHtype<0&&(g.ATHtype=4),g.ATHcurve<0&&(g.ATHcurve=4),g.athaa_loudapprox<0&&(g.athaa_loudapprox=2),g.interChRatio<0&&(g.interChRatio=0),null==g.useTemporal&&(g.useTemporal=!0),D.slot_lag=D.frac_SpF=0,g.VBR==Fe.vbr_off&&(D.slot_lag=D.frac_SpF=72e3*(g.version+1)*g.brate%g.out_samplerate|0),W.iteration_init(g),X.psymodel_init(g),j(g.scale>=0),0},this.lame_encode_flush=function(g,D,Pe,qe){var Je,kt,pt,Le,ct=g.internal_flags,gt=U([2,1152]),st=0,zt=ct.mf_samples_to_encode-Re.POSTDELAY,wn=K(g);if(ct.mf_samples_to_encode<1)return 0;for(Je=0,g.in_samplerate!=g.out_samplerate&&(zt+=16*g.out_samplerate/g.in_samplerate),(pt=g.framesize-zt%g.framesize)<576&&(pt+=g.framesize),g.encoder_padding=pt,Le=(zt+pt)/g.framesize;Le>0&&st>=0;){var Xt=wn-ct.mf_size,an=g.frameNum;Xt*=g.in_samplerate,(Xt/=g.out_samplerate)>1152&&(Xt=1152),Xt<1&&(Xt=1),kt=qe-Je,0==qe&&(kt=0),Pe+=st=this.lame_encode_buffer(g,gt[0],gt[1],Xt,D,Pe,kt),Je+=st,Le-=an!=g.frameNum?1:0}if(ct.mf_samples_to_encode=0,st<0||(kt=qe-Je,0==qe&&(kt=0),p.flush_bitstream(g),(st=p.copy_buffer(ct,D,Pe,kt,1))<0))return st;if(Pe+=st,kt=qe-(Je+=st),0==qe&&(kt=0),g.write_id3tag_automatic){if(Me.id3tag_write_v1(g),(st=p.copy_buffer(ct,D,Pe,kt,0))<0)return st;Je+=st}return Je},this.lame_encode_buffer=function(g,D,Pe,qe,ct,gt,st){var Je=g.internal_flags,kt=[null,null];if(Je.Class_ID!=Y)return-3;if(0==qe)return 0;(function L(g,D){(null==g.in_buffer_0||g.in_buffer_nsamples<D)&&(g.in_buffer_0=Ee(D),g.in_buffer_1=Ee(D),g.in_buffer_nsamples=D)})(Je,qe),kt[0]=Je.in_buffer_0,kt[1]=Je.in_buffer_1;for(var pt=0;pt<qe;pt++)kt[0][pt]=D[pt],Je.channels_in>1&&(kt[1][pt]=Pe[pt]);return function ue(g,D,Pe,qe,ct,gt,st){var pt,Le,zt,wn,Xt,Je=g.internal_flags,kt=0,an=[null,null],gn=[null,null];if(Je.Class_ID!=Y)return-3;if(0==qe)return 0;if((Xt=p.copy_buffer(Je,ct,gt,st,0))<0)return Xt;if(gt+=Xt,kt+=Xt,gn[0]=D,gn[1]=Pe,oe.NEQ(g.scale,0)&&oe.NEQ(g.scale,1))for(Le=0;Le<qe;++Le)gn[0][Le]*=g.scale,2==Je.channels_out&&(gn[1][Le]*=g.scale);if(oe.NEQ(g.scale_left,0)&&oe.NEQ(g.scale_left,1))for(Le=0;Le<qe;++Le)gn[0][Le]*=g.scale_left;if(oe.NEQ(g.scale_right,0)&&oe.NEQ(g.scale_right,1))for(Le=0;Le<qe;++Le)gn[1][Le]*=g.scale_right;if(2==g.num_channels&&1==Je.channels_out)for(Le=0;Le<qe;++Le)gn[0][Le]=.5*(gn[0][Le]+gn[1][Le]),gn[1][Le]=0;wn=K(g),an[0]=Je.mfbuf[0],an[1]=Je.mfbuf[1];for(var cn=0;qe>0;){var zr,pr,_n=[null,null];_n[0]=gn[0],_n[1]=gn[1];var Tn=new Te;if(un(g,an,_n,cn,qe,Tn),zr=Tn.n_in,pr=Tn.n_out,Je.findReplayGain&&!Je.decode_on_the_fly&&C.AnalyzeSamples(Je.rgdata,an[0],Je.mf_size,an[1],Je.mf_size,pr,Je.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(qe-=zr,cn+=zr,Je.mf_size+=pr,j(Je.mf_size<=se.MFSIZE),Je.mf_samples_to_encode<1&&(Je.mf_samples_to_encode=Re.ENCDELAY+Re.POSTDELAY),Je.mf_samples_to_encode+=pr,Je.mf_size>=wn){var qr=st-kt;if(0==st&&(qr=0),(pt=be(g,an[0],an[1],ct,gt,qr))<0)return pt;for(gt+=pt,kt+=pt,Je.mf_size-=g.framesize,Je.mf_samples_to_encode-=g.framesize,zt=0;zt<Je.channels_out;zt++)for(Le=0;Le<Je.mf_size;Le++)an[zt][Le]=an[zt][Le+g.framesize]}}return j(0==qe),kt}(g,kt[0],kt[1],qe,ct,gt,st)}}},482:(Ze,ke,B)=>{var E=B(992);Ze.exports=function ge(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=E.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}},87:(Ze,ke,B)=>{var E=B(284),ht=E.new_byte,xt=E.new_double,Ee=E.new_float,at=E.new_float_n,He=E.new_int,Qt=E.new_int_n,j=B(733),O=B(554),ee=B(429),se=B(256),Xe=B(669),he=B(348),mt=B(726);function oe(){function Re(){this.write_timing=0,this.ptr=0,this.buf=ht(40)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=at([2,oe.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new j,this.ms_ratio=Ee(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=He(2),this.CurrentStep=He(2),this.masking_lower=0,this.bv_scf=He(576),this.pseudohalf=He(mt.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*oe.BPC+1),this.itime=xt(2),this.sideinfo_len=0,this.sb_sample=at([2,2,18,he.SBLIMIT]),this.amp_filter=Ee(32),this.header=new Array(oe.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new O,this.minval_l=Ee(he.CBANDS),this.minval_s=Ee(he.CBANDS),this.nb_1=at([4,he.CBANDS]),this.nb_2=at([4,he.CBANDS]),this.nb_s1=at([4,he.CBANDS]),this.nb_s2=at([4,he.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=Ee(4),this.loudness_sq=at([2,2]),this.loudness_sq_save=Ee(2),this.mld_l=Ee(he.SBMAX_l),this.mld_s=Ee(he.SBMAX_s),this.bm_l=He(he.SBMAX_l),this.bo_l=He(he.SBMAX_l),this.bm_s=He(he.SBMAX_s),this.bo_s=He(he.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=Qt([he.CBANDS,2]),this.s3ind_s=Qt([he.CBANDS,2]),this.numlines_s=He(he.CBANDS),this.numlines_l=He(he.CBANDS),this.rnumlines_l=Ee(he.CBANDS),this.mld_cb_l=Ee(he.CBANDS),this.mld_cb_s=Ee(he.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=Ee(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=He(2),this.nsPsy=new ee,this.VBR_seek_table=new se,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=Qt([16,5]),this.bitrate_blockType_Hist=Qt([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var xe=0;xe<this.en.length;xe++)this.en[xe]=new Xe;for(xe=0;xe<this.thm.length;xe++)this.thm[xe]=new Xe;for(xe=0;xe<this.header.length;xe++)this.header[xe]=new Re}oe.MFSIZE=3456+he.ENCDELAY-he.MDCTDELAY,oe.MAX_HEADER_BUF=256,oe.MAX_BITS_PER_CHANNEL=4095,oe.MAX_BITS_PER_GRANULE=7680,oe.BPC=320,Ze.exports=oe},992:Ze=>{function ke(B){var E=B;this.ordinal=function(){return E}}ke.STEREO=new ke(0),ke.JOINT_STEREO=new ke(1),ke.DUAL_CHANNEL=new ke(2),ke.MONO=new ke(3),ke.NOT_SET=new ke(4),Ze.exports=ke},274:Ze=>{Ze.exports=function ke(B){this.bits=B}},671:(Ze,ke,B)=>{var E=B(284),ge=E.System,Ge=E.Util,We=E.Arrays,Ee=E.new_float,j=B(348);Ze.exports=function O(){var ee=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*Ge.SQRT2*.5/2384e-9,.017876148*Ge.SQRT2*.5/2384e-9,.003134727*Ge.SQRT2*.5/2384e-9,.002457142*Ge.SQRT2*.5/2384e-9,971317e-9*Ge.SQRT2*.5/2384e-9,218868e-9*Ge.SQRT2*.5/2384e-9,101566e-9*Ge.SQRT2*.5/2384e-9,13828e-9*Ge.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],he=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],mt=he[j.SHORT_TYPE],oe=he[j.SHORT_TYPE],_e=he[j.SHORT_TYPE],Re=he[j.SHORT_TYPE],xe=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function q(N,C,p){for(var F=10,W=C+238-14-286,pe=-15;pe<0;pe++){var X;z=N[W+-224]*(X=ee[F+-10]),de=N[C+224]*X,z+=N[W+-160]*(X=ee[F+-9]),de+=N[C+160]*X,z+=N[W+-96]*(X=ee[F+-8]),de+=N[C+96]*X,z+=N[W+-32]*(X=ee[F+-7]),de+=N[C+32]*X,z+=N[W+32]*(X=ee[F+-6]),de+=N[C+-32]*X,z+=N[W+96]*(X=ee[F+-5]),de+=N[C+-96]*X,z+=N[W+160]*(X=ee[F+-4]),de+=N[C+-160]*X,z+=N[W+224]*(X=ee[F+-3]),de+=N[C+-224]*X,z+=N[C+-256]*(X=ee[F+-2]),de-=N[W+256]*X,z+=N[C+-192]*(X=ee[F+-1]),de-=N[W+192]*X,z+=N[C+-128]*(X=ee[F+0]),de-=N[W+128]*X,z+=N[C+-64]*(X=ee[F+1]),de-=N[W+64]*X,z+=N[C+0]*(X=ee[F+2]),de-=N[W+0]*X,z+=N[C+64]*(X=ee[F+3]),de-=N[W+-64]*X,z+=N[C+128]*(X=ee[F+4]),de-=N[W+-128]*X,z+=N[C+192]*(X=ee[F+5]),X=(de-=N[W+-192]*X)-(z*=ee[F+6]),p[30+2*pe]=de+z,p[31+2*pe]=ee[F+7]*X,F+=18,C--,W++}var z,de,Me,H,h;de=N[C+-16]*ee[F+-10],z=N[C+-32]*ee[F+-2],de+=(N[C+-48]-N[C+16])*ee[F+-9],z+=N[C+-96]*ee[F+-1],de+=(N[C+-80]+N[C+48])*ee[F+-8],z+=N[C+-160]*ee[F+0],de+=(N[C+-112]-N[C+80])*ee[F+-7],z+=N[C+-224]*ee[F+1],de+=(N[C+-144]+N[C+112])*ee[F+-6],z-=N[C+32]*ee[F+2],de+=(N[C+-176]-N[C+144])*ee[F+-5],z-=N[C+96]*ee[F+3],de+=(N[C+-208]+N[C+176])*ee[F+-4],z-=N[C+160]*ee[F+4],Me=(z-=N[C+224])-(de+=(N[C+-240]-N[C+208])*ee[F+-3]),H=z+de,z=p[15]-(de=p[14]),p[31]=H+de,p[30]=Me+z,p[15]=Me-z,p[14]=H-de,h=p[28]-p[0],p[0]+=p[28],p[28]=h*ee[F+-36+7],h=p[29]-p[1],p[1]+=p[29],p[29]=h*ee[F+-36+7],h=p[26]-p[2],p[2]+=p[26],p[26]=h*ee[F+-72+7],h=p[27]-p[3],p[3]+=p[27],p[27]=h*ee[F+-72+7],h=p[24]-p[4],p[4]+=p[24],p[24]=h*ee[F+-108+7],h=p[25]-p[5],p[5]+=p[25],p[25]=h*ee[F+-108+7],h=p[22]-p[6],p[6]+=p[22],p[22]=h*Ge.SQRT2,h=p[23]-p[7],p[7]+=p[23],p[23]=h*Ge.SQRT2-p[7],p[7]-=p[6],p[22]-=p[7],p[23]-=p[22],p[6]=p[31]-(h=p[6]),p[31]=p[31]+h,p[7]=p[30]-(h=p[7]),p[30]=p[30]+h,p[22]=p[15]-(h=p[22]),p[15]=p[15]+h,p[23]=p[14]-(h=p[23]),p[14]=p[14]+h,h=p[20]-p[8],p[8]+=p[20],p[20]=h*ee[F+-180+7],h=p[21]-p[9],p[9]+=p[21],p[21]=h*ee[F+-180+7],h=p[18]-p[10],p[10]+=p[18],p[18]=h*ee[F+-216+7],h=p[19]-p[11],p[11]+=p[19],p[19]=h*ee[F+-216+7],h=p[16]-p[12],p[12]+=p[16],p[16]=h*ee[F+-252+7],h=p[17]-p[13],p[13]+=p[17],p[17]=h*ee[F+-252+7],h=-p[20]+p[24],p[20]+=p[24],p[24]=h*ee[F+-216+7],h=-p[21]+p[25],p[21]+=p[25],p[25]=h*ee[F+-216+7],h=p[4]-p[8],p[4]+=p[8],p[8]=h*ee[F+-216+7],h=p[5]-p[9],p[5]+=p[9],p[9]=h*ee[F+-216+7],h=p[0]-p[12],p[0]+=p[12],p[12]=h*ee[F+-72+7],h=p[1]-p[13],p[1]+=p[13],p[13]=h*ee[F+-72+7],h=p[16]-p[28],p[16]+=p[28],p[28]=h*ee[F+-72+7],h=-p[17]+p[29],p[17]+=p[29],p[29]=h*ee[F+-72+7],h=Ge.SQRT2*(p[2]-p[10]),p[2]+=p[10],p[10]=h,h=Ge.SQRT2*(p[3]-p[11]),p[3]+=p[11],p[11]=h,h=Ge.SQRT2*(-p[18]+p[26]),p[18]+=p[26],p[26]=h-p[18],h=Ge.SQRT2*(-p[19]+p[27]),p[19]+=p[27],p[27]=h-p[19],h=p[2],p[19]-=p[3],p[3]-=h,p[2]=p[31]-h,p[31]+=h,h=p[3],p[11]-=p[19],p[18]-=h,p[3]=p[30]-h,p[30]+=h,h=p[18],p[27]-=p[11],p[19]-=h,p[18]=p[15]-h,p[15]+=h,p[10]-=h=p[19],p[19]=p[14]-h,p[14]+=h,p[11]-=h=p[10],p[10]=p[23]-h,p[23]+=h,p[26]-=h=p[11],p[11]=p[22]-h,p[22]+=h,p[27]-=h=p[26],p[26]=p[7]-h,p[7]+=h,p[27]=p[6]-(h=p[27]),p[6]+=h,h=Ge.SQRT2*(p[0]-p[4]),p[0]+=p[4],p[4]=h,h=Ge.SQRT2*(p[1]-p[5]),p[1]+=p[5],p[5]=h,h=Ge.SQRT2*(p[16]-p[20]),p[16]+=p[20],p[20]=h,h=Ge.SQRT2*(p[17]-p[21]),p[17]+=p[21],p[21]=h,h=-Ge.SQRT2*(p[8]-p[12]),p[8]+=p[12],p[12]=h-p[8],h=-Ge.SQRT2*(p[9]-p[13]),p[9]+=p[13],p[13]=h-p[9],h=-Ge.SQRT2*(p[25]-p[29]),p[25]+=p[29],p[29]=h-p[25],h=-Ge.SQRT2*(p[24]+p[28]),p[24]-=p[28],p[28]=h-p[24],p[24]=h=p[24]-p[16],p[20]=h=p[20]-h,p[28]=h=p[28]-h,p[25]=h=p[25]-p[17],p[21]=h=p[21]-h,p[29]=h=p[29]-h,p[17]=h=p[17]-p[1],p[9]=h=p[9]-h,p[25]=h=p[25]-h,p[5]=h=p[5]-h,p[21]=h=p[21]-h,p[13]=h=p[13]-h,p[29]=h=p[29]-h,p[1]=h=p[1]-p[0],p[16]=h=p[16]-h,p[17]=h=p[17]-h,p[8]=h=p[8]-h,p[9]=h=p[9]-h,p[24]=h=p[24]-h,p[25]=h=p[25]-h,p[4]=h=p[4]-h,p[5]=h=p[5]-h,p[20]=h=p[20]-h,p[21]=h=p[21]-h,p[12]=h=p[12]-h,p[13]=h=p[13]-h,p[28]=h=p[28]-h,p[29]=h=p[29]-h,h=p[0],p[0]+=p[31],p[31]-=h,h=p[1],p[1]+=p[30],p[30]-=h,h=p[16],p[16]+=p[15],p[15]-=h,h=p[17],p[17]+=p[14],p[14]-=h,h=p[8],p[8]+=p[23],p[23]-=h,h=p[9],p[9]+=p[22],p[22]-=h,h=p[24],p[24]+=p[7],p[7]-=h,h=p[25],p[25]+=p[6],p[6]-=h,h=p[4],p[4]+=p[27],p[27]-=h,h=p[5],p[5]+=p[26],p[26]-=h,h=p[20],p[20]+=p[11],p[11]-=h,h=p[21],p[21]+=p[10],p[10]-=h,h=p[12],p[12]+=p[19],p[19]-=h,h=p[13],p[13]+=p[18],p[18]-=h,h=p[28],p[28]+=p[3],p[3]-=h,h=p[29],p[29]+=p[2],p[2]-=h}function ve(N,C){for(var p=0;p<3;p++){var F,W,pe,X,z,de;W=(X=N[C+6]*he[j.SHORT_TYPE][0]-N[C+15])+(F=N[C+0]*he[j.SHORT_TYPE][2]-N[C+9]),pe=X-F,z=(X=N[C+15]*he[j.SHORT_TYPE][0]+N[C+6])+(F=N[C+9]*he[j.SHORT_TYPE][2]+N[C+0]),de=-X+F,X=2069978111953089e-26*(N[C+12]*he[j.SHORT_TYPE][1]+N[C+3]),N[C+0]=190752519173728e-25*W+(F=2069978111953089e-26*(N[C+3]*he[j.SHORT_TYPE][1]-N[C+12])),N[C+15]=190752519173728e-25*-z+X,N[C+3]=(pe=.8660254037844387*pe*1907525191737281e-26)-(z=.5*z*1907525191737281e-26+X),N[C+6]=pe+z,N[C+9]=(W=.5*W*1907525191737281e-26-F)+(de=.8660254037844387*de*1907525191737281e-26),N[C+12]=W-de,C++}}function le(N,C,p){var F,W,pe,X,z,de,Me,H,h,T,I,Y,A,y,d,f,c,b;pe=p[17]-p[9],z=p[15]-p[11],de=p[14]-p[12],N[C+17]=(Me=p[0]+p[8])+(h=p[2]+p[6])-(T=p[3]+p[5])-((H=p[1]+p[7])-p[4]),N[C+5]=(F=(pe-z-de)*oe[18])+(W=(Me+h-T)*oe[19]+(H-p[4])),N[C+6]=F-W,N[C+1]=(F=pe*oe[12]+(X=(p[16]-p[10])*oe[18])+z*oe[13]+de*oe[14])+(W=-Me*oe[16]+(H=H*oe[19]+p[4])-h*oe[17]+T*oe[15]),N[C+2]=F-W,N[C+9]=(F=pe*oe[13]-X-z*oe[14]+de*oe[12])+(W=-Me*oe[17]+H-h*oe[15]+T*oe[16]),N[C+10]=F-W,N[C+13]=(F=pe*oe[14]-X+z*oe[12]-de*oe[13])+(W=Me*oe[15]-H+h*oe[16]-T*oe[17]),N[C+14]=F-W,I=p[8]-p[0],A=p[6]-p[2],y=p[5]-p[3],N[C+0]=(d=p[17]+p[9])+(c=p[15]+p[11])+(b=p[14]+p[12])+((f=p[16]+p[10])+p[13]),N[C+11]=(F=(d+c+b)*oe[19]-(f+p[13]))+(W=(I-A+y)*oe[18]),N[C+12]=F-W,N[C+3]=(F=d*oe[15]-(f=p[13]-f*oe[19])+c*oe[16]+b*oe[17])+(W=I*oe[14]+(Y=(p[7]-p[1])*oe[18])+A*oe[12]+y*oe[13]),N[C+4]=F-W,N[C+7]=(F=-d*oe[17]+f-c*oe[15]-b*oe[16])+(W=I*oe[13]+Y-A*oe[14]-y*oe[12]),N[C+8]=F-W,N[C+15]=(F=-d*oe[16]+f-c*oe[17]-b*oe[15])+(W=I*oe[12]-Y+A*oe[13]-y*oe[14]),N[C+16]=F-W}this.mdct_sub48=function(N,C,p){for(var F=C,W=286,pe=0;pe<N.channels_out;pe++){for(var X=0;X<N.mode_gr;X++){for(var z,de=N.l3_side.tt[X][pe],Me=de.xr,H=0,h=N.sb_sample[pe][1-X],T=0,I=0;I<9;I++)for(q(F,W,h[T]),q(F,W+32,h[T+1]),T+=2,W+=64,z=1;z<32;z+=2)h[T-1][z]*=-1;for(z=0;z<32;z++,H+=18){var Y=de.block_type,A=N.sb_sample[pe][X],y=N.sb_sample[pe][1-X];if(0!=de.mixed_block_flag&&z<2&&(Y=0),N.amp_filter[z]<1e-12)We.fill(Me,H+0,H+18,0);else{if(N.amp_filter[z]<1)for(I=0;I<18;I++)y[I][xe[z]]*=N.amp_filter[z];if(Y==j.SHORT_TYPE){for(I=-3;I<0;I++){var d=he[j.SHORT_TYPE][I+3];Me[H+3*I+9]=A[9+I][xe[z]]*d-A[8-I][xe[z]],Me[H+3*I+18]=A[14-I][xe[z]]*d+A[15+I][xe[z]],Me[H+3*I+10]=A[15+I][xe[z]]*d-A[14-I][xe[z]],Me[H+3*I+19]=y[2-I][xe[z]]*d+y[3+I][xe[z]],Me[H+3*I+11]=y[3+I][xe[z]]*d-y[2-I][xe[z]],Me[H+3*I+20]=y[8-I][xe[z]]*d+y[9+I][xe[z]]}ve(Me,H)}else{var f=Ee(18);for(I=-9;I<0;I++){var c,b;f[I+9]=(c=he[Y][I+27]*y[I+9][xe[z]]+he[Y][I+36]*y[8-I][xe[z]])-(b=he[Y][I+9]*A[I+9][xe[z]]-he[Y][I+18]*A[8-I][xe[z]])*mt[3+I+9],f[I+18]=c*mt[3+I+9]+b}le(Me,H,f)}}if(Y!=j.SHORT_TYPE&&0!=z)for(I=7;I>=0;--I){var v;v=Me[H+I]*Re[28+I]-Me[H+-1-I]*_e[20+I],Me[H+-1-I]=Me[H+I]*_e[20+I]+Me[H+-1-I]*Re[28+I],Me[H+I]=v}}}if(F=p,W=286,1==N.mode_gr)for(var P=0;P<18;P++)ge.arraycopy(N.sb_sample[pe][1][P],0,N.sb_sample[pe][0][P],0,32)}}}},429:(Ze,ke,B)=>{var E=B(284),Ee=E.new_float,at=E.new_float_n,He=E.new_int,j=B(348);Ze.exports=function O(){this.last_en_subshort=at([4,9]),this.lastAttacks=He(4),this.pefirbuf=Ee(19),this.longfact=Ee(j.SBMAX_l),this.shortfact=Ee(j.SBMAX_s),this.attackthre=0,this.attackthre_s=0}},48:(Ze,ke,B)=>{var Fe=B(284).VbrMode;Ze.exports=function j(){var Xe,O=B(359);function ee(q,ve,le,N,C,p,F,W,pe,X,z,de,Me,H,h){this.vbr_q=q,this.quant_comp=ve,this.quant_comp_s=le,this.expY=N,this.st_lrm=C,this.st_s=p,this.masking_adj=F,this.masking_adj_short=W,this.ath_lower=pe,this.ath_curve=X,this.ath_sensitivity=z,this.interch=de,this.safejoint=Me,this.sfb21mod=H,this.msfix=h}function se(q,ve,le,N,C,p,F,W,pe,X,z,de,Me,H){this.quant_comp=ve,this.quant_comp_s=le,this.safejoint=N,this.nsmsfix=C,this.st_lrm=p,this.st_s=F,this.nsbass=W,this.scale=pe,this.masking_adj=X,this.ath_lower=z,this.ath_curve=de,this.interch=Me,this.sfscale=H}this.setModules=function(q){Xe=q};var he=[new ee(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new ee(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new ee(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new ee(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new ee(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new ee(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new ee(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new ee(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new ee(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new ee(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new ee(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],mt=[new ee(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new ee(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new ee(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new ee(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new ee(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new ee(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new ee(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new ee(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new ee(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new ee(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new ee(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function oe(q,ve,le){var N=q.VBR==Fe.vbr_rh?he:mt,C=q.VBR_q_frac,p=N[ve],F=N[ve+1],W=p;p.st_lrm=p.st_lrm+C*(F.st_lrm-p.st_lrm),p.st_s=p.st_s+C*(F.st_s-p.st_s),p.masking_adj=p.masking_adj+C*(F.masking_adj-p.masking_adj),p.masking_adj_short=p.masking_adj_short+C*(F.masking_adj_short-p.masking_adj_short),p.ath_lower=p.ath_lower+C*(F.ath_lower-p.ath_lower),p.ath_curve=p.ath_curve+C*(F.ath_curve-p.ath_curve),p.ath_sensitivity=p.ath_sensitivity+C*(F.ath_sensitivity-p.ath_sensitivity),p.interch=p.interch+C*(F.interch-p.interch),p.msfix=p.msfix+C*(F.msfix-p.msfix),function xe(q,ve){var le=0;0>ve&&(le=-1,ve=0),9<ve&&(le=-1,ve=9),q.VBR_q=ve,q.VBR_q_frac=0}(q,W.vbr_q),0!=le?q.quant_comp=W.quant_comp:Math.abs(q.quant_comp- -1)>0||(q.quant_comp=W.quant_comp),0!=le?q.quant_comp_short=W.quant_comp_s:Math.abs(q.quant_comp_short- -1)>0||(q.quant_comp_short=W.quant_comp_s),0!=W.expY&&(q.experimentalY=0!=W.expY),0!=le?q.internal_flags.nsPsy.attackthre=W.st_lrm:Math.abs(q.internal_flags.nsPsy.attackthre- -1)>0||(q.internal_flags.nsPsy.attackthre=W.st_lrm),0!=le?q.internal_flags.nsPsy.attackthre_s=W.st_s:Math.abs(q.internal_flags.nsPsy.attackthre_s- -1)>0||(q.internal_flags.nsPsy.attackthre_s=W.st_s),0!=le?q.maskingadjust=W.masking_adj:Math.abs(q.maskingadjust-0)>0||(q.maskingadjust=W.masking_adj),0!=le?q.maskingadjust_short=W.masking_adj_short:Math.abs(q.maskingadjust_short-0)>0||(q.maskingadjust_short=W.masking_adj_short),0!=le?q.ATHlower=-W.ath_lower/10:Math.abs(10*-q.ATHlower-0)>0||(q.ATHlower=-W.ath_lower/10),0!=le?q.ATHcurve=W.ath_curve:Math.abs(q.ATHcurve- -1)>0||(q.ATHcurve=W.ath_curve),0!=le?q.athaa_sensitivity=W.ath_sensitivity:Math.abs(q.athaa_sensitivity- -1)>0||(q.athaa_sensitivity=W.ath_sensitivity),W.interch>0&&(0!=le?q.interChRatio=W.interch:Math.abs(q.interChRatio- -1)>0||(q.interChRatio=W.interch)),W.safejoint>0&&(q.exp_nspsytune=q.exp_nspsytune|W.safejoint),W.sfb21mod>0&&(q.exp_nspsytune=q.exp_nspsytune|W.sfb21mod<<20),0!=le?q.msfix=W.msfix:Math.abs(q.msfix- -1)>0||(q.msfix=W.msfix),0==le&&(q.VBR_q=ve,q.VBR_q_frac=C)}var _e=[new se(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new se(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new se(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new se(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new se(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new se(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new se(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new se(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new se(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new se(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new se(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new se(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new se(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new se(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new se(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new se(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new se(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function Re(q,ve,le){var N=ve,C=Xe.nearestBitrateFullIndex(ve);if(q.VBR=Fe.vbr_abr,q.VBR_mean_bitrate_kbps=N,q.VBR_mean_bitrate_kbps=Math.min(q.VBR_mean_bitrate_kbps,320),q.VBR_mean_bitrate_kbps=Math.max(q.VBR_mean_bitrate_kbps,8),q.brate=q.VBR_mean_bitrate_kbps,q.VBR_mean_bitrate_kbps>320&&(q.disable_reservoir=!0),_e[C].safejoint>0&&(q.exp_nspsytune=2|q.exp_nspsytune),_e[C].sfscale>0&&(q.internal_flags.noise_shaping=2),Math.abs(_e[C].nsbass)>0){var p=int(4*_e[C].nsbass);p<0&&(p+=64),q.exp_nspsytune=q.exp_nspsytune|p<<2}return 0!=le?q.quant_comp=_e[C].quant_comp:Math.abs(q.quant_comp- -1)>0||(q.quant_comp=_e[C].quant_comp),0!=le?q.quant_comp_short=_e[C].quant_comp_s:Math.abs(q.quant_comp_short- -1)>0||(q.quant_comp_short=_e[C].quant_comp_s),0!=le?q.msfix=_e[C].nsmsfix:Math.abs(q.msfix- -1)>0||(q.msfix=_e[C].nsmsfix),0!=le?q.internal_flags.nsPsy.attackthre=_e[C].st_lrm:Math.abs(q.internal_flags.nsPsy.attackthre- -1)>0||(q.internal_flags.nsPsy.attackthre=_e[C].st_lrm),0!=le?q.internal_flags.nsPsy.attackthre_s=_e[C].st_s:Math.abs(q.internal_flags.nsPsy.attackthre_s- -1)>0||(q.internal_flags.nsPsy.attackthre_s=_e[C].st_s),0!=le?q.scale=_e[C].scale:Math.abs(q.scale- -1)>0||(q.scale=_e[C].scale),0!=le?q.maskingadjust=_e[C].masking_adj:Math.abs(q.maskingadjust-0)>0||(q.maskingadjust=_e[C].masking_adj),_e[C].masking_adj>0?0!=le?q.maskingadjust_short=.9*_e[C].masking_adj:Math.abs(q.maskingadjust_short-0)>0||(q.maskingadjust_short=.9*_e[C].masking_adj):0!=le?q.maskingadjust_short=1.1*_e[C].masking_adj:Math.abs(q.maskingadjust_short-0)>0||(q.maskingadjust_short=1.1*_e[C].masking_adj),0!=le?q.ATHlower=-_e[C].ath_lower/10:Math.abs(10*-q.ATHlower-0)>0||(q.ATHlower=-_e[C].ath_lower/10),0!=le?q.ATHcurve=_e[C].ath_curve:Math.abs(q.ATHcurve- -1)>0||(q.ATHcurve=_e[C].ath_curve),0!=le?q.interChRatio=_e[C].interch:Math.abs(q.interChRatio- -1)>0||(q.interChRatio=_e[C].interch),ve}this.apply_preset=function(q,ve,le){switch(ve){case O.R3MIX:ve=O.V3,q.VBR=Fe.vbr_mtrh;break;case O.MEDIUM:ve=O.V4,q.VBR=Fe.vbr_rh;break;case O.MEDIUM_FAST:ve=O.V4,q.VBR=Fe.vbr_mtrh;break;case O.STANDARD:ve=O.V2,q.VBR=Fe.vbr_rh;break;case O.STANDARD_FAST:ve=O.V2,q.VBR=Fe.vbr_mtrh;break;case O.EXTREME:ve=O.V0,q.VBR=Fe.vbr_rh;break;case O.EXTREME_FAST:ve=O.V0,q.VBR=Fe.vbr_mtrh;break;case O.INSANE:return q.preset=ve=320,Re(q,ve,le),q.VBR=Fe.vbr_off,ve}switch(q.preset=ve,ve){case O.V9:return oe(q,9,le),ve;case O.V8:return oe(q,8,le),ve;case O.V7:return oe(q,7,le),ve;case O.V6:return oe(q,6,le),ve;case O.V5:return oe(q,5,le),ve;case O.V4:return oe(q,4,le),ve;case O.V3:return oe(q,3,le),ve;case O.V2:return oe(q,2,le),ve;case O.V1:return oe(q,1,le),ve;case O.V0:return oe(q,0,le),ve}return 8<=ve&&ve<=320?Re(q,ve,le):(q.preset=0,ve)}}},995:(Ze,ke,B)=>{var E=B(284),Fe=E.VbrMode,Ft=E.Float,$e=E.ShortBlock,Ge=E.Util,We=E.Arrays,Ee=E.new_float,at=E.new_float_n,He=E.new_int,U=E.assert,j=B(425),O=B(348);Ze.exports=function ee(){var se=B(992),Xe=new j,he=2.302585092994046,q=1/217621504/(O.BLKSIZE/2),X=.2302585093;function de(S,M){for(var V=0,$=0;$<O.BLKSIZE/2;++$)V+=S[$]*M.ATH.eql_w[$];return V*q}function Me(S,M,V,$,J,R,Q,ne,Z,fe,re){var ae=S.internal_flags;if(Z<2)Xe.fft_long(ae,$[J],Z,fe,re),Xe.fft_short(ae,R[Q],Z,fe,re);else if(2==Z){for(var Oe=O.BLKSIZE-1;Oe>=0;--Oe)$[J+0][Oe]=((it=$[J+0][Oe])+(Se=$[J+1][Oe]))*Ge.SQRT2*.5,$[J+1][Oe]=(it-Se)*Ge.SQRT2*.5;for(var ut=2;ut>=0;--ut)for(Oe=O.BLKSIZE_s-1;Oe>=0;--Oe){var it,Se;R[Q+0][ut][Oe]=((it=R[Q+0][ut][Oe])+(Se=R[Q+1][ut][Oe]))*Ge.SQRT2*.5,R[Q+1][ut][Oe]=(it-Se)*Ge.SQRT2*.5}}for(M[0]=$[J+0][0],M[0]*=M[0],Oe=O.BLKSIZE/2-1;Oe>=0;--Oe)M[O.BLKSIZE/2-Oe]=.5*((ce=$[J+0][O.BLKSIZE/2-Oe])*ce+(ze=$[J+0][O.BLKSIZE/2+Oe])*ze);for(ut=2;ut>=0;--ut)for(V[ut][0]=R[Q+0][ut][0],V[ut][0]*=V[ut][0],Oe=O.BLKSIZE_s/2-1;Oe>=0;--Oe){var ce,ze;V[ut][O.BLKSIZE_s/2-Oe]=.5*((ce=R[Q+0][ut][O.BLKSIZE_s/2-Oe])*ce+(ze=R[Q+0][ut][O.BLKSIZE_s/2+Oe])*ze)}var Rt=0;for(Oe=11;Oe<O.HBLKSIZE;Oe++)Rt+=M[Oe];if(ae.tot_ener[Z]=Rt,S.analysis){for(Oe=0;Oe<O.HBLKSIZE;Oe++)ae.pinfo.energy[ne][Z][Oe]=ae.pinfo.energy_save[Z][Oe],ae.pinfo.energy_save[Z][Oe]=M[Oe];ae.pinfo.pe[ne][Z]=ae.pe[Z]}2==S.athaa_loudapprox&&Z<2&&(ae.loudness_sq[ne][Z]=ae.loudness_sq_save[Z],ae.loudness_sq_save[Z]=de(M,ae))}var I,Y,A,y=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],f=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],c=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],b=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function w(S,M,V,$,J,R){var Q,Z,fe;if(M>S){if(!(M<S*Y))return S+M;Q=M/S}else{if(S>=M*Y)return S+M;Q=S/M}if(U(S>=0),U(M>=0),S+=M,$+3<=6){if(Q>=I)return S;var ne=0|Ge.FAST_LOG10_X(Q,16);return S*c[ne]}return ne=0|Ge.FAST_LOG10_X(Q,16),U((M=0!=R?J.ATH.cb_s[V]*J.ATH.adjust:J.ATH.cb_l[V]*J.ATH.adjust)>=0),S<A*M?S>M?(Z=1,ne<=13&&(Z=b[ne]),fe=Ge.FAST_LOG10_X(S/M,10/15),S*((f[ne]-Z)*fe+Z)):ne>13?S:S*b[ne]:S*f[ne]}var v=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function P(S,M,V){var $;if(S<0&&(S=0),M<0&&(M=0),S<=0)return M;if(M<=0)return S;if($=M>S?M/S:S/M,-2<=V&&V<=2){if($>=I)return S+M;var J=0|Ge.FAST_LOG10_X($,16);return(S+M)*v[J]}return $<Y?S+M:(S<M&&(S=M),S)}function ue(S,M,V,$,J){var R,Q,ne=0,Z=0;for(R=Q=0;R<O.SBMAX_s;++Q,++R){for(var fe=S.bo_s[R],re=S.npart_s,ae=fe<re?fe:re;Q<ae;)U(M[Q]>=0),U(V[Q]>=0),ne+=M[Q],Z+=V[Q],Q++;if(S.en[$].s[R][J]=ne,S.thm[$].s[R][J]=Z,Q>=re){++R;break}U(M[Q]>=0),U(V[Q]>=0);var Oe=S.PSY.bo_s_weight[R],it=1-Oe;Z=Oe*V[Q],S.en[$].s[R][J]+=ne=Oe*M[Q],S.thm[$].s[R][J]+=Z,ne=it*M[Q],Z=it*V[Q]}for(;R<O.SBMAX_s;++R)S.en[$].s[R][J]=0,S.thm[$].s[R][J]=0}function be(S,M,V,$){var J,R,Q=0,ne=0;for(J=R=0;J<O.SBMAX_l;++R,++J){for(var Z=S.bo_l[J],fe=S.npart_l,re=Z<fe?Z:fe;R<re;)U(M[R]>=0),U(V[R]>=0),Q+=M[R],ne+=V[R],R++;if(S.en[$].l[J]=Q,S.thm[$].l[J]=ne,R>=fe){++J;break}U(M[R]>=0),U(V[R]>=0);var ae=S.PSY.bo_l_weight[J],Oe=1-ae;ne=ae*V[R],S.en[$].l[J]+=Q=ae*M[R],S.thm[$].l[J]+=ne,Q=Oe*M[R],ne=Oe*V[R]}for(;J<O.SBMAX_l;++J)S.en[$].l[J]=0,S.thm[$].l[J]=0}function Te(S,M,V,$,J,R){var ne,Z,Q=S.internal_flags;for(Z=ne=0;Z<Q.npart_s;++Z){for(var fe=0,re=0,ae=Q.numlines_s[Z],Oe=0;Oe<ae;++Oe,++ne){var it=M[R][ne];fe+=it,re<it&&(re=it)}V[Z]=fe}for(U(Z==Q.npart_s),U(129==ne),ne=Z=0;Z<Q.npart_s;Z++){var Se=Q.s3ind_s[Z][0],ut=Q.s3_ss[ne++]*V[Se];for(++Se;Se<=Q.s3ind_s[Z][1];)ut+=Q.s3_ss[ne]*V[Se],++ne,++Se;var ce=2*Q.nb_s1[J][Z];$[Z]=Math.min(ut,ce),Q.blocktype_old[1&J]==O.SHORT_TYPE&&(ce=16*Q.nb_s2[J][Z],$[Z]=Math.min(ce,$[Z])),Q.nb_s2[J][Z]=Q.nb_s1[J][Z],Q.nb_s1[J][Z]=ut,U($[Z]>=0)}for(;Z<=O.CBANDS;++Z)V[Z]=0,$[Z]=0}function Qe(S,M,V){return V>=1?S:V<=0?M:M>0?Math.pow(S/M,V)*M:0}var rt=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function yt(S,M){for(var V=309.07,$=0;$<O.SBMAX_s-1;$++)for(var J=0;J<3;J++){var R=S.thm.s[$][J];if(U($<rt.length),R>0){var Q=R*M,ne=S.en.s[$][J];ne>Q&&(ne>1e10*Q?V+=rt[$]*(10*he):(U(Q>0),V+=rt[$]*Ge.FAST_LOG10(ne/Q)))}}return V}var un=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function g(S,M){for(var V=281.0575,$=0;$<O.SBMAX_l-1;$++){var J=S.thm.l[$];if(U($<un.length),J>0){var R=J*M,Q=S.en.l[$];Q>R&&(Q>1e10*R?V+=un[$]*(10*he):(U(R>0),V+=un[$]*Ge.FAST_LOG10(Q/R)))}}return V}function D(S,M,V,$,J){var R,Q;for(R=Q=0;R<S.npart_l;++R){var fe,ne=0,Z=0;for(fe=0;fe<S.numlines_l[R];++fe,++Q){var re=M[Q];U(re>=0),ne+=re,Z<re&&(Z=re)}V[R]=ne,$[R]=Z,J[R]=ne*S.rnumlines_l[R],U(S.rnumlines_l[R]>=0),U(ne>=0),U(V[R]>=0),U($[R]>=0),U(J[R]>=0)}}function Pe(S,M,V,$){var J=y.length-1,R=0,Q=V[R]+V[R+1];for(U(Q>=0),Q>0?((ne=M[R])<M[R+1]&&(ne=M[R+1]),U(S.numlines_l[R]+S.numlines_l[R+1]-1>0),(Z=0|(Q=20*(2*ne-Q)/(Q*(S.numlines_l[R]+S.numlines_l[R+1]-1))))>J&&(Z=J),$[R]=Z):$[R]=0,R=1;R<S.npart_l-1;R++)if(U((Q=V[R-1]+V[R]+V[R+1])>=0),Q>0){var ne,Z;(ne=M[R-1])<M[R]&&(ne=M[R]),ne<M[R+1]&&(ne=M[R+1]),U(S.numlines_l[R-1]+S.numlines_l[R]+S.numlines_l[R+1]-1>0),(Z=0|(Q=20*(3*ne-Q)/(Q*(S.numlines_l[R-1]+S.numlines_l[R]+S.numlines_l[R+1]-1))))>J&&(Z=J),$[R]=Z}else $[R]=0;U(R>0),U(R==S.npart_l-1),U((Q=V[R-1]+V[R])>=0),Q>0?((ne=M[R-1])<M[R]&&(ne=M[R]),U(S.numlines_l[R-1]+S.numlines_l[R]-1>0),(Z=0|(Q=20*(2*ne-Q)/(Q*(S.numlines_l[R-1]+S.numlines_l[R]-1))))>J&&(Z=J),$[R]=Z):$[R]=0,U(R==S.npart_l-1)}var qe=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function ct(S,M,V,$,J,R,Q,ne){var Z=S.internal_flags;if($<2)Xe.fft_long(Z,Q[ne],$,M,V);else if(2==$)for(var fe=O.BLKSIZE-1;fe>=0;--fe){var re=Q[ne+0][fe],ae=Q[ne+1][fe];Q[ne+0][fe]=(re+ae)*Ge.SQRT2*.5,Q[ne+1][fe]=(re-ae)*Ge.SQRT2*.5}for(R[0]=Q[ne+0][0],R[0]*=R[0],fe=O.BLKSIZE/2-1;fe>=0;--fe){var Oe=Q[ne+0][O.BLKSIZE/2-fe],it=Q[ne+0][O.BLKSIZE/2+fe];R[O.BLKSIZE/2-fe]=.5*(Oe*Oe+it*it)}var Se=0;for(fe=11;fe<O.HBLKSIZE;fe++)Se+=R[fe];if(Z.tot_ener[$]=Se,S.analysis){for(fe=0;fe<O.HBLKSIZE;fe++)Z.pinfo.energy[J][$][fe]=Z.pinfo.energy_save[$][fe],Z.pinfo.energy_save[$][fe]=R[fe];Z.pinfo.pe[J][$]=Z.pe[$]}}function gt(S,M,V,$,J,R,Q,ne){if(0==J&&$<2&&Xe.fft_short(S.internal_flags,Q[ne],$,M,V),2==$)for(var fe=O.BLKSIZE_s-1;fe>=0;--fe){var re=Q[ne+0][J][fe],ae=Q[ne+1][J][fe];Q[ne+0][J][fe]=(re+ae)*Ge.SQRT2*.5,Q[ne+1][J][fe]=(re-ae)*Ge.SQRT2*.5}for(R[J][0]=Q[ne+0][J][0],R[J][0]*=R[J][0],fe=O.BLKSIZE_s/2-1;fe>=0;--fe){var Oe=Q[ne+0][J][O.BLKSIZE_s/2-fe],it=Q[ne+0][J][O.BLKSIZE_s/2+fe];R[J][O.BLKSIZE_s/2-fe]=.5*(Oe*Oe+it*it)}}function st(S,M,V,$){var J=S.internal_flags;2==S.athaa_loudapprox&&V<2&&(J.loudness_sq[M][V]=J.loudness_sq_save[V],J.loudness_sq_save[V]=de($,J))}this.L3psycho_anal_ns=function(S,M,V,$,J,R,Q,ne,Z,fe){var Rt,De,Ye,Ce,ft,ln,Ve,Et,dn,Tl,re=S.internal_flags,ae=at([2,O.BLKSIZE]),Oe=at([2,3,O.BLKSIZE_s]),it=Ee(O.CBANDS+1),Se=Ee(O.CBANDS+1),ut=Ee(O.CBANDS+2),ce=He(2),ze=He(2),Lt=at([2,576]),or=He(O.CBANDS+2),Dn=He(O.CBANDS+2);for(We.fill(Dn,0),Rt=re.channels_out,S.mode==se.JOINT_STEREO&&(Rt=4),dn=S.VBR==Fe.vbr_off?0==re.ResvMax?0:re.ResvSize/re.ResvMax*.5:S.VBR==Fe.vbr_rh||S.VBR==Fe.vbr_mtrh||S.VBR==Fe.vbr_mt?.6:1,De=0;De<re.channels_out;De++){var Nt=M[De],Yn=V+576-350-21+192;for(U(10==qe.length),Ce=0;Ce<576;Ce++){var dt,Zn;for(dt=Nt[Yn+Ce+10],Zn=0,ft=0;ft<9;ft+=2)dt+=qe[ft]*(Nt[Yn+Ce+ft]+Nt[Yn+Ce+21-ft]),Zn+=qe[ft+1]*(Nt[Yn+Ce+ft+1]+Nt[Yn+Ce+21-ft-1]);Lt[De][Ce]=dt+Zn}J[$][De].en.assign(re.en[De]),J[$][De].thm.assign(re.thm[De]),Rt>2&&(R[$][De].en.assign(re.en[De+2]),R[$][De].thm.assign(re.thm[De+2]))}for(De=0;De<Rt;De++){var An,Gn=Ee(12),Lr=[0,0,0,0],qt=Ee(12),qi=1,Vo=Ee(O.CBANDS),Sl=Ee(O.CBANDS),wt=[0,0,0,0],Mt=Ee(O.HBLKSIZE),Bo=at([3,O.HBLKSIZE_s]);for(U(re.npart_s<=O.CBANDS),U(re.npart_l<=O.CBANDS),Ce=0;Ce<3;Ce++)Gn[Ce]=re.nsPsy.last_en_subshort[De][Ce+6],U(re.nsPsy.last_en_subshort[De][Ce+4]>0),qt[Ce]=Gn[Ce]/re.nsPsy.last_en_subshort[De][Ce+4],Lr[0]+=Gn[Ce];if(2==De)for(Ce=0;Ce<576;Ce++){var ao,Ml;Lt[0][Ce]=(ao=Lt[0][Ce])+(Ml=Lt[1][Ce]),Lt[1][Ce]=ao-Ml}var Ws=Lt[1&De],Ie=0;for(Ce=0;Ce<9;Ce++){for(var Ho=Ie+64,lt=1;Ie<Ho;Ie++)lt<Math.abs(Ws[Ie])&&(lt=Math.abs(Ws[Ie]));re.nsPsy.last_en_subshort[De][Ce]=Gn[Ce+3]=lt,Lr[1+Ce/3]+=lt,lt>Gn[Ce+3-2]?(U(Gn[Ce+3-2]>0),lt/=Gn[Ce+3-2]):Gn[Ce+3-2]>10*lt?(U(lt>0),lt=Gn[Ce+3-2]/(10*lt)):lt=0,qt[Ce+3]=lt}if(S.analysis){var Yt=qt[0];for(Ce=1;Ce<12;Ce++)Yt<qt[Ce]&&(Yt=qt[Ce]);re.pinfo.ers[$][De]=re.pinfo.ers_save[De],re.pinfo.ers_save[De]=Yt}for(An=3==De?re.nsPsy.attackthre_s:re.nsPsy.attackthre,Ce=0;Ce<12;Ce++)0==wt[Ce/3]&&qt[Ce]>An&&(wt[Ce/3]=Ce%3+1);for(Ce=1;Ce<4;Ce++){var Xs;Lr[Ce-1]>Lr[Ce]?(U(Lr[Ce]>0),Xs=Lr[Ce-1]/Lr[Ce]):(U(Lr[Ce-1]>0),Xs=Lr[Ce]/Lr[Ce-1]),Xs<1.7&&(wt[Ce]=0,1==Ce&&(wt[0]=0))}for(0!=wt[0]&&0!=re.nsPsy.lastAttacks[De]&&(wt[0]=0),(3==re.nsPsy.lastAttacks[De]||wt[0]+wt[1]+wt[2]+wt[3]!=0)&&(qi=0,0!=wt[1]&&0!=wt[0]&&(wt[1]=0),0!=wt[2]&&0!=wt[1]&&(wt[2]=0),0!=wt[3]&&0!=wt[2]&&(wt[3]=0)),De<2?ze[De]=qi:0==qi&&(ze[0]=ze[1]=0),Z[De]=re.tot_ener[De],Me(S,Mt,Bo,ae,1&De,Oe,1&De,$,De,M,V),D(re,Mt,it,Vo,Sl),Pe(re,Vo,Sl,or),Et=0;Et<3;Et++){var Al,Qn;for(Te(S,Bo,Se,ut,De,Et),ue(re,Se,ut,De,Et),Ve=0;Ve<O.SBMAX_s;Ve++)Qn=re.thm[De].s[Ve][Et],Qn*=.8,(wt[Et]>=2||1==wt[Et+1])&&(lt=Qe(re.thm[De].s[Ve][0!=Et?Et-1:2],Qn,.6*dn),Qn=Math.min(Qn,lt)),1==wt[Et]?(lt=Qe(re.thm[De].s[Ve][0!=Et?Et-1:2],Qn,.3*dn),Qn=Math.min(Qn,lt)):(0!=Et&&3==wt[Et-1]||0==Et&&3==re.nsPsy.lastAttacks[De])&&(lt=Qe(re.thm[De].s[Ve][2!=Et?Et+1:0],Qn,.3*dn),Qn=Math.min(Qn,lt)),6*Gn[3*Et+5]<(Al=Gn[3*Et+3]+Gn[3*Et+4]+Gn[3*Et+5])&&(Qn*=.5,6*Gn[3*Et+4]<Al&&(Qn*=.5)),re.thm[De].s[Ve][Et]=Qn}for(re.nsPsy.lastAttacks[De]=wt[2],ln=0,Ye=0;Ye<re.npart_l;Ye++){for(var xn=re.s3ind[Ye][0],Il=it[xn]*y[or[xn]],Ii=re.s3_ll[ln++]*Il;++xn<=re.s3ind[Ye][1];)Ii=w(Ii,re.s3_ll[ln++]*(Il=it[xn]*y[or[xn]]),xn,xn-Ye,re,0);Ii*=.158489319246111,ut[Ye]=re.blocktype_old[1&De]==O.SHORT_TYPE?Ii:Qe(Math.min(Ii,Math.min(2*re.nb_1[De][Ye],16*re.nb_2[De][Ye])),Ii,dn),re.nb_2[De][Ye]=re.nb_1[De][Ye],re.nb_1[De][Ye]=Ii}for(;Ye<=O.CBANDS;++Ye)it[Ye]=0,ut[Ye]=0;be(re,it,ut,De)}for((S.mode==se.STEREO||S.mode==se.JOINT_STEREO)&&S.interChRatio>0&&function G(S,M){var V=S.internal_flags;if(V.channels_out>1){for(var $=0;$<O.SBMAX_l;$++){var J=V.thm[0].l[$];V.thm[0].l[$]+=V.thm[1].l[$]*M,V.thm[1].l[$]+=J*M}for($=0;$<O.SBMAX_s;$++)for(var Q=0;Q<3;Q++)J=V.thm[0].s[$][Q],V.thm[0].s[$][Q]+=V.thm[1].s[$][Q]*M,V.thm[1].s[$][Q]+=J*M}}(S,S.interChRatio),S.mode==se.JOINT_STEREO&&(function L(S){for(var M=0;M<O.SBMAX_l;M++)if(!(S.thm[0].l[M]>1.58*S.thm[1].l[M]||S.thm[1].l[M]>1.58*S.thm[0].l[M])){var V=S.mld_l[M]*S.en[3].l[M],$=Math.max(S.thm[2].l[M],Math.min(S.thm[3].l[M],V));V=S.mld_l[M]*S.en[2].l[M];var J=Math.max(S.thm[3].l[M],Math.min(S.thm[2].l[M],V));S.thm[2].l[M]=$,S.thm[3].l[M]=J}for(M=0;M<O.SBMAX_s;M++)for(var R=0;R<3;R++)S.thm[0].s[M][R]>1.58*S.thm[1].s[M][R]||S.thm[1].s[M][R]>1.58*S.thm[0].s[M][R]||(V=S.mld_s[M]*S.en[3].s[M][R],$=Math.max(S.thm[2].s[M][R],Math.min(S.thm[3].s[M][R],V)),V=S.mld_s[M]*S.en[2].s[M][R],J=Math.max(S.thm[3].s[M][R],Math.min(S.thm[2].s[M][R],V)),S.thm[2].s[M][R]=$,S.thm[3].s[M][R]=J)}(re),Tl=S.msfix,Math.abs(Tl)>0&&function K(S,M,V){var $=M,J=Math.pow(10,V);M*=2,$*=2;for(var R=0;R<O.SBMAX_l;R++)fe=S.ATH.cb_l[S.bm_l[R]]*J,(Q=Math.min(Math.max(S.thm[0].l[R],fe),Math.max(S.thm[1].l[R],fe)))*M<(ne=Math.max(S.thm[2].l[R],fe))+(Z=Math.max(S.thm[3].l[R],fe))&&U((ne*=re=Q*$/(ne+Z))+(Z*=re)>0),S.thm[2].l[R]=Math.min(ne,S.thm[2].l[R]),S.thm[3].l[R]=Math.min(Z,S.thm[3].l[R]);for(J*=O.BLKSIZE_s/O.BLKSIZE,R=0;R<O.SBMAX_s;R++)for(var ae=0;ae<3;ae++){var Q,ne,Z,fe,re;fe=S.ATH.cb_s[S.bm_s[R]]*J,(Q=Math.min(Math.max(S.thm[0].s[R][ae],fe),Math.max(S.thm[1].s[R][ae],fe)))*M<(ne=Math.max(S.thm[2].s[R][ae],fe))+(Z=Math.max(S.thm[3].s[R][ae],fe))&&U((ne*=re=Q*M/(ne+Z))+(Z*=re)>0),S.thm[2].s[R][ae]=Math.min(S.thm[2].s[R][ae],ne),S.thm[3].s[R][ae]=Math.min(S.thm[3].s[R][ae],Z)}}(re,Tl,S.ATHlower*re.ATH.adjust)),function je(S,M,V,$){var J=S.internal_flags;S.short_blocks==$e.short_block_coupled&&(0==M[0]||0==M[1])&&(M[0]=M[1]=0);for(var R=0;R<J.channels_out;R++)$[R]=O.NORM_TYPE,S.short_blocks==$e.short_block_dispensed&&(M[R]=1),S.short_blocks==$e.short_block_forced&&(M[R]=0),0!=M[R]?(U(J.blocktype_old[R]!=O.START_TYPE),J.blocktype_old[R]==O.SHORT_TYPE&&($[R]=O.STOP_TYPE)):($[R]=O.SHORT_TYPE,J.blocktype_old[R]==O.NORM_TYPE&&(J.blocktype_old[R]=O.START_TYPE),J.blocktype_old[R]==O.STOP_TYPE&&(J.blocktype_old[R]=O.SHORT_TYPE)),V[R]=J.blocktype_old[R],J.blocktype_old[R]=$[R]}(S,ze,fe,ce),De=0;De<Rt;De++){var mr,Ys,Zs,jo=0;De>1?(mr=ne,jo=-2,Ys=O.NORM_TYPE,(fe[0]==O.SHORT_TYPE||fe[1]==O.SHORT_TYPE)&&(Ys=O.SHORT_TYPE),Zs=R[$][De-2]):(mr=Q,jo=0,Ys=fe[De],Zs=J[$][De]),mr[jo+De]=Ys==O.SHORT_TYPE?yt(Zs,re.masking_lower):g(Zs,re.masking_lower),S.analysis&&(re.pinfo.pe[$][De]=mr[jo+De])}return 0};var Je=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function pt(S,M,V){if(0==V)for(var $=0;$<S.npart_s;$++)S.nb_s2[M][$]=S.nb_s1[M][$],S.nb_s1[M][$]=0}function Le(S,M){for(var V=0;V<S.npart_l;V++)S.nb_2[M][V]=S.nb_1[M][V],S.nb_1[M][V]=0}function wn(S,M,V,$,J,R){var fe,re,ae,Q=S.internal_flags,ne=new float[O.CBANDS],Z=Ee(O.CBANDS),Oe=new int[O.CBANDS];for(ae=re=0;ae<Q.npart_s;++ae){var it=0,Se=0,ut=Q.numlines_s[ae];for(fe=0;fe<ut;++fe,++re){var ce=M[R][re];it+=ce,Se<ce&&(Se=ce)}V[ae]=it,U(it>=0),ne[ae]=Se,U(ut>0),Z[ae]=it/ut,U(Z[ae]>=0)}for(U(ae==Q.npart_s),U(129==re);ae<O.CBANDS;++ae)ne[ae]=0,Z[ae]=0;for(function zt(S,M,V,$){var J=y.length-1,R=0,Q=V[R]+V[R+1];for(U(Q>=0),Q>0?((ne=M[R])<M[R+1]&&(ne=M[R+1]),U(S.numlines_s[R]+S.numlines_s[R+1]-1>0),(Z=0|(Q=20*(2*ne-Q)/(Q*(S.numlines_s[R]+S.numlines_s[R+1]-1))))>J&&(Z=J),$[R]=Z):$[R]=0,R=1;R<S.npart_s-1;R++)if(Q=V[R-1]+V[R]+V[R+1],U(R+1<S.npart_s),U(Q>=0),Q>0){var ne,Z;(ne=M[R-1])<M[R]&&(ne=M[R]),ne<M[R+1]&&(ne=M[R+1]),U(S.numlines_s[R-1]+S.numlines_s[R]+S.numlines_s[R+1]-1>0),(Z=0|(Q=20*(3*ne-Q)/(Q*(S.numlines_s[R-1]+S.numlines_s[R]+S.numlines_s[R+1]-1))))>J&&(Z=J),$[R]=Z}else $[R]=0;U(R>0),U(R==S.npart_s-1),U((Q=V[R-1]+V[R])>=0),Q>0?((ne=M[R-1])<M[R]&&(ne=M[R]),U(S.numlines_s[R-1]+S.numlines_s[R]-1>0),(Z=0|(Q=20*(2*ne-Q)/(Q*(S.numlines_s[R-1]+S.numlines_s[R]-1))))>J&&(Z=J),$[R]=Z):$[R]=0,U(R==S.npart_s-1)}(Q,ne,Z,Oe),re=ae=0;ae<Q.npart_s;ae++){var De,Ye,Ce,ft,ln,ze=Q.s3ind_s[ae][0],Rt=Q.s3ind_s[ae][1];for(De=Oe[ze],Ye=1,ft=Q.s3_ss[re]*V[ze]*y[Oe[ze]],++re,++ze;ze<=Rt;)De+=Oe[ze],Ye+=1,ft=P(ft,Ce=Q.s3_ss[re]*V[ze]*y[Oe[ze]],ze-ae),++re,++ze;$[ae]=ft*=ln=.5*y[De=(1+2*De)/(2*Ye)],Q.nb_s2[J][ae]=Q.nb_s1[J][ae],Q.nb_s1[J][ae]=ft,Ce=ne[ae],Ce*=Q.minval_s[ae],$[ae]>(Ce*=ln)&&($[ae]=Ce),Q.masking_lower>1&&($[ae]*=Q.masking_lower),$[ae]>V[ae]&&($[ae]=V[ae]),Q.masking_lower<1&&($[ae]*=Q.masking_lower),U($[ae]>=0)}for(;ae<O.CBANDS;++ae)V[ae]=0,$[ae]=0}function Xt(S,M,V,$,J){var Z,R=Ee(O.CBANDS),Q=Ee(O.CBANDS),ne=He(O.CBANDS+2);D(S,M,V,R,Q),Pe(S,R,Q,ne);var fe=0;for(Z=0;Z<S.npart_l;Z++){var re,ae,Oe,Se=S.s3ind[Z][0],ut=S.s3ind[Z][1],ce=0,ze=0;for(ce=ne[Se],ze+=1,ae=S.s3_ll[fe]*V[Se]*y[ne[Se]],++fe,++Se;Se<=ut;)ce+=ne[Se],ze+=1,ae=P(ae,re=S.s3_ll[fe]*V[Se]*y[ne[Se]],Se-Z),++fe,++Se;if(ae*=Oe=.5*y[ce=(1+2*ce)/(2*ze)],S.blocktype_old[1&J]==O.SHORT_TYPE)$[Z]=(Rt=2*S.nb_1[J][Z])>0?Math.min(ae,Rt):Math.min(ae,.3*V[Z]);else{var Rt,De=16*S.nb_2[J][Z],Ye=2*S.nb_1[J][Z];De<=0&&(De=ae),Ye<=0&&(Ye=ae),Rt=S.blocktype_old[1&J]==O.NORM_TYPE?Math.min(Ye,De):Ye,$[Z]=Math.min(ae,Rt)}S.nb_2[J][Z]=S.nb_1[J][Z],S.nb_1[J][Z]=ae,re=R[Z],re*=S.minval_l[Z],$[Z]>(re*=Oe)&&($[Z]=re),S.masking_lower>1&&($[Z]*=S.masking_lower),$[Z]>V[Z]&&($[Z]=V[Z]),S.masking_lower<1&&($[Z]*=S.masking_lower),U($[Z]>=0)}for(;Z<O.CBANDS;++Z)V[Z]=0,$[Z]=0}function cn(S,M,V,$,J,R,Q){for(var fe,re,ne=2*R,Z=R>0?Math.pow(10,J):1,ae=0;ae<Q;++ae){var Oe=S[2][ae],it=S[3][ae],Se=M[0][ae],ut=M[1][ae],ce=M[2][ae],ze=M[3][ae];if(Se<=1.58*ut&&ut<=1.58*Se){var De=V[ae]*Oe;re=Math.max(ce,Math.min(ze,V[ae]*it)),fe=Math.max(ze,Math.min(ce,De))}else re=ce,fe=ze;if(R>0){var Ye,Ce,ft=$[ae]*Z;if(Ye=Math.min(Math.max(Se,ft),Math.max(ut,ft)),(Ce=(ce=Math.max(re,ft))+(ze=Math.max(fe,ft)))>0&&Ye*ne<Ce){var ln=Ye*ne/Ce;ce*=ln,ze*=ln,U(Ce>0)}re=Math.min(ce,re),fe=Math.min(ze,fe)}re>Oe&&(re=Oe),fe>it&&(fe=it),M[2][ae]=re,M[3][ae]=fe}}function _n(S,M){var $;return($=S>=0?27*-S:S*M)<=-72?0:Math.exp($*X)}function zr(S){var M,V,J,R,$=0;for($=0;_n($,S)>1e-20;$-=1);for(J=$,R=0;Math.abs(R-J)>1e-12;)_n($=(R+J)/2,S)>0?R=$:J=$;for(M=J,$=0,$=0;_n($,S)>1e-20;$+=1);for(J=0,R=$;Math.abs(R-J)>1e-12;)_n($=(R+J)/2,S)>0?J=$:R=$;V=R;var Z,Q=0;for(Z=0;Z<=1e3;++Z)Q+=_n($=M+Z*(V-M)/1e3,S);return 1001/(Q*(V-M))}function pr(S){var M,V,$,J;return M=S,V=(M*=M>=0?3:1.5)>=.5&&M<=2.5?8*((J=M-.5)*J-2*J):0,($=15.811389+7.5*(M+=.474)-17.5*Math.sqrt(1+M*M))<=-60?0:(M=Math.exp((V+$)*X),M/=.6609193)}function Tn(S){return S<0&&(S=0),S*=.001,13*Math.atan(.76*S)+3.5*Math.atan(S*S/56.25)}function qr(S,M,V,$,J,R,Q,ne,Z,fe,re,ae){var ut,Oe=Ee(O.CBANDS+1),it=ne/(ae>15?1152:384),Se=He(O.HBLKSIZE);ne/=Z;var ce=0,ze=0;for(ut=0;ut<O.CBANDS;ut++){var De;for(Rt=Tn(ne*ce),Oe[ut]=ne*ce,De=ce;Tn(ne*De)-Rt<.34&&De<=Z/2;De++);for(S[ut]=De-ce,ze=ut+1;ce<De;)U(ce<O.HBLKSIZE),Se[ce++]=ut;if(ce>Z/2){ce=Z/2,++ut;break}}U(ut<O.CBANDS),Oe[ut]=ne*ce;for(var Ye=0;Ye<ae;Ye++){var Ce,ft,Ve,Et;Ve=fe[Ye+1],(Ce=0|Math.floor(.5+re*(fe[Ye]-.5)))<0&&(Ce=0),(ft=0|Math.floor(.5+re*(Ve-.5)))>Z/2&&(ft=Z/2),V[Ye]=(Se[Ce]+Se[ft])/2,M[Ye]=Se[ft],Q[Ye]=(it*Ve-Oe[M[Ye]])/(Oe[M[Ye]+1]-Oe[M[Ye]]),Q[Ye]<0?Q[Ye]=0:Q[Ye]>1&&(Q[Ye]=1),Et=Tn(ne*fe[Ye]*re),Et=Math.min(Et,15.5)/15.5,R[Ye]=Math.pow(10,1.25*(1-Math.cos(Math.PI*Et))-2.5)}ce=0;for(var dn=0;dn<ze;dn++){var Rt,Dn,or=S[dn];Rt=Tn(ne*ce),Dn=Tn(ne*(ce+or-1)),$[dn]=.5*(Rt+Dn),Rt=Tn(ne*(ce-.5)),Dn=Tn(ne*(ce+or-.5)),J[dn]=Dn-Rt,ce+=or}return ze}function Gi(S,M,V,$,J,R){var ne,Q=at([O.CBANDS,O.CBANDS]),Z=0;if(R)for(var fe=0;fe<M;fe++)for(ne=0;ne<M;ne++){var re=pr(V[fe]-V[ne])*$[ne];Q[fe][ne]=re*J[fe]}else for(ne=0;ne<M;ne++){var ae=15+Math.min(21/V[ne],12),Oe=zr(ae);for(fe=0;fe<M;fe++)re=Oe*_n(V[fe]-V[ne],ae)*$[ne],Q[fe][ne]=re*J[fe]}for(fe=0;fe<M;fe++){for(ne=0;ne<M&&!(Q[fe][ne]>0);ne++);for(S[fe][0]=ne,ne=M-1;ne>0&&!(Q[fe][ne]>0);ne--);S[fe][1]=ne,Z+=S[fe][1]-S[fe][0]+1}var it=Ee(Z),Se=0;for(fe=0;fe<M;fe++)for(ne=S[fe][0];ne<=S[fe][1];ne++)it[Se++]=Q[fe][ne];return it}function zi(S){var M=Tn(S);return M=Math.min(M,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*M))-2.5)}function ir(S,M){return S<-.3&&(S=3410),S/=1e3,S=Math.max(.1,S),3.64*Math.pow(S,-.8)-6.8*Math.exp(-.6*Math.pow(S-3.4,2))+6*Math.exp(-.15*Math.pow(S-8.7,2))+.001*(.6+.04*M)*Math.pow(S,4)}this.L3psycho_anal_vbr=function(S,M,V,$,J,R,Q,ne,Z,fe){var re=S.internal_flags,it=Ee(O.HBLKSIZE),Se=at([3,O.HBLKSIZE_s]),ut=at([2,O.BLKSIZE]),ce=at([2,3,O.BLKSIZE_s]),ze=at([4,O.CBANDS]),Rt=at([4,O.CBANDS]),De=at([4,3]),Ce=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],ft=He(2),ln=S.mode==se.JOINT_STEREO?4:re.channels_out;(function kt(S,M,V,$,J,R,Q,ne,Z,fe){for(var re=at([2,576]),ae=S.internal_flags,Oe=ae.channels_out,it=S.mode==se.JOINT_STEREO?4:Oe,Se=0;Se<Oe;Se++){firbuf=M[Se];var ut=V+576-350-21+192;U(10==Je.length);for(var ce=0;ce<576;ce++){var ze,Rt;ze=firbuf[ut+ce+10],Rt=0;for(var De=0;De<9;De+=2)ze+=Je[De]*(firbuf[ut+ce+De]+firbuf[ut+ce+21-De]),Rt+=Je[De+1]*(firbuf[ut+ce+De+1]+firbuf[ut+ce+21-De-1]);re[Se][ce]=ze+Rt}J[$][Se].en.assign(ae.en[Se]),J[$][Se].thm.assign(ae.thm[Se]),it>2&&(R[$][Se].en.assign(ae.en[Se+2]),R[$][Se].thm.assign(ae.thm[Se+2]))}for(Se=0;Se<it;Se++){var Ye=Ee(12),Ce=Ee(12),ft=[0,0,0,0],ln=re[1&Se],Ve=0,Et=3==Se?ae.nsPsy.attackthre_s:ae.nsPsy.attackthre,Lt=1;if(2==Se)for(ce=0,De=576;De>0;++ce,--De){var dn=re[0][ce],or=re[1][ce];re[0][ce]=dn+or,re[1][ce]=dn-or}for(ce=0;ce<3;ce++)Ce[ce]=ae.nsPsy.last_en_subshort[Se][ce+6],U(ae.nsPsy.last_en_subshort[Se][ce+4]>0),Ye[ce]=Ce[ce]/ae.nsPsy.last_en_subshort[Se][ce+4],ft[0]+=Ce[ce];for(ce=0;ce<9;ce++){for(var Dn=Ve+64,Nt=1;Ve<Dn;Ve++)Nt<Math.abs(ln[Ve])&&(Nt=Math.abs(ln[Ve]));ae.nsPsy.last_en_subshort[Se][ce]=Ce[ce+3]=Nt,ft[1+ce/3]+=Nt,Nt>Ce[ce+3-2]?(U(Ce[ce+3-2]>0),Nt/=Ce[ce+3-2]):Ce[ce+3-2]>10*Nt?(U(Nt>0),Nt=Ce[ce+3-2]/(10*Nt)):Nt=0,Ye[ce+3]=Nt}for(ce=0;ce<3;++ce){var Yn=Ce[3*ce+3]+Ce[3*ce+4]+Ce[3*ce+5],dt=1;6*Ce[3*ce+5]<Yn&&(dt*=.5,6*Ce[3*ce+4]<Yn&&(dt*=.5)),ne[Se][ce]=dt}if(S.analysis){var Zn=Ye[0];for(ce=1;ce<12;ce++)Zn<Ye[ce]&&(Zn=Ye[ce]);ae.pinfo.ers[$][Se]=ae.pinfo.ers_save[Se],ae.pinfo.ers_save[Se]=Zn}for(ce=0;ce<12;ce++)0==Z[Se][ce/3]&&Ye[ce]>Et&&(Z[Se][ce/3]=ce%3+1);for(ce=1;ce<4;ce++){var sr=ft[ce-1],vn=ft[ce];Math.max(sr,vn)<4e4&&sr<1.7*vn&&vn<1.7*sr&&(1==ce&&Z[Se][0]<=Z[Se][ce]&&(Z[Se][0]=0),Z[Se][ce]=0)}Z[Se][0]<=ae.nsPsy.lastAttacks[Se]&&(Z[Se][0]=0),(3==ae.nsPsy.lastAttacks[Se]||Z[Se][0]+Z[Se][1]+Z[Se][2]+Z[Se][3]!=0)&&(Lt=0,0!=Z[Se][1]&&0!=Z[Se][0]&&(Z[Se][1]=0),0!=Z[Se][2]&&0!=Z[Se][1]&&(Z[Se][2]=0),0!=Z[Se][3]&&0!=Z[Se][2]&&(Z[Se][3]=0)),Se<2?fe[Se]=Lt:0==Lt&&(fe[0]=fe[1]=0),Q[Se]=ae.tot_ener[Se]}})(S,M,V,$,J,R,Z,De,Ce,ft),function an(S,M){var V=S.internal_flags;S.short_blocks==$e.short_block_coupled&&(0==M[0]||0==M[1])&&(M[0]=M[1]=0);for(var $=0;$<V.channels_out;$++)S.short_blocks==$e.short_block_dispensed&&(M[$]=1),S.short_blocks==$e.short_block_forced&&(M[$]=0)}(S,ft);for(var Ve=0;Ve<ln;Ve++)ct(S,M,V,Ve,$,it,ut,Et=1&Ve),st(S,$,Ve,it),0!=ft[Et]?Xt(re,it,ze[Ve],Rt[Ve],Ve):Le(re,Ve);for(ft[0]+ft[1]==2&&S.mode==se.JOINT_STEREO&&cn(ze,Rt,re.mld_cb_l,re.ATH.cb_l,S.ATHlower*re.ATH.adjust,S.msfix,re.npart_l),Ve=0;Ve<ln;Ve++)0!=ft[Et=1&Ve]&&be(re,ze[Ve],Rt[Ve],Ve);for(var Lt=0;Lt<3;Lt++){for(Ve=0;Ve<ln;++Ve)0!=ft[Et=1&Ve]?pt(re,Ve,Lt):(gt(S,M,V,Ve,Lt,Se,ce,Et),wn(S,Se,ze[Ve],Rt[Ve],Ve,Lt));for(ft[0]+ft[1]==0&&S.mode==se.JOINT_STEREO&&cn(ze,Rt,re.mld_cb_s,re.ATH.cb_s,S.ATHlower*re.ATH.adjust,S.msfix,re.npart_s),Ve=0;Ve<ln;++Ve)0==ft[Et=1&Ve]&&ue(re,ze[Ve],Rt[Ve],Ve,Lt)}for(Ve=0;Ve<ln;Ve++){var Et;if(0==ft[Et=1&Ve])for(var dn=0;dn<O.SBMAX_s;dn++){var or=Ee(3);for(Lt=0;Lt<3;Lt++){var Dn=re.thm[Ve].s[dn][Lt];if(Dn*=.8,Ce[Ve][Lt]>=2||1==Ce[Ve][Lt+1]){var Yn=Qe(re.thm[Ve].s[dn][0!=Lt?Lt-1:2],Dn,.36);Dn=Math.min(Dn,Yn)}else 1==Ce[Ve][Lt]?(Yn=Qe(re.thm[Ve].s[dn][0!=Lt?Lt-1:2],Dn,.18),Dn=Math.min(Dn,Yn)):(0!=Lt&&3==Ce[Ve][Lt-1]||0==Lt&&3==re.nsPsy.lastAttacks[Ve])&&(Yn=Qe(re.thm[Ve].s[dn][2!=Lt?Lt+1:0],Dn,.18),Dn=Math.min(Dn,Yn));or[Lt]=Dn*=De[Ve][Lt]}for(Lt=0;Lt<3;Lt++)re.thm[Ve].s[dn][Lt]=or[Lt]}}for(Ve=0;Ve<ln;Ve++)re.nsPsy.lastAttacks[Ve]=Ce[Ve][2];for(function gn(S,M,V){for(var $=S.internal_flags,J=0;J<$.channels_out;J++){var R=O.NORM_TYPE;0!=M[J]?(U($.blocktype_old[J]!=O.START_TYPE),$.blocktype_old[J]==O.SHORT_TYPE&&(R=O.STOP_TYPE)):(R=O.SHORT_TYPE,$.blocktype_old[J]==O.NORM_TYPE&&($.blocktype_old[J]=O.START_TYPE),$.blocktype_old[J]==O.STOP_TYPE&&($.blocktype_old[J]=O.SHORT_TYPE)),V[J]=$.blocktype_old[J],$.blocktype_old[J]=R}}(S,ft,fe),Ve=0;Ve<ln;Ve++){var dt,Zn,sr,vn;Ve>1?(dt=ne,Zn=-2,sr=O.NORM_TYPE,(fe[0]==O.SHORT_TYPE||fe[1]==O.SHORT_TYPE)&&(sr=O.SHORT_TYPE),vn=R[$][Ve-2]):(dt=Q,Zn=0,sr=fe[Ve],vn=J[$][Ve]),dt[Zn+Ve]=sr==O.SHORT_TYPE?yt(vn,re.masking_lower):g(vn,re.masking_lower),S.analysis&&(re.pinfo.pe[$][Ve]=dt[Zn+Ve])}return 0},this.psymodel_init=function(S){var V,Ce,M=S.internal_flags,$=!0,J=13,R=24,Q=0,ne=0,Z=-8.25,fe=-4.5,re=Ee(O.CBANDS),ae=Ee(O.CBANDS),Oe=Ee(O.CBANDS),it=S.out_samplerate;switch(S.experimentalZ){default:case 0:$=!0;break;case 1:$=!(S.VBR==Fe.vbr_mtrh||S.VBR==Fe.vbr_mt);break;case 2:$=!1;break;case 3:J=8,Q=-1.75,ne=-.0125,Z=-8.25,fe=-2.25}for(M.ms_ener_ratio_old=.25,M.blocktype_old[0]=M.blocktype_old[1]=O.NORM_TYPE,V=0;V<4;++V){for(var ce=0;ce<O.CBANDS;++ce)M.nb_1[V][ce]=1e20,M.nb_2[V][ce]=1e20,M.nb_s1[V][ce]=M.nb_s2[V][ce]=1;for(var Se=0;Se<O.SBMAX_l;Se++)M.en[V].l[Se]=1e20,M.thm[V].l[Se]=1e20;for(ce=0;ce<3;++ce){for(Se=0;Se<O.SBMAX_s;Se++)M.en[V].s[Se][ce]=1e20,M.thm[V].s[Se][ce]=1e20;M.nsPsy.lastAttacks[V]=0}for(ce=0;ce<9;ce++)M.nsPsy.last_en_subshort[V][ce]=10}for(M.loudness_sq_save[0]=M.loudness_sq_save[1]=0,M.npart_l=qr(M.numlines_l,M.bo_l,M.bm_l,re,ae,M.mld_l,M.PSY.bo_l_weight,it,O.BLKSIZE,M.scalefac_band.l,O.BLKSIZE/1152,O.SBMAX_l),U(M.npart_l<O.CBANDS),V=0;V<M.npart_l;V++){var ut=Q;re[V]>=J&&(ut=ne*(re[V]-J)/(R-J)+Q*(R-re[V])/(R-J)),Oe[V]=Math.pow(10,ut/10),M.rnumlines_l[V]=M.numlines_l[V]>0?1/M.numlines_l[V]:0}for(M.s3_ll=Gi(M.s3ind,M.npart_l,re,ae,Oe,$),ce=0,V=0;V<M.npart_l;V++){ze=Ft.MAX_VALUE;for(var Rt=0;Rt<M.numlines_l[V];Rt++,ce++)Ye=this.ATHformula(1e3*(De=it*ce/(1e3*O.BLKSIZE)),S)-20,Ye=Math.pow(10,.1*Ye),ze>(Ye*=M.numlines_l[V])&&(ze=Ye);M.ATH.cb_l[V]=ze,(ze=20*re[V]/10-20)>6&&(ze=100),ze<-15&&(ze=-15),ze-=8,M.minval_l[V]=Math.pow(10,ze/10)*M.numlines_l[V]}for(M.npart_s=qr(M.numlines_s,M.bo_s,M.bm_s,re,ae,M.mld_s,M.PSY.bo_s_weight,it,O.BLKSIZE_s,M.scalefac_band.s,O.BLKSIZE_s/384,O.SBMAX_s),U(M.npart_s<O.CBANDS),ce=0,V=0;V<M.npart_s;V++){var ze;for(ut=Z,re[V]>=J&&(ut=fe*(re[V]-J)/(R-J)+Z*(R-re[V])/(R-J)),Oe[V]=Math.pow(10,ut/10),ze=Ft.MAX_VALUE,Rt=0;Rt<M.numlines_s[V];Rt++,ce++){var Ye;Ye=this.ATHformula(1e3*(De=it*ce/(1e3*O.BLKSIZE_s)),S)-20,Ye=Math.pow(10,.1*Ye),ze>(Ye*=M.numlines_s[V])&&(ze=Ye)}M.ATH.cb_s[V]=ze,ze=7*re[V]/12-7,re[V]>12&&(ze*=1+3.1*Math.log(1+ze)),re[V]<12&&(ze*=1+2.3*Math.log(1-ze)),ze<-15&&(ze=-15),ze-=8,M.minval_s[V]=Math.pow(10,ze/10)*M.numlines_s[V]}M.s3_ss=Gi(M.s3ind_s,M.npart_s,re,ae,Oe,$),function d(){I=Math.pow(10,9/16),Y=Math.pow(10,1.5),A=Math.pow(10,1.5)}(),Xe.init_fft(M),M.decay=Math.exp(-1*he/(.01*it/192)),Ce=3.5,2&S.exp_nspsytune&&(Ce=1),Math.abs(S.msfix)>0&&(Ce=S.msfix),S.msfix=Ce;for(var ft=0;ft<M.npart_l;ft++)M.s3ind[ft][1]>M.npart_l-1&&(M.s3ind[ft][1]=M.npart_l-1);if(M.ATH.decay=Math.pow(10,576*M.mode_gr/it*-1.2),M.ATH.adjust=.01,M.ATH.adjustLimit=1,U(M.bo_l[O.SBMAX_l-1]<=M.npart_l),U(M.bo_s[O.SBMAX_s-1]<=M.npart_s),-1!=S.ATHtype){var Ve=S.out_samplerate/O.BLKSIZE,Et=0;for(De=0,V=0;V<O.BLKSIZE/2;++V)De+=Ve,M.ATH.eql_w[V]=1/Math.pow(10,this.ATHformula(De,S)/10),Et+=M.ATH.eql_w[V];for(Et=1/Et,V=O.BLKSIZE/2;--V>=0;)M.ATH.eql_w[V]*=Et}for(ft=ce=0;ft<M.npart_s;++ft)for(V=0;V<M.numlines_s[ft];++V)++ce;for(U(129==ce),ft=ce=0;ft<M.npart_l;++ft)for(V=0;V<M.numlines_l[ft];++V)++ce;for(U(513==ce),ce=0,V=0;V<M.npart_l;V++)M.mld_cb_l[V]=zi(De=it*(ce+M.numlines_l[V]/2)/(1*O.BLKSIZE)),ce+=M.numlines_l[V];for(;V<O.CBANDS;++V)M.mld_cb_l[V]=1;for(ce=0,V=0;V<M.npart_s;V++){var De;M.mld_cb_s[V]=zi(De=it*(ce+M.numlines_s[V]/2)/(1*O.BLKSIZE_s)),ce+=M.numlines_s[V]}for(;V<O.CBANDS;++V)M.mld_cb_s[V]=1;return 0},this.ATHformula=function(S,M){var V;switch(M.ATHtype){case 0:V=ir(S,9);break;case 1:V=ir(S,-1);break;case 2:default:V=ir(S,0);break;case 3:V=ir(S,1)+6;break;case 4:V=ir(S,M.ATHcurve)}return V}}},824:(Ze,ke,B)=>{var E=B(284),ge=E.System,Fe=E.VbrMode,Ge=E.Util,We=E.Arrays,Ee=E.new_float,U=E.assert,j=B(793),O=B(642),ee=B(764),se=B(348),Xe=B(43),he=B(726);Ze.exports=function mt(){var oe,_e;this.rv=null,this.qupvt=null;var Re,q,xe=new j;function N(H){this.ordinal=H}function p(H){for(var h=0;h<H.sfbmax;h++)if(H.scalefac[h]+H.subblock_gain[H.window[h]]==0)return!1;return!0}function F(H){return Ge.FAST_LOG10(.368+.632*H*H*H)}function pe(H,h,T,I,Y){var A;switch(H){default:case 9:h.over_count>0?(A=T.over_SSD<=h.over_SSD,T.over_SSD==h.over_SSD&&(A=T.bits<h.bits)):A=T.max_noise<0&&10*T.max_noise+T.bits<=10*h.max_noise+h.bits;break;case 0:A=T.over_count<h.over_count||T.over_count==h.over_count&&T.over_noise<h.over_noise||T.over_count==h.over_count&&BitStream.EQ(T.over_noise,h.over_noise)&&T.tot_noise<h.tot_noise;break;case 8:T.max_noise=function W(H,h){for(var T=1e-37,I=0;I<h.psymax;I++)T+=F(H[I]);return Math.max(1e-20,T)}(Y,I);case 1:A=T.max_noise<h.max_noise;break;case 2:A=T.tot_noise<h.tot_noise;break;case 3:A=T.tot_noise<h.tot_noise&&T.max_noise<h.max_noise;break;case 4:A=T.max_noise<=0&&h.max_noise>.2||T.max_noise<=0&&h.max_noise<0&&h.max_noise>T.max_noise-.2&&T.tot_noise<h.tot_noise||T.max_noise<=0&&h.max_noise>0&&h.max_noise>T.max_noise-.2&&T.tot_noise<h.tot_noise+h.over_noise||T.max_noise>0&&h.max_noise>-.05&&h.max_noise>T.max_noise-.1&&T.tot_noise+T.over_noise<h.tot_noise+h.over_noise||T.max_noise>0&&h.max_noise>-.1&&h.max_noise>T.max_noise-.15&&T.tot_noise+T.over_noise+T.over_noise<h.tot_noise+h.over_noise+h.over_noise;break;case 5:A=T.over_noise<h.over_noise||BitStream.EQ(T.over_noise,h.over_noise)&&T.tot_noise<h.tot_noise;break;case 6:A=T.over_noise<h.over_noise||BitStream.EQ(T.over_noise,h.over_noise)&&(T.max_noise<h.max_noise||BitStream.EQ(T.max_noise,h.max_noise)&&T.tot_noise<=h.tot_noise);break;case 7:A=T.over_count<h.over_count||T.over_noise<h.over_noise}return 0==h.over_count&&(A=A&&T.bits<h.bits),A}function Me(H,h,T,I,Y){var A=H.internal_flags;!function X(H,h,T,I,Y){var y,A=H.internal_flags;y=0==h.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var d=0,f=0;f<h.sfbmax;f++)d<T[f]&&(d=T[f]);var c=A.noise_shaping_amp;switch(3==c&&(c=Y?2:1),c){case 2:break;case 1:d>1?d=Math.pow(d,.5):d*=.95;break;default:d>1?d=1:d*=.95}var b=0;for(f=0;f<h.sfbmax;f++){var v,w=h.width[f];if(b+=w,!(T[f]<d)){if(2&A.substep_shaping&&(A.pseudohalf[f]=0==A.pseudohalf[f]?1:0,0==A.pseudohalf[f]&&2==A.noise_shaping_amp))return;for(h.scalefac[f]++,v=-w;v<0;v++)I[b+v]*=y,I[b+v]>h.xrpow_max&&(h.xrpow_max=I[b+v]);if(2==A.noise_shaping_amp)return}}}(H,h,T,I,Y);var y=p(h);return!(y||(y=2==A.mode_gr?q.scale_bitcount(h):q.scale_bitcount_lsf(A,h))&&(A.noise_shaping>1&&(We.fill(A.pseudohalf,0),0==h.scalefac_scale?(function z(H,h){for(var I=0,Y=0;Y<H.sfbmax;Y++){var A=H.width[Y],y=H.scalefac[Y];if(0!=H.preflag&&(y+=Re.pretab[Y]),I+=A,1&y){y++;for(var d=-A;d<0;d++)h[I+d]*=1.2968395546510096,h[I+d]>H.xrpow_max&&(H.xrpow_max=h[I+d])}H.scalefac[Y]=y>>1}H.preflag=0,H.scalefac_scale=1}(h,I),y=!1):h.block_type==se.SHORT_TYPE&&A.subblock_gain>0&&(y=function de(H,h,T){var I,Y=h.scalefac;for(I=0;I<h.sfb_lmax;I++)if(Y[I]>=16)return!0;for(var A=0;A<3;A++){var y=0,d=0;for(I=h.sfb_lmax+A;I<h.sfbdivide;I+=3)y<Y[I]&&(y=Y[I]);for(;I<h.sfbmax;I+=3)d<Y[I]&&(d=Y[I]);if(!(y<16&&d<8)){if(h.subblock_gain[A]>=7)return!0;h.subblock_gain[A]++;var f=H.scalefac_band.l[h.sfb_lmax];for(I=h.sfb_lmax+A;I<h.sfbmax;I+=3){var b=h.width[I],w=Y[I];if(U(w>=0),(w-=4>>h.scalefac_scale)>=0)Y[I]=w,f+=3*b;else{Y[I]=0,c=Re.IPOW20(210+(w<<h.scalefac_scale+1)),f+=b*(A+1);for(var P=-b;P<0;P++)T[f+P]*=c,T[f+P]>h.xrpow_max&&(h.xrpow_max=T[f+P]);f+=b*(3-A-1)}}var c=Re.IPOW20(202);for(f+=h.width[I]*(A+1),P=-h.width[I];P<0;P++)T[f+P]*=c,T[f+P]>h.xrpow_max&&(h.xrpow_max=T[f+P])}}return!1}(A,h,I)||p(h))),y||(y=2==A.mode_gr?q.scale_bitcount(h):q.scale_bitcount_lsf(A,h)),y))}this.setModules=function(H,h,T,I){oe=H,_e=h,this.rv=h,Re=T,this.qupvt=T,xe.setModules(Re,q=I)},this.ms_convert=function(H,h){for(var T=0;T<576;++T){var I=H.tt[h][0].xr[T],Y=H.tt[h][1].xr[T];H.tt[h][0].xr[T]=(I+Y)*(.5*Ge.SQRT2),H.tt[h][1].xr[T]=.5*Ge.SQRT2*(I-Y)}},this.init_xrpow=function(H,h,T){var I=0,Y=0|h.max_nonzero_coeff;if(U(null!=T),h.xrpow_max=0,U(0<=Y&&Y<=575),We.fill(T,Y,576,0),I=function ve(H,h,T,I){I=0;for(var Y=0;Y<=T;++Y){var A=Math.abs(H.xr[Y]);I+=A,h[Y]=Math.sqrt(A*Math.sqrt(A)),h[Y]>H.xrpow_max&&(H.xrpow_max=h[Y])}return I}(h,T,Y,I),I>1e-20){var A=0;2&H.substep_shaping&&(A=1);for(var y=0;y<h.psymax;y++)H.pseudohalf[y]=A;return!0}return We.fill(h.l3_enc,0,576,0),!1},this.init_outer_loop=function(H,h){h.part2_3_length=0,h.big_values=0,h.count1=0,h.global_gain=210,h.scalefac_compress=0,h.table_select[0]=0,h.table_select[1]=0,h.table_select[2]=0,h.subblock_gain[0]=0,h.subblock_gain[1]=0,h.subblock_gain[2]=0,h.subblock_gain[3]=0,h.region0_count=0,h.region1_count=0,h.preflag=0,h.scalefac_scale=0,h.count1table_select=0,h.part2_length=0,h.sfb_lmax=se.SBPSY_l,h.sfb_smin=se.SBPSY_s,h.psy_lmax=H.sfb21_extra?se.SBMAX_l:se.SBPSY_l,h.psymax=h.psy_lmax,h.sfbmax=h.sfb_lmax,h.sfbdivide=11;for(var T=0;T<se.SBMAX_l;T++)h.width[T]=H.scalefac_band.l[T+1]-H.scalefac_band.l[T],h.window[T]=3;if(h.block_type==se.SHORT_TYPE){var I=Ee(576);h.sfb_smin=0,h.sfb_lmax=0,0!=h.mixed_block_flag&&(h.sfb_smin=3,h.sfb_lmax=2*H.mode_gr+4),h.psymax=h.sfb_lmax+3*((H.sfb21_extra?se.SBMAX_s:se.SBPSY_s)-h.sfb_smin),h.sfbmax=h.sfb_lmax+3*(se.SBPSY_s-h.sfb_smin),h.sfbdivide=h.sfbmax-18,h.psy_lmax=h.sfb_lmax;var Y=H.scalefac_band.l[h.sfb_lmax];for(ge.arraycopy(h.xr,0,I,0,576),T=h.sfb_smin;T<se.SBMAX_s;T++)for(var A=H.scalefac_band.s[T],y=H.scalefac_band.s[T+1],d=0;d<3;d++)for(var f=A;f<y;f++)h.xr[Y++]=I[3*f+d];var c=h.sfb_lmax;for(T=h.sfb_smin;T<se.SBMAX_s;T++)h.width[c]=h.width[c+1]=h.width[c+2]=H.scalefac_band.s[T+1]-H.scalefac_band.s[T],h.window[c]=0,h.window[c+1]=1,h.window[c+2]=2,c+=3}h.count1bits=0,h.sfb_partition_table=Re.nr_of_sfb_block[0][0],h.slen[0]=0,h.slen[1]=0,h.slen[2]=0,h.slen[3]=0,h.max_nonzero_coeff=575,We.fill(h.scalefac,0),function le(H,h){var T=H.ATH,I=h.xr;if(h.block_type!=se.SHORT_TYPE)for(var Y=!1,A=se.PSFB21-1;A>=0&&!Y;A--){var y=H.scalefac_band.psfb21[A],d=H.scalefac_band.psfb21[A+1],f=Re.athAdjust(T.adjust,T.psfb21[A],T.floor);H.nsPsy.longfact[21]>1e-12&&(f*=H.nsPsy.longfact[21]);for(var c=d-1;c>=y;c--){if(!(Math.abs(I[c])<f)){Y=!0;break}I[c]=0}}else for(var b=0;b<3;b++)for(Y=!1,A=se.PSFB12-1;A>=0&&!Y;A--){d=(y=3*H.scalefac_band.s[12]+(H.scalefac_band.s[13]-H.scalefac_band.s[12])*b+(H.scalefac_band.psfb12[A]-H.scalefac_band.psfb12[0]))+(H.scalefac_band.psfb12[A+1]-H.scalefac_band.psfb12[A]);var w=Re.athAdjust(T.adjust,T.psfb12[A],T.floor);for(H.nsPsy.shortfact[12]>1e-12&&(w*=H.nsPsy.shortfact[12]),c=d-1;c>=y;c--){if(!(Math.abs(I[c])<w)){Y=!0;break}I[c]=0}}}(H,h)},N.BINSEARCH_NONE=new N(0),N.BINSEARCH_UP=new N(1),N.BINSEARCH_DOWN=new N(2),this.trancate_smallspectrums=function(H,h,T,I){var Y=Ee(he.SFBMAX);if((4&H.substep_shaping||h.block_type!=se.SHORT_TYPE)&&!(128&H.substep_shaping)){Re.calc_noise(h,T,Y,new O,null);for(var y=0;y<576;y++){var A=0;0!=h.l3_enc[y]&&(A=Math.abs(h.xr[y])),I[y]=A}y=0;var d=8;h.block_type==se.SHORT_TYPE&&(d=6);do{var f,c,b,w,v=h.width[d];if(y+=v,!(Y[d]>=1||(We.sort(I,y-v,v),BitStream.EQ(I[y-1],0)))){f=(1-Y[d])*T[d],c=0,w=0;do{var P;for(b=1;w+b<v&&!BitStream.NEQ(I[w+y-v],I[w+y+b-v]);b++);if(f<(P=I[w+y-v]*I[w+y-v]*b)){0!=w&&(c=I[w+y-v-1]);break}f-=P,w+=b}while(w<v);if(!BitStream.EQ(c,0))do{Math.abs(h.xr[y-v])<=c&&(h.l3_enc[y-v]=0)}while(--v>0)}}while(++d<h.psymax);h.part2_3_length=q.noquant_count_bits(H,h,null)}},this.outer_loop=function(H,h,T,I,Y,A){var y=H.internal_flags,d=new Xe,f=Ee(576),c=Ee(he.SFBMAX),b=new O,v=new ee,P=9999999,G=!1,L=!1,K=0;if(function C(H,h,T,I,Y){var A,y=H.CurrentStep[I],d=!1,f=H.OldValue[I],c=N.BINSEARCH_NONE;for(h.global_gain=f,T-=h.part2_length,U(0!=y);;){var b;if(A=q.count_bits(H,Y,h,null),1==y||A==T)break;A>T?(c==N.BINSEARCH_DOWN&&(d=!0),d&&(y/=2),c=N.BINSEARCH_UP,b=y):(c==N.BINSEARCH_UP&&(d=!0),d&&(y/=2),c=N.BINSEARCH_DOWN,b=-y),h.global_gain+=b,h.global_gain<0&&(h.global_gain=0,d=!0),h.global_gain>255&&(h.global_gain=255,d=!0)}for(U(h.global_gain>=0),U(h.global_gain<256);A>T&&h.global_gain<255;)h.global_gain++,A=q.count_bits(H,Y,h,null);H.CurrentStep[I]=f-h.global_gain>=4?4:2,H.OldValue[I]=h.global_gain,h.part2_3_length=A}(y,h,A,Y,I),0==y.noise_shaping)return 100;Re.calc_noise(h,T,c,b,v),b.bits=h.part2_3_length,d.assign(h);var ue=0;for(ge.arraycopy(I,0,f,0,576);!G;){do{var Te,be=new O,je=255;if(Te=2&y.substep_shaping?20:3,y.sfb21_extra&&(c[d.sfbmax]>1||d.block_type==se.SHORT_TYPE&&(c[d.sfbmax+1]>1||c[d.sfbmax+2]>1))||!Me(H,d,c,I,L))break;0!=d.scalefac_scale&&(je=254);var Qe=A-d.part2_length;if(Qe<=0)break;for(;(d.part2_3_length=q.count_bits(y,I,d,v))>Qe&&d.global_gain<=je;)d.global_gain++;if(d.global_gain>je)break;if(0==b.over_count){for(;(d.part2_3_length=q.count_bits(y,I,d,v))>P&&d.global_gain<=je;)d.global_gain++;if(d.global_gain>je)break}if(Re.calc_noise(d,T,c,be,v),be.bits=d.part2_3_length,0!=(pe(h.block_type!=se.SHORT_TYPE?H.quant_comp:H.quant_comp_short,b,be,d,c)?1:0))P=h.part2_3_length,b=be,h.assign(d),ue=0,ge.arraycopy(I,0,f,0,576);else if(0==y.full_outer_loop&&(++ue>Te&&0==b.over_count||3==y.noise_shaping_amp&&L&&ue>30||3==y.noise_shaping_amp&&L&&d.global_gain-K>15))break}while(d.global_gain+d.scalefac_scale<255);3==y.noise_shaping_amp?L?G=!0:(d.assign(h),ge.arraycopy(f,0,I,0,576),ue=0,K=d.global_gain,L=!0):G=!0}return U(h.global_gain+h.scalefac_scale<=255),H.VBR==Fe.vbr_rh||H.VBR==Fe.vbr_mtrh?ge.arraycopy(f,0,I,0,576):1&y.substep_shaping&&trancate_smallspectrums(y,h,T,I),b.over_count},this.iteration_finish_one=function(H,h,T){var I=H.l3_side,Y=I.tt[h][T];q.best_scalefac_store(H,h,T,I),1==H.use_best_huffman&&q.best_huffman_divide(H,Y),_e.ResvAdjust(H,Y)},this.VBR_encode_granule=function(H,h,T,I,Y,A,y){var P,d=H.internal_flags,f=new Xe,c=Ee(576),b=y,w=y+1,v=(y+A)/2,L=0,K=d.sfb21_extra;U(b<=LameInternalFlags.MAX_BITS_PER_CHANNEL),We.fill(f.l3_enc,0);do{U(v>=A),U(v<=y),U(A<=y),d.sfb21_extra=!(v>b-42)&&K,outer_loop(H,h,T,I,Y,v)<=0?(L=1,w=h.part2_3_length,f.assign(h),ge.arraycopy(I,0,c,0,576),P=(y=w-32)-A,v=(y+A)/2):(P=y-(A=v+32),v=(y+A)/2,0!=L&&(L=2,h.assign(f),ge.arraycopy(c,0,I,0,576)))}while(P>12);d.sfb21_extra=K,2==L&&ge.arraycopy(f.l3_enc,0,h.l3_enc,0,576),U(h.part2_3_length<=b)},this.get_framebits=function(H,h){var T=H.internal_flags;T.bitrate_index=T.VBR_min_bitrate;var I=oe.getframebits(H);T.bitrate_index=1,I=oe.getframebits(H);for(var Y=1;Y<=T.VBR_max_bitrate;Y++){T.bitrate_index=Y;var A=new MeanBits(I);h[Y]=_e.ResvFrameBegin(H,A),I=A.bits}},this.VBR_old_prepare=function(H,h,T,I,Y,A,y,d,f){var b,c=H.internal_flags,w=0,v=1,P=0;c.bitrate_index=c.VBR_max_bitrate;var G=_e.ResvFrameBegin(H,new MeanBits(0))/c.mode_gr;get_framebits(H,A);for(var L=0;L<c.mode_gr;L++){var K=Re.on_pe(H,h,d[L],G,L,0);c.mode_ext==se.MPG_MD_MS_LR&&(ms_convert(c.l3_side,L),Re.reduce_side(d[L],T[L],G,K));for(var ue=0;ue<c.channels_out;++ue){var be=c.l3_side.tt[L][ue];be.block_type!=se.SHORT_TYPE?(w=1.28/(1+Math.exp(3.5-h[L][ue]/300))-.05,b=c.PSY.mask_adjust-w):(w=2.56/(1+Math.exp(3.5-h[L][ue]/300))-.14,b=c.PSY.mask_adjust_short-w),c.masking_lower=Math.pow(10,.1*b),init_outer_loop(c,be),f[L][ue]=Re.calc_xmin(H,I[L][ue],be,Y[L][ue]),0!=f[L][ue]&&(v=0),y[L][ue]=126,P+=d[L][ue]}}for(L=0;L<c.mode_gr;L++)for(ue=0;ue<c.channels_out;ue++)P>A[c.VBR_max_bitrate]&&(d[L][ue]*=A[c.VBR_max_bitrate],d[L][ue]/=P),y[L][ue]>d[L][ue]&&(y[L][ue]=d[L][ue]);return v},this.bitpressure_strategy=function(H,h,T,I){for(var Y=0;Y<H.mode_gr;Y++)for(var A=0;A<H.channels_out;A++){for(var y=H.l3_side.tt[Y][A],d=h[Y][A],f=0,c=0;c<y.psy_lmax;c++)d[f++]*=1+.029*c*c/se.SBMAX_l/se.SBMAX_l;if(y.block_type==se.SHORT_TYPE)for(c=y.sfb_smin;c<se.SBMAX_s;c++)d[f++]*=1+.029*c*c/se.SBMAX_s/se.SBMAX_s,d[f++]*=1+.029*c*c/se.SBMAX_s/se.SBMAX_s,d[f++]*=1+.029*c*c/se.SBMAX_s/se.SBMAX_s;I[Y][A]=0|Math.max(T[Y][A],.9*I[Y][A])}},this.VBR_new_prepare=function(H,h,T,I,Y,A){var b,y=H.internal_flags,d=1,f=0,c=0;if(H.free_format){y.bitrate_index=0;var w=new MeanBits(f);b=_e.ResvFrameBegin(H,w),f=w.bits,Y[0]=b}else y.bitrate_index=y.VBR_max_bitrate,w=new MeanBits(f),_e.ResvFrameBegin(H,w),f=w.bits,get_framebits(H,Y),b=Y[y.VBR_max_bitrate];for(var v=0;v<y.mode_gr;v++){Re.on_pe(H,h,A[v],f,v,0),y.mode_ext==se.MPG_MD_MS_LR&&ms_convert(y.l3_side,v);for(var P=0;P<y.channels_out;++P){var G=y.l3_side.tt[v][P];y.masking_lower=Math.pow(10,.1*y.PSY.mask_adjust),init_outer_loop(y,G),0!=Re.calc_xmin(H,T[v][P],G,I[v][P])&&(d=0),c+=A[v][P]}}for(v=0;v<y.mode_gr;v++)for(P=0;P<y.channels_out;P++)c>b&&(A[v][P]*=b,A[v][P]/=c);return d},this.calc_target_bits=function(H,h,T,I,Y,A){var f,c,b,w,y=H.internal_flags,d=y.l3_side,v=0;y.bitrate_index=y.VBR_max_bitrate;var P=new MeanBits(v);for(A[0]=_e.ResvFrameBegin(H,P),v=P.bits,y.bitrate_index=1,v=oe.getframebits(H)-8*y.sideinfo_len,Y[0]=v/(y.mode_gr*y.channels_out),v=H.VBR_mean_bitrate_kbps*H.framesize*1e3,1&y.substep_shaping&&(v*=1.09),v/=H.out_samplerate,v-=8*y.sideinfo_len,v/=y.mode_gr*y.channels_out,(f=.93+.07*(11-H.compression_ratio)/5.5)<.9&&(f=.9),f>1&&(f=1),c=0;c<y.mode_gr;c++){var G=0;for(b=0;b<y.channels_out;b++){if(I[c][b]=int(f*v),h[c][b]>700){var L=int((h[c][b]-700)/1.4),K=d.tt[c][b];I[c][b]=int(f*v),K.block_type==se.SHORT_TYPE&&L<v/2&&(L=v/2),L>3*v/2?L=3*v/2:L<0&&(L=0),I[c][b]+=L}I[c][b]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(I[c][b]=LameInternalFlags.MAX_BITS_PER_CHANNEL),G+=I[c][b]}if(G>LameInternalFlags.MAX_BITS_PER_GRANULE)for(b=0;b<y.channels_out;++b)I[c][b]*=LameInternalFlags.MAX_BITS_PER_GRANULE,I[c][b]/=G}if(y.mode_ext==se.MPG_MD_MS_LR)for(c=0;c<y.mode_gr;c++)Re.reduce_side(I[c],T[c],v*y.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(w=0,c=0;c<y.mode_gr;c++)for(b=0;b<y.channels_out;b++)I[c][b]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(I[c][b]=LameInternalFlags.MAX_BITS_PER_CHANNEL),w+=I[c][b];if(w>A[0])for(c=0;c<y.mode_gr;c++)for(b=0;b<y.channels_out;b++)I[c][b]*=A[0],I[c][b]/=w}}},588:(Ze,ke,B)=>{var E=B(554),ge=B(284),Ft=ge.VbrMode,$e=ge.Float,We=ge.Util,at=ge.new_float,Qt=ge.new_int,j=ge.assert,O=B(348),ee=B(274),se=B(87);function Xe(){var he=B(227),mt=null,oe=null,_e=null;function Re(T){return j(0<=T+Xe.Q_MAX2&&T<Xe.Q_MAX),W[T+Xe.Q_MAX2]}this.setModules=function(T,I,Y){mt=T,oe=I,_e=Y},this.IPOW20=function(T){return j(0<=T&&T<Xe.Q_MAX),pe[T]};var xe=2220446049250313e-31,ve=Xe.IXMAX_VAL+2,le=Xe.Q_MAX,N=Xe.Q_MAX2;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var F=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=F,this.sfBandIndex=[new E([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new E([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new E([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new E([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new E([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new E([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new E([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new E([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new E([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var W=at(le+N+1),pe=at(le),X=at(ve),z=at(ve);function de(T,I){var Y=_e.ATHformula(I,T);return Y-=100,Math.pow(10,Y/10+T.ATHlower)}function H(T){this.s=T}this.adj43=z,this.iteration_init=function(T){var A,I=T.internal_flags,Y=I.l3_side;if(0==I.iteration_init_init){for(I.iteration_init_init=1,Y.main_data_begin=0,function Me(T){for(var I=T.internal_flags.ATH.l,Y=T.internal_flags.ATH.psfb21,A=T.internal_flags.ATH.s,y=T.internal_flags.ATH.psfb12,d=T.internal_flags,f=T.out_samplerate,c=0;c<O.SBMAX_l;c++){var b=d.scalefac_band.l[c],w=d.scalefac_band.l[c+1];I[c]=$e.MAX_VALUE;for(var v=b;v<w;v++){var G=de(T,v*f/1152);I[c]=Math.min(I[c],G)}}for(c=0;c<O.PSFB21;c++)for(b=d.scalefac_band.psfb21[c],w=d.scalefac_band.psfb21[c+1],Y[c]=$e.MAX_VALUE,v=b;v<w;v++)G=de(T,v*f/1152),Y[c]=Math.min(Y[c],G);for(c=0;c<O.SBMAX_s;c++){for(b=d.scalefac_band.s[c],w=d.scalefac_band.s[c+1],A[c]=$e.MAX_VALUE,v=b;v<w;v++)G=de(T,v*f/384),A[c]=Math.min(A[c],G);A[c]*=d.scalefac_band.s[c+1]-d.scalefac_band.s[c]}for(c=0;c<O.PSFB12;c++){for(b=d.scalefac_band.psfb12[c],w=d.scalefac_band.psfb12[c+1],y[c]=$e.MAX_VALUE,v=b;v<w;v++)G=de(T,v*f/384),y[c]=Math.min(y[c],G);y[c]*=d.scalefac_band.s[13]-d.scalefac_band.s[12]}if(T.noATH){for(c=0;c<O.SBMAX_l;c++)I[c]=1e-20;for(c=0;c<O.PSFB21;c++)Y[c]=1e-20;for(c=0;c<O.SBMAX_s;c++)A[c]=1e-20;for(c=0;c<O.PSFB12;c++)y[c]=1e-20}d.ATH.floor=10*Math.log10(de(T,-1))}(T),X[0]=0,A=1;A<ve;A++)X[A]=Math.pow(A,4/3);for(A=0;A<ve-1;A++)z[A]=A+1-Math.pow(.5*(X[A]+X[A+1]),.75);for(z[A]=.5,A=0;A<le;A++)pe[A]=Math.pow(2,-.1875*(A-210));for(A=0;A<=le+N;A++)W[A]=Math.pow(2,.25*(A-210-N));var y,d,f,c;for(mt.huffman_init(I),(A=T.exp_nspsytune>>2&63)>=32&&(A-=64),y=Math.pow(10,A/4/10),(A=T.exp_nspsytune>>8&63)>=32&&(A-=64),d=Math.pow(10,A/4/10),(A=T.exp_nspsytune>>14&63)>=32&&(A-=64),f=Math.pow(10,A/4/10),(A=T.exp_nspsytune>>20&63)>=32&&(A-=64),c=f*Math.pow(10,A/4/10),A=0;A<O.SBMAX_l;A++)I.nsPsy.longfact[A]=A<=6?y:A<=13?d:A<=20?f:c;for(A=0;A<O.SBMAX_s;A++)I.nsPsy.shortfact[A]=A<=5?y:A<=10?d:A<=11?f:c}},this.on_pe=function(T,I,Y,A,y,d){var b,v,f=T.internal_flags,c=0,w=Qt(2),P=new ee(c),G=oe.ResvMaxBits(T,A,P,d),L=(c=P.bits)+G;for(L>se.MAX_BITS_PER_GRANULE&&(L=se.MAX_BITS_PER_GRANULE),b=0,v=0;v<f.channels_out;++v)Y[v]=Math.min(se.MAX_BITS_PER_CHANNEL,c/f.channels_out),w[v]=0|Y[v]*I[y][v]/700-Y[v],w[v]>3*A/4&&(w[v]=3*A/4),w[v]<0&&(w[v]=0),w[v]+Y[v]>se.MAX_BITS_PER_CHANNEL&&(w[v]=Math.max(0,se.MAX_BITS_PER_CHANNEL-Y[v])),b+=w[v];if(b>G)for(v=0;v<f.channels_out;++v)w[v]=G*w[v]/b;for(v=0;v<f.channels_out;++v)Y[v]+=w[v],G-=w[v];for(b=0,v=0;v<f.channels_out;++v)b+=Y[v];if(b>se.MAX_BITS_PER_GRANULE){var K=0;for(v=0;v<f.channels_out;++v)Y[v]*=se.MAX_BITS_PER_GRANULE,Y[v]/=b,K+=Y[v];j(K<=se.MAX_BITS_PER_GRANULE)}return L},this.reduce_side=function(T,I,Y,A){j(A<=se.MAX_BITS_PER_GRANULE),j(T[0]+T[1]<=se.MAX_BITS_PER_GRANULE);var y=.33*(.5-I)/.5;y<0&&(y=0),y>.5&&(y=.5);var d=0|.5*y*(T[0]+T[1]);d>se.MAX_BITS_PER_CHANNEL-T[0]&&(d=se.MAX_BITS_PER_CHANNEL-T[0]),d<0&&(d=0),T[1]>=125&&(T[1]-d>125?(T[0]<Y&&(T[0]+=d),T[1]-=d):(T[0]+=T[1]-125,T[1]=125)),(d=T[0]+T[1])>A&&(T[0]=A*T[0]/d,T[1]=A*T[1]/d),j(T[0]<=se.MAX_BITS_PER_CHANNEL),j(T[1]<=se.MAX_BITS_PER_CHANNEL),j(T[0]+T[1]<=se.MAX_BITS_PER_GRANULE)},this.athAdjust=function(T,I,Y){var A=90.30873362,d=We.FAST_LOG10_X(I,10),f=T*T,c=0;return d-=Y,f>1e-20&&(c=1+We.FAST_LOG10_X(f,10/A)),c<0&&(c=0),d*=c,d+=Y+A-94.82444863,Math.pow(10,.1*d)},this.calc_xmin=function(T,I,Y,A){var f,y=0,d=T.internal_flags,c=0,b=0,w=d.ATH,v=Y.xr,P=T.VBR==Ft.vbr_mtrh?1:0,G=d.masking_lower;for((T.VBR==Ft.vbr_mtrh||T.VBR==Ft.vbr_mt)&&(G=1),f=0;f<Y.psy_lmax;f++){ue=(K=T.VBR==Ft.vbr_rh||T.VBR==Ft.vbr_mtrh?athAdjust(w.adjust,w.l[f],w.floor):w.adjust*w.l[f])/(Te=Y.width[f]),be=xe,je=Te>>1,L=0;do{L+=Qe=v[c]*v[c],be+=Qe<ue?Qe:ue,L+=rt=v[++c]*v[c],be+=rt<ue?rt:ue,c++}while(--je>0);L>K&&b++,f==O.SBPSY_l&&be<(yt=K*d.nsPsy.longfact[f])&&(be=yt),0!=P&&(K=be),T.ATHonly||(un=I.en.l[f])>0&&(yt=L*I.thm.l[f]*G/un,0!=P&&(yt*=d.nsPsy.longfact[f]),K<yt&&(K=yt)),A[y++]=0!=P?K:K*d.nsPsy.longfact[f]}var g=575;if(Y.block_type!=O.SHORT_TYPE)for(var D=576;0!=D--&&he.EQ(v[D],0);)g=D;Y.max_nonzero_coeff=g;for(var Pe=Y.sfb_smin;f<Y.psymax;Pe++,f+=3){var Te,qe,ct;for(ct=T.VBR==Ft.vbr_rh||T.VBR==Ft.vbr_mtrh?athAdjust(w.adjust,w.s[Pe],w.floor):w.adjust*w.s[Pe],Te=Y.width[f],qe=0;qe<3;qe++){var K,ue,be,un,yt,L=0,je=Te>>1;ue=ct/Te,be=xe;do{var Qe,rt;L+=Qe=v[c]*v[c],be+=Qe<ue?Qe:ue,L+=rt=v[++c]*v[c],be+=rt<ue?rt:ue,c++}while(--je>0);L>ct&&b++,Pe==O.SBPSY_s&&be<(yt=ct*d.nsPsy.shortfact[Pe])&&(be=yt),K=0!=P?be:ct,T.ATHonly||T.ATHshort||(un=I.en.s[Pe][qe])>0&&(yt=L*I.thm.s[Pe][qe]*G/un,0!=P&&(yt*=d.nsPsy.shortfact[Pe]),K<yt&&(K=yt)),A[y++]=0!=P?K:K*d.nsPsy.shortfact[Pe]}T.useTemporal&&(A[y-3]>A[y-3+1]&&(A[y-3+1]+=(A[y-3]-A[y-3+1])*d.decay),A[y-3+1]>A[y-3+2]&&(A[y-3+2]+=(A[y-3+1]-A[y-3+2])*d.decay))}return b},this.calc_noise_core=function(T,I,Y,A){var y=0,d=I.s,f=T.l3_enc;if(d>T.count1)for(;0!=Y--;)c=T.xr[d],d++,y+=c*c,c=T.xr[d],d++,y+=c*c;else if(d>T.big_values){var b=at(2);for(b[0]=0,b[1]=A;0!=Y--;)c=Math.abs(T.xr[d])-b[f[d]],d++,y+=c*c,c=Math.abs(T.xr[d])-b[f[d]],d++,y+=c*c}else for(;0!=Y--;){var c;c=Math.abs(T.xr[d])-X[f[d]]*A,d++,y+=c*c,c=Math.abs(T.xr[d])-X[f[d]]*A,d++,y+=c*c}return I.s=d,y},this.calc_noise=function(T,I,Y,A,y){var c,b,d=0,f=0,w=0,v=0,P=0,G=-20,L=0,K=T.scalefac,ue=0;for(A.over_SSD=0,c=0;c<T.psymax;c++){var yt,be=T.global_gain-(K[ue++]+(0!=T.preflag?F[c]:0)<<T.scalefac_scale+1)-8*T.subblock_gain[T.window[c]],Te=0;if(null!=y&&y.step[c]==be)L+=T.width[c],Y[d++]=(Te=y.noise[c])/I[f++],Te=y.noise_log[c];else{var Qe,je=Re(be);b=T.width[c]>>1,L+T.width[c]>T.max_nonzero_coeff&&(b=(Qe=T.max_nonzero_coeff-L+1)>0?Qe>>1:0);var rt=new H(L);Te=this.calc_noise_core(T,rt,b,je),L=rt.s,null!=y&&(y.step[c]=be,y.noise[c]=Te),Te=Y[d++]=Te/I[f++],Te=We.FAST_LOG10(Math.max(Te,1e-20)),null!=y&&(y.noise_log[c]=Te)}null!=y&&(y.global_gain=T.global_gain),P+=Te,Te>0&&(yt=Math.max(0|10*Te+.5,1),A.over_SSD+=yt*yt,w++,v+=Te),G=Math.max(G,Te)}return A.over_count=w,A.tot_noise=P,A.over_noise=v,A.max_noise=G,w},this.set_pinfo=function(T,I,Y,A,y){var f,c,b,w,v,d=T.internal_flags,P=0==I.scalefac_scale?.5:1,G=I.scalefac,L=at(L3Side.SFBMAX),K=at(L3Side.SFBMAX),ue=new CalcNoiseResult;calc_xmin(T,Y,I,L),calc_noise(I,L,K,ue,null);var be=0;for(c=I.sfb_lmax,I.block_type!=O.SHORT_TYPE&&0==I.mixed_block_flag&&(c=22),f=0;f<c;f++){var Qe=(je=d.scalefac_band.l[f+1])-(Te=d.scalefac_band.l[f]);for(w=0;be<je;be++)w+=I.xr[be]*I.xr[be];d.pinfo.en[A][y][f]=(v=1e15)*(w/=Qe),d.pinfo.xfsf[A][y][f]=v*L[f]*K[f]/Qe,Y.en.l[f]>0&&!T.ATHonly?w/=Y.en.l[f]:w=0,d.pinfo.thr[A][y][f]=v*Math.max(w*Y.thm.l[f],d.ATH.l[f]),d.pinfo.LAMEsfb[A][y][f]=0,0!=I.preflag&&f>=11&&(d.pinfo.LAMEsfb[A][y][f]=-P*F[f]),f<O.SBPSY_l&&(j(G[f]>=0),d.pinfo.LAMEsfb[A][y][f]-=P*G[f])}if(I.block_type==O.SHORT_TYPE)for(c=f,f=I.sfb_smin;f<O.SBMAX_s;f++){Qe=(je=d.scalefac_band.s[f+1])-(Te=d.scalefac_band.s[f]);for(var Te,je,rt=0;rt<3;rt++){for(w=0,b=Te;b<je;b++)w+=I.xr[be]*I.xr[be],be++;w=Math.max(w/Qe,1e-20),d.pinfo.en_s[A][y][3*f+rt]=(v=1e15)*w,d.pinfo.xfsf_s[A][y][3*f+rt]=v*L[c]*K[c]/Qe,Y.en.s[f][rt]>0?w/=Y.en.s[f][rt]:w=0,(T.ATHonly||T.ATHshort)&&(w=0),d.pinfo.thr_s[A][y][3*f+rt]=v*Math.max(w*Y.thm.s[f][rt],d.ATH.s[f]),d.pinfo.LAMEsfb_s[A][y][3*f+rt]=-2*I.subblock_gain[rt],f<O.SBPSY_s&&(d.pinfo.LAMEsfb_s[A][y][3*f+rt]-=P*G[c]),c++}}d.pinfo.LAMEqss[A][y]=I.global_gain,d.pinfo.LAMEmainbits[A][y]=I.part2_3_length+I.part2_length,d.pinfo.LAMEsfbits[A][y]=I.part2_length,d.pinfo.over[A][y]=ue.over_count,d.pinfo.max_noise[A][y]=10*ue.max_noise,d.pinfo.over_noise[A][y]=10*ue.over_noise,d.pinfo.tot_noise[A][y]=10*ue.tot_noise,d.pinfo.over_SSD[A][y]=ue.over_SSD}}Xe.Q_MAX=257,Xe.Q_MAX2=116,Xe.LARGE_BITS=1e5,Xe.IXMAX_VAL=8206,Ze.exports=Xe},336:(Ze,ke,B)=>{var E=B(284),Ee=E.new_float,He=E.new_int,j=B(439);Ze.exports=function O(){this.linprebuf=Ee(2*j.MAX_ORDER),this.linpre=0,this.lstepbuf=Ee(j.MAX_SAMPLES_PER_WINDOW+j.MAX_ORDER),this.lstep=0,this.loutbuf=Ee(j.MAX_SAMPLES_PER_WINDOW+j.MAX_ORDER),this.lout=0,this.rinprebuf=Ee(2*j.MAX_ORDER),this.rinpre=0,this.rstepbuf=Ee(j.MAX_SAMPLES_PER_WINDOW+j.MAX_ORDER),this.rstep=0,this.routbuf=Ee(j.MAX_SAMPLES_PER_WINDOW+j.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=He(0|j.STEPS_per_dB*j.MAX_dB),this.B=He(0|j.STEPS_per_dB*j.MAX_dB)}},112:(Ze,ke,B)=>{var ge=B(284).assert;Ze.exports=function Fe(){var Ft;this.setModules=function($e){Ft=$e},this.ResvFrameBegin=function($e,Ge){var Pt,We=$e.internal_flags,ht=We.l3_side,xt=Ft.getframebits($e);Ge.bits=(xt-8*We.sideinfo_len)/We.mode_gr;var Ee=2048*We.mode_gr-8;$e.brate>320?Pt=8*int(1e3*$e.brate/($e.out_samplerate/1152)/8+.5):(Pt=11520,$e.strict_ISO&&(Pt=8*int(32e4/($e.out_samplerate/1152)/8+.5))),We.ResvMax=Pt-xt,We.ResvMax>Ee&&(We.ResvMax=Ee),(We.ResvMax<0||$e.disable_reservoir)&&(We.ResvMax=0);var at=Ge.bits*We.mode_gr+Math.min(We.ResvSize,We.ResvMax);return at>Pt&&(at=Pt),ge(We.ResvMax%8==0),ge(We.ResvMax>=0),ht.resvDrain_pre=0,null!=We.pinfo&&(We.pinfo.mean_bits=Ge.bits/2,We.pinfo.resvsize=We.ResvSize),at},this.ResvMaxBits=function($e,Ge,We,Pt){var xt,ht=$e.internal_flags,Ee=ht.ResvSize,at=ht.ResvMax;0!=Pt&&(Ee+=Ge),1&ht.substep_shaping&&(at*=.9),We.bits=Ge,10*Ee>9*at?(We.bits+=xt=Ee-9*at/10,ht.substep_shaping|=128):(xt=0,ht.substep_shaping&=127,!$e.disable_reservoir&&!(1&ht.substep_shaping)&&(We.bits-=.1*Ge));var He=Ee<6*ht.ResvMax/10?Ee:6*ht.ResvMax/10;return(He-=xt)<0&&(He=0),He},this.ResvAdjust=function($e,Ge){$e.ResvSize-=Ge.part2_3_length+Ge.part2_length},this.ResvFrameEnd=function($e,Ge){var We,Pt=$e.l3_side;$e.ResvSize+=Ge*$e.mode_gr;var ht=0;Pt.resvDrain_post=0,Pt.resvDrain_pre=0,0!=(We=$e.ResvSize%8)&&(ht+=We),(We=$e.ResvSize-ht-$e.ResvMax)>0&&(ge(We%8==0),ge(We>=0),ht+=We);var xt=Math.min(8*Pt.main_data_begin,ht)/8;Pt.resvDrain_pre+=8*xt,ht-=8*xt,$e.ResvSize-=8*xt,Pt.main_data_begin-=xt,Pt.resvDrain_post+=ht,$e.ResvSize-=ht}}},554:(Ze,ke,B)=>{var E=B(284),ge=E.System,He=E.new_int,j=B(348);Ze.exports=function O(ee,se,Xe,he){this.l=He(1+j.SBMAX_l),this.s=He(1+j.SBMAX_s),this.psfb21=He(1+j.PSFB21),this.psfb12=He(1+j.PSFB12);var mt=this.l,oe=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],ge.arraycopy(this.arrL,0,mt,0,Math.min(this.arrL.length,this.l.length)),ge.arraycopy(this.arrS,0,oe,0,Math.min(this.arrS.length,this.s.length)),ge.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),ge.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}},396:Ze=>{function ke(E,ge,Fe,Ft){this.xlen=E,this.linmax=ge,this.table=Fe,this.hlen=Ft}var B={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};B.ht=[new ke(0,0,null,null),new ke(2,0,B.t1HB,B.t1l),new ke(3,0,B.t2HB,B.t2l),new ke(3,0,B.t3HB,B.t3l),new ke(0,0,null,null),new ke(4,0,B.t5HB,B.t5l),new ke(4,0,B.t6HB,B.t6l),new ke(6,0,B.t7HB,B.t7l),new ke(6,0,B.t8HB,B.t8l),new ke(6,0,B.t9HB,B.t9l),new ke(8,0,B.t10HB,B.t10l),new ke(8,0,B.t11HB,B.t11l),new ke(8,0,B.t12HB,B.t12l),new ke(16,0,B.t13HB,B.t13l),new ke(0,0,null,B.t16_5l),new ke(16,0,B.t15HB,B.t15l),new ke(1,1,B.t16HB,B.t16l),new ke(2,3,B.t16HB,B.t16l),new ke(3,7,B.t16HB,B.t16l),new ke(4,15,B.t16HB,B.t16l),new ke(6,63,B.t16HB,B.t16l),new ke(8,255,B.t16HB,B.t16l),new ke(10,1023,B.t16HB,B.t16l),new ke(13,8191,B.t16HB,B.t16l),new ke(4,15,B.t24HB,B.t24l),new ke(5,31,B.t24HB,B.t24l),new ke(6,63,B.t24HB,B.t24l),new ke(7,127,B.t24HB,B.t24l),new ke(8,255,B.t24HB,B.t24l),new ke(9,511,B.t24HB,B.t24l),new ke(11,2047,B.t24HB,B.t24l),new ke(13,8191,B.t24HB,B.t24l),new ke(0,0,B.t32HB,B.t32l),new ke(0,0,B.t33HB,B.t33l)],B.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],B.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],B.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],B.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],B.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],B.scfsi_band=[0,6,11,16,21],Ze.exports=B},976:(Ze,ke,B)=>{var E=B(284),ge=E.System,We=E.Arrays,He=E.new_int,U=E.assert,j=B(348),O=B(396),ee=B(43),se=B(588);Ze.exports=function Xe(){var he=null;function mt(d){this.bits=0|d}this.qupvt=null,this.setModules=function(d){this.qupvt=d,he=d};var oe=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function _e(d,f,c,b,w,v){var P=.5946/f;for(U(d>0),d>>=1;0!=d--;)w[v++]=P>c[b++]?0:1,w[v++]=P>c[b++]?0:1}function Re(d,f,c,b,w,v){U(d>0);var P=(d>>=1)%2;for(d>>=1;0!=d--;){var G,L,K,ue,je,Qe;G=c[b++]*f,L=c[b++]*f,je=0|(K=c[b++]*f),Qe=0|(ue=c[b++]*f),L+=he.adj43[0|L],w[v++]=0|(G+=he.adj43[0|G]),K+=he.adj43[je],w[v++]=0|L,ue+=he.adj43[Qe],w[v++]=0|K,w[v++]=0|ue}0!=P&&(G=c[b++]*f,L=c[b++]*f,L+=he.adj43[0|L],w[v++]=0|(G+=he.adj43[0|G]),w[v++]=0|L)}var p=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function F(d,f,c,b){var w=function q(d,f,c){var b=0,w=0;do{var v=d[f++],P=d[f++];b<v&&(b=v),w<P&&(w=P)}while(f<c);return b<w&&(b=w),b}(d,f,c);switch(w){case 0:return w;case 1:return function le(d,f,c,b){var w=0,v=O.ht[1].hlen;do{var P=2*d[f+0]+d[f+1];f+=2,w+=v[P]}while(f<c);return b.bits+=w,1}(d,f,c,b);case 2:case 3:return function N(d,f,c,b,w){var P,L,v=0,G=O.ht[b].xlen;L=2==b?O.table23:O.table56;do{var K=d[f+0]*G+d[f+1];f+=2,v+=L[K]}while(f<c);return P=65535&v,(v>>=16)>P&&(v=P,b++),w.bits+=v,b}(d,f,c,p[w-1],b);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function C(d,f,c,b,w){var v=0,P=0,G=0,L=O.ht[b].xlen,K=O.ht[b].hlen,ue=O.ht[b+1].hlen,be=O.ht[b+2].hlen;do{var Te=d[f+0]*L+d[f+1];f+=2,v+=K[Te],P+=ue[Te],G+=be[Te]}while(f<c);var je=b;return v>P&&(v=P,je++),v>G&&(v=G,je=b+2),w.bits+=v,je}(d,f,c,p[w-1],b);default:if(w>se.IXMAX_VAL)return b.bits=se.LARGE_BITS,-1;var v,P;for(w-=15,v=24;v<32&&!(O.ht[v].linmax>=w);v++);for(P=v-8;P<24&&!(O.ht[P].linmax>=w);P++);return function ve(d,f,c,b,w,v){var L,P=65536*O.ht[b].xlen+O.ht[w].xlen,G=0;do{var K=d[f++],ue=d[f++];0!=K&&(K>14&&(K=15,G+=P),K*=16),0!=ue&&(ue>14&&(ue=15,G+=P),K+=ue),G+=O.largetbl[K]}while(f<c);return L=65535&G,(G>>=16)>L&&(G=L,b=w),v.bits+=G,b}(d,f,c,P,v,b)}}function pe(d,f,c,b,w,v,P,G){for(var L=f.big_values,K=2;K<j.SBMAX_l+1;K++){var ue=d.scalefac_band.l[K];if(ue>=L)break;var be=w[K-2]+f.count1bits;if(c.part2_3_length<=be)break;var Te=new mt(be),je=F(b,ue,L,Te);!(c.part2_3_length<=(be=Te.bits))&&(c.assign(f),c.part2_3_length=be,c.region0_count=v[K-2],c.region1_count=K-2-v[K-2],c.table_select[0]=P[K-2],c.table_select[1]=G[K-2],c.table_select[2]=je)}}this.noquant_count_bits=function(d,f,c){var b=f.l3_enc,w=Math.min(576,f.max_nonzero_coeff+2>>1<<1);for(null!=c&&(c.sfb_count1=0);w>1&&!(b[w-1]|b[w-2]);w-=2);f.count1=w;for(var v=0,P=0;w>3;w-=4){var G;if((2147483647&(b[w-1]|b[w-2]|b[w-3]|b[w-4]))>1)break;v+=O.t32l[G=2*(2*(2*b[w-4]+b[w-3])+b[w-2])+b[w-1]],P+=O.t33l[G]}var L=v;if(f.count1table_select=0,v>P&&(L=P,f.count1table_select=1),f.count1bits=L,f.big_values=w,0==w)return L;if(f.block_type==j.SHORT_TYPE)(v=3*d.scalefac_band.s[3])>f.big_values&&(v=f.big_values),P=f.big_values;else if(f.block_type==j.NORM_TYPE){if(U(w<=576),v=f.region0_count=d.bv_scf[w-2],P=f.region1_count=d.bv_scf[w-1],U(v+P+2<j.SBPSY_l),P=d.scalefac_band.l[v+P+2],v=d.scalefac_band.l[v+1],P<w){var K=new mt(L);f.table_select[2]=F(b,P,w,K),L=K.bits}}else f.region0_count=7,f.region1_count=j.SBMAX_l-1-7-1,(v=d.scalefac_band.l[8])>(P=w)&&(v=P);if(v=Math.min(v,w),P=Math.min(P,w),U(v>=0),U(P>=0),0<v&&(K=new mt(L),f.table_select[0]=F(b,0,v,K),L=K.bits),v<P&&(K=new mt(L),f.table_select[1]=F(b,v,P,K),L=K.bits),2==d.use_best_huffman&&(f.part2_3_length=L,best_huffman_divide(d,f),L=f.part2_3_length),null!=c&&f.block_type==j.NORM_TYPE){for(var ue=0;d.scalefac_band.l[ue]<f.big_values;)ue++;c.sfb_count1=ue}return L},this.count_bits=function(d,f,c,b){var w=c.l3_enc,v=se.IXMAX_VAL/he.IPOW20(c.global_gain);if(c.xrpow_max>v)return se.LARGE_BITS;if(function xe(d,f,c,b,w){var v,P,L,G=0,K=0,ue=0,be=0,Te=f,je=0,Qe=Te,rt=0,yt=d,un=0;for(L=null!=w&&b.global_gain==w.global_gain,P=b.block_type==j.SHORT_TYPE?38:21,v=0;v<=P;v++){var g=-1;if((L||b.block_type==j.NORM_TYPE)&&(g=b.global_gain-(b.scalefac[v]+(0!=b.preflag?he.pretab[v]:0)<<b.scalefac_scale+1)-8*b.subblock_gain[b.window[v]]),U(b.width[v]>=0),L&&w.step[v]==g)0!=K&&(Re(K,c,yt,un,Qe,rt),K=0),0!=ue&&(_e(ue,c,yt,un,Qe,rt),ue=0);else{var Pe,D=b.width[v];if(G+b.width[v]>b.max_nonzero_coeff&&(Pe=b.max_nonzero_coeff-G+1,We.fill(f,b.max_nonzero_coeff,576,0),(D=Pe)<0&&(D=0),v=P+1),0==K&&0==ue&&(Qe=Te,rt=je,yt=d,un=be),null!=w&&w.sfb_count1>0&&v>=w.sfb_count1&&w.step[v]>0&&g>=w.step[v]?(0!=K&&(Re(K,c,yt,un,Qe,rt),K=0,Qe=Te,rt=je,yt=d,un=be),ue+=D):(0!=ue&&(_e(ue,c,yt,un,Qe,rt),ue=0,Qe=Te,rt=je,yt=d,un=be),K+=D),D<=0){0!=ue&&(_e(ue,c,yt,un,Qe,rt),ue=0),0!=K&&(Re(K,c,yt,un,Qe,rt),K=0);break}}v<=P&&(je+=b.width[v],be+=b.width[v],G+=b.width[v])}0!=K&&(Re(K,c,yt,un,Qe,rt),K=0),0!=ue&&(_e(ue,c,yt,un,Qe,rt),ue=0)}(f,w,he.IPOW20(c.global_gain),c,b),2&d.substep_shaping)for(var P=0,L=.634521682242439/he.IPOW20(c.global_gain+c.scalefac_scale),K=0;K<c.sfbmax;K++){var be,ue=c.width[K];if(U(ue>=0),0==d.pseudohalf[K])P+=ue;else for(be=P,P+=ue;be<P;++be)w[be]=f[be]>=L?w[be]:0}return this.noquant_count_bits(d,c,b)},this.best_huffman_divide=function(d,f){var c=new ee,b=f.l3_enc,w=He(23),v=He(23),P=He(23),G=He(23);if(f.block_type!=j.SHORT_TYPE||1!=d.mode_gr){c.assign(f),f.block_type==j.NORM_TYPE&&(function W(d,f,c,b,w,v,P){for(var G=f.big_values,L=0;L<=22;L++)b[L]=se.LARGE_BITS;for(L=0;L<16;L++){var K=d.scalefac_band.l[L+1];if(K>=G)break;var ue=0,be=new mt(ue),Te=F(c,0,K,be);ue=be.bits;for(var je=0;je<8;je++){var Qe=d.scalefac_band.l[L+je+2];if(Qe>=G)break;var rt=ue,yt=F(c,K,Qe,be=new mt(rt));b[L+je]>(rt=be.bits)&&(b[L+je]=rt,w[L+je]=L,v[L+je]=Te,P[L+je]=yt)}}}(d,f,b,w,v,P,G),pe(d,c,f,b,w,v,P,G));var L=c.big_values;if(!(0==L||(b[L-2]|b[L-1])>1||(L=f.count1+2,L>576))){c.assign(f),c.count1=L;var K=0,ue=0;for(U(L<=576);L>c.big_values;L-=4){var be=2*(2*(2*b[L-4]+b[L-3])+b[L-2])+b[L-1];K+=O.t32l[be],ue+=O.t33l[be]}if(c.big_values=L,c.count1table_select=0,K>ue&&(K=ue,c.count1table_select=1),c.count1bits=K,c.block_type==j.NORM_TYPE)pe(d,c,f,b,w,v,P,G);else{if(c.part2_3_length=K,(K=d.scalefac_band.l[8])>L&&(K=L),K>0){var Te=new mt(c.part2_3_length);c.table_select[0]=F(b,0,K,Te),c.part2_3_length=Te.bits}L>K&&(Te=new mt(c.part2_3_length),c.table_select[1]=F(b,K,L,Te),c.part2_3_length=Te.bits),f.part2_3_length>c.part2_3_length&&f.assign(c)}}}};var X=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],z=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],de=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],Me=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];Xe.slen1_tab=de,Xe.slen2_tab=Me,this.best_scalefac_store=function(d,f,c,b){var v,P,G,L,w=b.tt[f][c],K=0;for(G=0,v=0;v<w.sfbmax;v++){var ue=w.width[v];for(U(ue>=0),G+=ue,L=-ue;L<0&&0==w.l3_enc[L+G];L++);0==L&&(w.scalefac[v]=K=-2)}if(0==w.scalefac_scale&&0==w.preflag){var be=0;for(v=0;v<w.sfbmax;v++)w.scalefac[v]>0&&(be|=w.scalefac[v]);if(!(1&be)&&0!=be){for(v=0;v<w.sfbmax;v++)w.scalefac[v]>0&&(w.scalefac[v]>>=1);w.scalefac_scale=K=1}}if(0==w.preflag&&w.block_type!=j.SHORT_TYPE&&2==d.mode_gr){for(v=11;v<j.SBPSY_l&&!(w.scalefac[v]<he.pretab[v]&&-2!=w.scalefac[v]);v++);if(v==j.SBPSY_l){for(v=11;v<j.SBPSY_l;v++)w.scalefac[v]>0&&(w.scalefac[v]-=he.pretab[v]);w.preflag=K=1}}for(P=0;P<4;P++)b.scfsi[c][P]=0;for(2==d.mode_gr&&1==f&&b.tt[0][c].block_type!=j.SHORT_TYPE&&b.tt[1][c].block_type!=j.SHORT_TYPE&&(function H(d,f){for(var c,b=f.tt[1][d],w=f.tt[0][d],v=0;v<O.scfsi_band.length-1;v++){for(c=O.scfsi_band[v];c<O.scfsi_band[v+1]&&!(w.scalefac[c]!=b.scalefac[c]&&b.scalefac[c]>=0);c++);if(c==O.scfsi_band[v+1]){for(c=O.scfsi_band[v];c<O.scfsi_band[v+1];c++)b.scalefac[c]=-1;f.scfsi[d][v]=1}}var P=0,G=0;for(c=0;c<11;c++)-1!=b.scalefac[c]&&(G++,P<b.scalefac[c]&&(P=b.scalefac[c]));for(var L=0,K=0;c<j.SBPSY_l;c++)-1!=b.scalefac[c]&&(K++,L<b.scalefac[c]&&(L=b.scalefac[c]));for(v=0;v<16;v++)if(P<X[v]&&L<z[v]){var ue=de[v]*G+Me[v]*K;b.part2_length>ue&&(b.part2_length=ue,b.scalefac_compress=v)}}(c,b),K=0),v=0;v<w.sfbmax;v++)-2==w.scalefac[v]&&(w.scalefac[v]=0);0!=K&&(2==d.mode_gr?this.scale_bitcount(w):this.scale_bitcount_lsf(d,w))};var T=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],I=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],Y=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(d){var f,c,v,b=0,w=0,P=d.scalefac;if(U(function h(d,f){for(var c=0;c<f;++c)if(d[c]<0)return!1;return!0}(P,d.sfbmax)),d.block_type==j.SHORT_TYPE)v=T,0!=d.mixed_block_flag&&(v=I);else if(v=Y,0==d.preflag){for(c=11;c<j.SBPSY_l&&!(P[c]<he.pretab[c]);c++);if(c==j.SBPSY_l)for(d.preflag=1,c=11;c<j.SBPSY_l;c++)P[c]-=he.pretab[c]}for(c=0;c<d.sfbdivide;c++)b<P[c]&&(b=P[c]);for(;c<d.sfbmax;c++)w<P[c]&&(w=P[c]);for(d.part2_length=se.LARGE_BITS,f=0;f<16;f++)b<X[f]&&w<z[f]&&d.part2_length>v[f]&&(d.part2_length=v[f],d.scalefac_compress=f);return d.part2_length==se.LARGE_BITS};var A=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(d,f){var c,b,w,v,P,G,L,K,ue=He(4),be=f.scalefac;for(c=0!=f.preflag?2:0,L=0;L<4;L++)ue[L]=0;if(f.block_type==j.SHORT_TYPE){var Te=he.nr_of_sfb_block[c][b=1];for(K=0,w=0;w<4;w++)for(v=Te[w]/3,L=0;L<v;L++,K++)for(P=0;P<3;P++)be[3*K+P]>ue[w]&&(ue[w]=be[3*K+P])}else for(Te=he.nr_of_sfb_block[c][b=0],K=0,w=0;w<4;w++)for(v=Te[w],L=0;L<v;L++,K++)be[K]>ue[w]&&(ue[w]=be[K]);for(G=!1,w=0;w<4;w++)ue[w]>A[c][w]&&(G=!0);if(!G){var je,Qe,rt,yt;for(f.sfb_partition_table=he.nr_of_sfb_block[c][b],w=0;w<4;w++)f.slen[w]=y[ue[w]];switch(je=f.slen[0],Qe=f.slen[1],rt=f.slen[2],yt=f.slen[3],c){case 0:f.scalefac_compress=(5*je+Qe<<4)+(rt<<2)+yt;break;case 1:f.scalefac_compress=400+(5*je+Qe<<2)+rt;break;case 2:f.scalefac_compress=500+3*je+Qe;break;default:ge.err.printf("intensity stereo not implemented yet\n")}}if(!G)for(U(null!=f.sfb_partition_table),f.part2_length=0,w=0;w<4;w++)f.part2_length+=f.slen[w]*f.sfb_partition_table[w];return G};var y=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(d){for(var f=2;f<=576;f+=2){for(var b,c=0;d.scalefac_band.l[++c]<f;);for(b=oe[c][0];d.scalefac_band.l[b+1]>f;)b--;for(b<0&&(b=oe[c][0]),d.bv_scf[f-2]=b,b=oe[c][1];d.scalefac_band.l[b+d.bv_scf[f-2]+2]>f;)b--;b<0&&(b=oe[c][1]),d.bv_scf[f-1]=b}}}},793:Ze=>{Ze.exports=function ke(){this.setModules=function(ge,Fe){}}},256:Ze=>{Ze.exports=function ke(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}},951:(Ze,ke,B)=>{var E=B(284),ge=E.System,Fe=E.VbrMode,$e=E.ShortBlock,We=E.Arrays,ht=E.new_byte,U=E.assert;function j(){var O,ee,se;this.setModules=function(y,d,f){O=y,ee=d,se=f};var _e=j.NUMTOCENTRIES,Re=j.MAXFRAMESIZE,q=_e+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,p="Xing",F="Info",W=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function z(y,d){var f=255&y[d+0];return f<<=8,f|=255&y[d+1],f<<=8,f|=255&y[d+2],(f<<=8)|255&y[d+3]}function de(y,d,f){y[d+0]=255&f>>24,y[d+1]=255&f>>16,y[d+2]=255&f>>8,y[d+3]=255&f}function Me(y,d,f){y[d+0]=255&f>>8,y[d+1]=255&f}function h(y,d,f){return 255&(y<<d|f&~(-1<<d))}function T(y,d){var f=y.internal_flags;d[0]=h(d[0],8,255),d[1]=h(d[1],3,7),d[1]=h(d[1],1,y.out_samplerate<16e3?0:1),d[1]=h(d[1],1,y.version),d[1]=h(d[1],2,1),d[1]=h(d[1],1,y.error_protection?0:1),d[2]=h(d[2],4,f.bitrate_index),d[2]=h(d[2],2,f.samplerate_index),d[2]=h(d[2],1,0),d[2]=h(d[2],1,y.extension),d[3]=h(d[3],2,y.mode.ordinal()),d[3]=h(d[3],2,f.mode_ext),d[3]=h(d[3],1,y.copyright),d[3]=h(d[3],1,y.original),d[3]=h(d[3],2,y.emphasis),d[0]=255;var b,w,c=241&d[1];b=1==y.version?128:y.out_samplerate<16e3?32:64,y.VBR==Fe.vbr_off&&(b=y.brate),w=y.free_format?0:255&16*O.BitrateIndex(b,y.version,y.out_samplerate),1==y.version?(d[1]=255&(10|c),d[2]=255&(w|(c=13&d[2]))):(d[1]=255&(2|c),d[2]=255&(w|(c=13&d[2])))}function I(y,d){return d>>8^W[255&(d^y)]}this.addVbrFrame=function(y){var d=y.internal_flags,f=Tables.bitrate_table[y.version][d.bitrate_index];U(null!=d.VBR_seek_table.bag),function pe(y,d){if(y.nVbrNumFrames++,y.sum+=d,y.seen++,!(y.seen<y.want)&&(y.pos<y.size&&(y.bag[y.pos]=y.sum,y.pos++,y.seen=0),y.pos==y.size)){for(var f=1;f<y.size;f+=2)y.bag[f/2]=y.bag[f];y.want*=2,y.pos/=2}}(d.VBR_seek_table,f)},this.getVbrTag=function(y){var d=new VBRTagData,f=0;d.flags=0;var c=y[f+1]>>3&1,b=y[f+2]>>2&3,w=y[f+3]>>6&3,v=y[f+2]>>4&15;if(v=Tables.bitrate_table[c][v],d.samprate=y[f+1]>>4==14?Tables.samplerate_table[2][b]:Tables.samplerate_table[c][b],!function H(y,d){return new String(y,d,4(),null).equals(p)||new String(y,d,4(),null).equals(F)}(y,f+=0!=c?3!=w?36:21:3!=w?21:13))return null;f+=4,d.hId=c;var P=d.flags=z(y,f);if(f+=4,1&P&&(d.frames=z(y,f),f+=4),2&P&&(d.bytes=z(y,f),f+=4),4&P){if(null!=d.toc)for(var G=0;G<_e;G++)d.toc[G]=y[f+G];f+=_e}d.vbrScale=-1,8&P&&(d.vbrScale=z(y,f),f+=4),d.headersize=72e3*(c+1)*v/d.samprate;var L=y[(f+=21)+0]<<4,K=(15&y[f+1])<<8;return((L+=y[f+1]>>4)<0||L>3e3)&&(L=-1),((K+=255&y[f+2])<0||K>3e3)&&(K=-1),d.encDelay=L,d.encPadding=K,d},this.InitVbrTag=function(y){var f,d=y.internal_flags;f=1==y.version?128:y.out_samplerate<16e3?32:64,y.VBR==Fe.vbr_off&&(f=y.brate);var c=72e3*(y.version+1)*f/y.out_samplerate,b=d.sideinfo_len+q;if(d.VBR_seek_table.TotalFrameSize=c,c<b||c>Re)y.bWriteVbrTag=!1;else{d.VBR_seek_table.nVbrNumFrames=0,d.VBR_seek_table.nBytesWritten=0,d.VBR_seek_table.sum=0,d.VBR_seek_table.seen=0,d.VBR_seek_table.want=1,d.VBR_seek_table.pos=0,null==d.VBR_seek_table.bag&&(d.VBR_seek_table.bag=new int[400],d.VBR_seek_table.size=400);var w=ht(Re);T(y,w);for(var v=d.VBR_seek_table.TotalFrameSize,P=0;P<v;++P)ee.add_dummy_byte(y,255&w[P],1)}},this.updateMusicCRC=function(y,d,f,c){for(var b=0;b<c;++b)y[0]=I(d[f+b],y[0])},this.getLameTagFrame=function(y,d){var f=y.internal_flags;if(!y.bWriteVbrTag||f.Class_ID!=Lame.LAME_ID||f.VBR_seek_table.pos<=0)return 0;if(d.length<f.VBR_seek_table.TotalFrameSize)return f.VBR_seek_table.TotalFrameSize;We.fill(d,0,f.VBR_seek_table.TotalFrameSize,0),T(y,d);var c=ht(_e);if(y.free_format)for(var b=1;b<_e;++b)c[b]=255&255*b/100;else!function X(y,d){if(!(y.pos<=0))for(var f=1;f<_e;++f){var v=0|Math.floor(f/_e*y.pos);v>y.pos-1&&(v=y.pos-1);var P=0|256*y.bag[v]/y.sum;P>255&&(P=255),d[f]=255&P}}(f.VBR_seek_table,c);var w=f.sideinfo_len;y.error_protection&&(w-=2),y.VBR==Fe.vbr_off?(d[w++]=255&F.charAt(0),d[w++]=255&F.charAt(1),d[w++]=255&F.charAt(2),d[w++]=255&F.charAt(3)):(d[w++]=255&p.charAt(0),d[w++]=255&p.charAt(1),d[w++]=255&p.charAt(2),d[w++]=255&p.charAt(3)),de(d,w,15),de(d,w+=4,f.VBR_seek_table.nVbrNumFrames);var v=f.VBR_seek_table.nBytesWritten+f.VBR_seek_table.TotalFrameSize;de(d,w+=4,0|v),ge.arraycopy(c,0,d,w+=4,c.length),w+=c.length,y.error_protection&&ee.CRC_writeheader(f,d);var P=0;for(b=0;b<w;b++)P=I(d[b],P);return w+=function Y(y,d,f,c,b){var Te,ct,gt,Xt,an,w=y.internal_flags,v=0,P=y.encoder_delay,G=y.encoder_padding,L=100-10*y.VBR_q-y.quality,K=se.getLameVeryShortVersion(),je=[1,5,3,2,4,0,3],Qe=0|(y.lowpassfreq/100+.5>255?255:y.lowpassfreq/100+.5),rt=0,yt=0,g=y.internal_flags.noise_shaping,D=0,Pe=0,st=0!=(1&y.exp_nspsytune),Je=0!=(2&y.exp_nspsytune),kt=!1,pt=!1,Le=y.internal_flags.nogap_total,zt=y.internal_flags.nogap_current,wn=y.ATHtype;switch(y.VBR){case vbr_abr:an=y.VBR_mean_bitrate_kbps;break;case vbr_off:an=y.brate;break;default:an=y.VBR_min_bitrate_kbps}switch(Te=0+(y.VBR.ordinal()<je.length?je[y.VBR.ordinal()]:0),w.findReplayGain&&(w.RadioGain>510&&(w.RadioGain=510),w.RadioGain<-510&&(w.RadioGain=-510),yt=8192,yt|=3072,w.RadioGain>=0?yt|=w.RadioGain:(yt|=512,yt|=-w.RadioGain)),w.findPeakSample&&(rt=Math.abs(0|w.PeakSample/32767*Math.pow(2,23)+.5)),-1!=Le&&(zt>0&&(pt=!0),zt<Le-1&&(kt=!0)),Xt=wn+((st?1:0)<<4)+((Je?1:0)<<5)+((kt?1:0)<<6)+((pt?1:0)<<7),L<0&&(L=0),y.mode){case MONO:D=0;break;case STEREO:D=1;break;case DUAL_CHANNEL:D=2;break;case JOINT_STEREO:D=y.force_ms?4:3;break;case NOT_SET:default:D=7}(y.short_blocks==$e.short_block_forced||y.short_blocks==$e.short_block_dispensed||-1==y.lowpassfreq&&-1==y.highpassfreq||y.scale_left<y.scale_right||y.scale_left>y.scale_right||y.disable_reservoir&&y.brate<320||y.noATH||y.ATHonly||0==wn||y.in_samplerate<=32e3)&&(Pe=1),ct=g+(D<<2)+(Pe<<5)+((y.in_samplerate<=32e3?0:48e3==y.in_samplerate?2:y.in_samplerate>48e3?3:1)<<6),gt=w.nMusicCRC,de(f,c+v,L),v+=4;for(var gn=0;gn<9;gn++)f[c+v+gn]=255&K.charAt(gn);f[c+(v+=9)]=255&Te,f[c+ ++v]=255&Qe,de(f,c+ ++v,rt),Me(f,c+(v+=4),yt),Me(f,c+(v+=2),0),f[c+(v+=2)]=255&Xt,f[c+ ++v]=an>=255?255:255&an,f[c+ ++v]=255&P>>4,f[c+v+1]=255&(P<<4)+(G>>8),f[c+v+2]=255&G,f[c+(v+=3)]=255&ct,v++,f[c+v++]=0,Me(f,c+v,y.preset),de(f,c+(v+=2),d),Me(f,c+(v+=4),gt),v+=2;for(var cn=0;cn<v;cn++)b=I(f[c+cn],b);return Me(f,c+v,b),v+2}(y,v,d,w,P),f.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(y,d){if(y.internal_flags.VBR_seek_table.pos<=0||(d.seek(d.length()),0==d.length()))return-1;var c=function A(y){y.seek(0);var d=ht(10);return y.readFully(d),new String(d,"ISO-8859-1").startsWith("ID3")?0:((127&d[6])<<21|(127&d[7])<<14|(127&d[8])<<7|127&d[9])+d.length}(d);d.seek(c);var b=ht(Re),w=getLameTagFrame(y,b);return w>b.length?-1:(w<1||d.write(b,0,w),0)}}j.NUMTOCENTRIES=100,j.MAXFRAMESIZE=2880,Ze.exports=j},433:Ze=>{Ze.exports=function ke(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}}},284:Ze=>{function B(U){return new Int16Array(U)}function E(U){return new Int32Array(U)}function ge(U){return new Float32Array(U)}var ht={arraycopy:function(U,j,O,ee,se){for(var Xe=j+se;j<Xe;)O[ee++]=U[j++]},out:{}};ht.out.println=function(U){console.log(U)},ht.out.printf=function(){console.log.apply(console,arguments)};var xt={};function Ee(U){this.ordinal=U}xt.SQRT2=1.4142135623730951,xt.FAST_LOG10=function(U){return Math.log10(U)},xt.FAST_LOG10_X=function(U,j){return Math.log10(U)*j},Ee.short_block_allowed=new Ee(0),Ee.short_block_coupled=new Ee(1),Ee.short_block_dispensed=new Ee(2),Ee.short_block_forced=new Ee(3);var at={};function He(U){this.ordinal=U}at.MAX_VALUE=34028235e31,He.vbr_off=new He(0),He.vbr_mt=new He(1),He.vbr_rh=new He(2),He.vbr_abr=new He(3),He.vbr_mtrh=new He(4),He.vbr_default=He.vbr_mtrh,Ze.exports={System:ht,VbrMode:He,Float:at,ShortBlock:Ee,Util:xt,Arrays:{fill:function(U,j,O,ee){if(2==arguments.length)for(var se=0;se<U.length;se++)U[se]=arguments[1];else for(se=j;se<O;se++)U[se]=ee}},new_array_n:function We(U){if(1==U.length)return new Array(U[0]);var j=U[0];U=U.slice(1);for(var O=[],ee=0;ee<j;ee++)O.push(We(U));return O},new_byte:function ke(U){return new Int8Array(U)},new_double:function Fe(U){return new Float64Array(U)},new_float:ge,new_float_n:function Ft(U){if(1==U.length)return ge(U[0]);var j=U[0];U=U.slice(1);for(var O=[],ee=0;ee<j;ee++)O.push(Ft(U));return O},new_int:E,new_int_n:function $e(U){if(1==U.length)return E(U[0]);var j=U[0];U=U.slice(1);for(var O=[],ee=0;ee<j;ee++)O.push($e(U));return O},new_short:B,new_short_n:function Ge(U){if(1==U.length)return B(U[0]);var j=U[0];U=U.slice(1);for(var O=[],ee=0;ee<j;ee++)O.push(Ge(U));return O},assert:function(U){}}},978:(Ze,ke,B)=>{var ge=B(284),xt=ge.new_byte,j=ge.assert,O=B(359),ee=B(48),se=B(439),Xe=B(588),he=B(824),mt=B(976),oe=B(112),_e=B(992),Re=B(227),q=(B(348),B(433)),ve=B(951);function le(){this.setModules=function(de,Me){}}function N(){this.setModules=function(Me,H,h){}}function C(){}function p(){this.setModules=function(de,Me){}}function W(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function pe(X){return X.charCodeAt(0)<<24|X.charCodeAt(1)<<16|X.charCodeAt(2)<<8|X.charCodeAt(3)}W.RIFF=pe("RIFF"),W.WAVE=pe("WAVE"),W.fmt_=pe("fmt "),W.data=pe("data"),W.readHeader=function(X){var z=new W,de=X.getUint32(0,!1);if(W.RIFF==de&&(X.getUint32(4,!0),W.WAVE==X.getUint32(8,!1)&&W.fmt_==X.getUint32(12,!1))){var H=X.getUint32(16,!0),h=20;switch(H){case 16:case 18:z.channels=X.getUint16(h+2,!0),z.sampleRate=X.getUint32(h+4,!0);break;default:throw"extended fmt chunk not implemented"}h+=H;for(var T=W.data,I=0;T!=de&&(de=X.getUint32(h,!1),I=X.getUint32(h+4,!0),T!=de);)h+=I+8;return z.dataLen=I,z.dataOffset=h+8,z}},Ze.exports.d=function F(X,z,de){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),X=1,z=44100,de=128);var Me=new O,H=new le,h=new se,T=new Re,I=new ee,Y=new Xe,A=new he,y=new ve,d=new q,f=new p,c=new oe,b=new mt,w=new N,v=new C;Me.setModules(h,T,I,Y,A,y,d,f,v),T.setModules(h,v,d,y),f.setModules(T,d),I.setModules(Me),A.setModules(T,c,Y,b),Y.setModules(b,c,Me.enc.psy),c.setModules(T),b.setModules(Y),y.setModules(Me,T,d),H.setModules(w,v),w.setModules(d,f,I);var P=Me.lame_init();P.num_channels=X,P.in_samplerate=z,P.brate=de,P.mode=_e.STEREO,P.quality=3,P.bWriteVbrTag=!1,P.disable_reservoir=!0,P.write_id3tag_automatic=!1;var G=Me.lame_init_params(P);j(0==G);var L=1152,K=0|1.25*L+7200,ue=xt(K);this.encodeBuffer=function(be,Te){1==X&&(Te=be),j(be.length==Te.length),be.length>L&&(ue=xt(K=0|1.25*(L=be.length)+7200));var je=Me.lame_encode_buffer(P,be,Te,be.length,ue,0,K);return new Int8Array(ue.subarray(0,je))},this.flush=function(){var be=Me.lame_encode_flush(P,ue,0,K);return new Int8Array(ue.subarray(0,be))}}}},Ze=>{Ze(Ze.s=219)}]);